<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project source="4.0.4-HC" version="1.0">
  This file is intended to be loaded by Logisim-evolution (https://github.com/kevinawalsh/logisim-evolution).

  <lib desc="#Wiring" name="0">
    <tool name="Splitter">
      <a name="appear" val="center"/>
      <a name="facing" val="west"/>
    </tool>
    <tool name="Pin">
      <a name="label" val="output"/>
      <a name="labelloc" val="north"/>
    </tool>
    <tool name="Probe">
      <a name="facing" val="north"/>
      <a name="radix" val="16"/>
    </tool>
    <tool name="Tunnel">
      <a name="width" val="2"/>
    </tool>
    <tool name="Clock">
      <a name="facing" val="north"/>
    </tool>
    <tool name="Bit Extender">
      <a name="in_width" val="3"/>
      <a name="out_width" val="2"/>
    </tool>
  </lib>
  <lib desc="#Gates" name="1">
    <tool name="NOT Gate">
      <a name="facing" val="south"/>
      <a name="size" val="20"/>
    </tool>
    <tool name="AND Gate">
      <a name="negate0" val="true"/>
      <a name="size" val="30"/>
    </tool>
    <tool name="OR Gate">
      <a name="size" val="30"/>
    </tool>
    <tool name="NAND Gate">
      <a name="facing" val="north"/>
      <a name="size" val="30"/>
    </tool>
    <tool name="Controlled Buffer">
      <a name="width" val="32"/>
    </tool>
    <tool name="PLA">
      <a name="table" val=""/>
    </tool>
  </lib>
  <lib desc="#Plexers" name="2">
    <tool name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="8"/>
    </tool>
    <tool name="Demultiplexer">
      <a name="enable" val="false"/>
      <a name="select" val="2"/>
    </tool>
    <tool name="Decoder">
      <a name="select" val="3"/>
    </tool>
  </lib>
  <lib desc="#Arithmetic" name="3">
    <tool name="Adder">
      <a name="width" val="32"/>
    </tool>
    <tool name="Subtractor">
      <a name="width" val="4"/>
    </tool>
    <tool name="Comparator">
      <a name="width" val="3"/>
    </tool>
  </lib>
  <lib desc="#Memory" name="4">
    <tool name="Counter">
      <a name="max" val="0xf"/>
      <a name="width" val="4"/>
    </tool>
    <tool name="RAM">
      <a name="addrWidth" val="3"/>
    </tool>
    <tool name="ROM">
      <a name="addrWidth" val="24"/>
      <a name="contents">addr/data: 24 8
0
</a>
    </tool>
  </lib>
  <lib desc="#I/O" name="5"/>
  <lib desc="#Base" name="6">
    <tool name="Text Tool">
      <a name="font" val="SansSerif plain 12"/>
      <a name="halign" val="center"/>
      <a name="text" val=""/>
      <a name="valign" val="center"/>
    </tool>
  </lib>
  <lib desc="#Analog" name="7"/>
  <lib desc="#BFH-Praktika" name="8"/>
  <main name="regwriter"/>
  <options>
    <a name="gateUndefined" val="ignore"/>
    <a name="simlimit" val="1000"/>
    <a name="simrand" val="0"/>
  </options>
  <mappings>
    <tool lib="6" map="Button2" name="Menu Tool"/>
    <tool lib="6" map="Button3" name="Menu Tool"/>
    <tool lib="6" map="Ctrl Button1" name="Menu Tool"/>
  </mappings>
  <toolbar>
    <tool lib="6" name="Poke Tool"/>
    <tool lib="6" name="Edit Tool"/>
    <tool lib="6" name="Text Tool">
      <a name="font" val="SansSerif plain 12"/>
      <a name="halign" val="center"/>
      <a name="text" val=""/>
      <a name="valign" val="center"/>
    </tool>
    <sep/>
    <tool lib="0" name="Pin">
      <a name="facing" val="north"/>
      <a name="labelloc" val="east"/>
    </tool>
    <tool lib="0" name="Pin">
      <a name="facing" val="south"/>
      <a name="label" val="Reset"/>
      <a name="labelloc" val="south"/>
      <a name="type" val="output"/>
    </tool>
    <tool lib="1" name="NOT Gate"/>
    <tool lib="1" name="AND Gate">
      <a name="size" val="30"/>
    </tool>
    <tool lib="1" name="OR Gate">
      <a name="size" val="30"/>
    </tool>
  </toolbar>
  <circuit name="dpath">
    <a name="appearance" val="classic"/>
    <comp lib="0" loc="(100,1020)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="Clock"/>
    </comp>
    <comp lib="0" loc="(100,1040)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="Reset"/>
    </comp>
    <comp lib="0" loc="(1000,1170)" name="Constant">
      <a name="facing" val="south"/>
      <a name="value" val="0x0"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(1000,630)" name="Probe">
      <a name="facing" val="west"/>
      <a name="label" val="valC"/>
      <a name="labelloc" val="north"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1010,780)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="ldMAR"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(1020,790)" name="Probe">
      <a name="facing" val="west"/>
    </comp>
    <comp lib="0" loc="(1030,430)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="aluBsel"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(1050,210)" name="Constant">
      <a name="value" val="0x4"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(1050,230)" name="Constant">
      <a name="value" val="0xfffffffc"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(1050,260)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="aluAsel"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(1050,540)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="aluOPsel"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(1060,780)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="MDRsel"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(1070,370)" name="Constant">
      <a name="value" val="0x0"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(1070,790)" name="Probe">
      <a name="facing" val="west"/>
    </comp>
    <comp lib="0" loc="(1080,450)" name="Constant">
      <a name="value" val="0x0"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(110,1530)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D RAMuse"/>
    </comp>
    <comp lib="0" loc="(110,1550)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D RAMWrite"/>
    </comp>
    <comp lib="0" loc="(110,1570)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D RAMread"/>
    </comp>
    <comp lib="0" loc="(1110,780)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="ldMDR"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(1120,790)" name="Probe">
      <a name="facing" val="west"/>
    </comp>
    <comp lib="0" loc="(1140,1180)" name="Probe">
      <a name="facing" val="south"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1140,140)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="ldCC"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(1150,1400)" name="Probe">
      <a name="facing" val="west"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1170,1690)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D RAMuse"/>
    </comp>
    <comp lib="0" loc="(1170,1710)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D RAMWrite"/>
    </comp>
    <comp lib="0" loc="(1170,1730)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D RAMread"/>
    </comp>
    <comp lib="0" loc="(1170,780)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="DMemReq"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(1180,790)" name="Probe">
      <a name="facing" val="west"/>
    </comp>
    <comp lib="0" loc="(1210,1760)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D RAMAddr"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(1210,1800)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="I RAMuse"/>
    </comp>
    <comp lib="0" loc="(1210,1820)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="I RAMread"/>
    </comp>
    <comp lib="0" loc="(1210,1850)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="I RAMAddr"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(1220,1250)" name="Constant">
      <a name="value" val="0x0"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(1230,130)" name="Probe">
      <a name="facing" val="west"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(1230,150)" name="Tunnel">
      <a name="label" val="cc"/>
      <a name="width" val="3"/>
    </comp>
    <comp lib="0" loc="(1230,1640)" name="Constant">
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(1230,1680)" name="Constant">
      <a name="value" val="0x2"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(1250,1610)" name="Constant">
      <a name="facing" val="south"/>
      <a name="value" val="0x0"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(1250,780)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="DMemWrite"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(1260,790)" name="Probe">
      <a name="facing" val="west"/>
    </comp>
    <comp lib="0" loc="(1280,1390)" name="Probe">
      <a name="facing" val="north"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1290,380)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="MARsel"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(1290,420)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="ldMAR"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(1310,220)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="MDRsel"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(1340,260)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="ldMDR"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(1340,50)" name="Probe">
      <a name="facing" val="west"/>
      <a name="label" val="valP"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1340,780)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="newPCsel"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(1340,90)" name="Probe">
      <a name="facing" val="west"/>
      <a name="label" val="valE"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1350,790)" name="Probe">
      <a name="facing" val="west"/>
    </comp>
    <comp lib="0" loc="(1390,1620)" name="Probe">
      <a name="facing" val="south"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1390,780)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="ldPC"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(1400,790)" name="Probe">
      <a name="facing" val="west"/>
    </comp>
    <comp lib="0" loc="(1440,1070)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D RAMuse"/>
    </comp>
    <comp lib="0" loc="(1440,1090)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D RAMread"/>
    </comp>
    <comp lib="0" loc="(1440,1120)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="I RAMuse"/>
    </comp>
    <comp lib="0" loc="(1440,1140)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="I RAMread"/>
    </comp>
    <comp lib="0" loc="(1450,1000)" name="Constant">
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(1450,1040)" name="Constant">
      <a name="value" val="0x2"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(1460,300)" name="Probe">
      <a name="facing" val="north"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1470,1690)" name="Constant">
      <a name="value" val="0xffff0000"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(1470,970)" name="Constant">
      <a name="facing" val="south"/>
      <a name="value" val="0x0"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(1480,130)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="DMemReq"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(1480,150)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="DMemWrite"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(1490,330)" name="Probe">
      <a name="facing" val="north"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1490,730)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="ifun"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(1490,750)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="icode"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(1520,390)" name="Probe">
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1520,740)" name="Splitter">
      <a name="appear" val="center"/>
      <a name="bit1" val="0"/>
      <a name="bit2" val="0"/>
      <a name="bit3" val="0"/>
      <a name="bit4" val="1"/>
      <a name="bit5" val="1"/>
      <a name="bit6" val="1"/>
      <a name="bit7" val="1"/>
      <a name="facing" val="west"/>
      <a name="incoming" val="8"/>
    </comp>
    <comp lib="0" loc="(1520,90)" name="Probe">
      <a name="facing" val="west"/>
      <a name="label" val="valM"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1530,1840)" name="Probe">
      <a name="facing" val="north"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1530,720)" name="Probe">
      <a name="facing" val="south"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1550,330)" name="Probe">
      <a name="facing" val="west"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1550,580)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="enUSERmode"/>
    </comp>
    <comp lib="0" loc="(1570,1170)" name="Probe">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(1580,350)" name="Probe">
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(160,1600)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D RAMAddr"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(160,1640)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="I RAMuse"/>
    </comp>
    <comp lib="0" loc="(160,1660)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="I RAMread"/>
    </comp>
    <comp lib="0" loc="(160,1690)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="I RAMAddr"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(160,1720)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D RAMuse"/>
    </comp>
    <comp lib="0" loc="(160,1740)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="I RAMuse"/>
    </comp>
    <comp lib="0" loc="(160,1770)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D RAMread"/>
    </comp>
    <comp lib="0" loc="(160,1790)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="I RAMread"/>
    </comp>
    <comp lib="0" loc="(160,1830)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D Data to RAM"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(160,1900)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D Data from RAM"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(160,1920)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="I Data from RAM"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(160,790)" name="Probe"/>
    <comp lib="0" loc="(1600,420)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D Data from RAM"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(1600,530)" name="Tunnel">
      <a name="label" val="privmode"/>
    </comp>
    <comp lib="0" loc="(1600,610)" name="Tunnel">
      <a name="label" val="enPRIVmode"/>
    </comp>
    <comp lib="0" loc="(1600,630)" name="Tunnel">
      <a name="label" val="Reset"/>
    </comp>
    <comp lib="0" loc="(1600,660)" name="Tunnel">
      <a name="label" val="exception"/>
    </comp>
    <comp lib="0" loc="(1610,980)" name="Probe">
      <a name="facing" val="south"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1620,420)" name="Probe">
      <a name="facing" val="west"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1630,1610)" name="Probe">
      <a name="facing" val="south"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1650,1650)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D RAMWrite"/>
    </comp>
    <comp lib="0" loc="(1650,1680)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D Data to RAM"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(1650,1710)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="Clock"/>
    </comp>
    <comp lib="0" loc="(1650,290)" name="Tunnel">
      <a name="label" val="D RAMuse"/>
    </comp>
    <comp lib="0" loc="(1650,310)" name="Tunnel">
      <a name="label" val="D RAMAddr"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(1650,350)" name="Tunnel">
      <a name="label" val="D RAMWrite"/>
    </comp>
    <comp lib="0" loc="(1650,370)" name="Tunnel">
      <a name="label" val="D RAMread"/>
    </comp>
    <comp lib="0" loc="(1650,390)" name="Tunnel">
      <a name="label" val="D Data to RAM"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(1680,1230)" name="Tunnel">
      <a name="label" val="D Data from RAM"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(1680,1250)" name="Tunnel">
      <a name="label" val="I Data from RAM"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(1690,230)" name="Probe">
      <a name="facing" val="south"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(170,180)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="PCIncSel"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(170,270)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="currPC"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(170,780)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="IMemReq"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(1700,180)" name="Probe">
      <a name="facing" val="west"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1700,240)" name="Tunnel">
      <a name="label" val="DMemReady"/>
    </comp>
    <comp lib="0" loc="(1770,900)" name="Constant">
      <a name="value" val="0xe0"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(180,1480)" name="Constant">
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(180,1520)" name="Constant">
      <a name="value" val="0x2"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(1810,1520)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D RAMuse"/>
    </comp>
    <comp lib="0" loc="(1810,1540)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D RAMread"/>
    </comp>
    <comp lib="0" loc="(1810,1570)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="I RAMuse"/>
    </comp>
    <comp lib="0" loc="(1810,1590)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="I RAMread"/>
    </comp>
    <comp lib="0" loc="(1820,1450)" name="Constant">
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(1820,1490)" name="Constant">
      <a name="value" val="0x2"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(1840,1420)" name="Constant">
      <a name="facing" val="south"/>
      <a name="value" val="0x0"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(1840,350)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="ifun"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(1840,370)" name="Constant">
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(1840,410)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="icode"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(1840,430)" name="Constant">
      <a name="value" val="0xd"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(1860,340)" name="Probe">
      <a name="facing" val="south"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1860,400)" name="Probe">
      <a name="facing" val="south"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1860,580)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="currPC"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(1860,630)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="currPC"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(1890,600)" name="Constant">
      <a name="value" val="0x1ff"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(1890,650)" name="Constant">
      <a name="value" val="0x299"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(190,100)" name="Constant">
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(190,120)" name="Constant">
      <a name="value" val="0x2"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(190,140)" name="Constant">
      <a name="value" val="0x5"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(190,160)" name="Constant">
      <a name="value" val="0x6"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(190,510)" name="Probe">
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1900,890)" name="Tunnel">
      <a name="label" val="isException"/>
    </comp>
    <comp lib="0" loc="(1920,700)" name="Tunnel">
      <a name="label" val="privCODEfail"/>
    </comp>
    <comp lib="0" loc="(1920,790)" name="Tunnel">
      <a name="label" val="privmode"/>
    </comp>
    <comp lib="0" loc="(1930,1610)" name="Probe">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(1930,240)" name="Constant">
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(1930,280)" name="Constant">
      <a name="value" val="0x2"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(1930,520)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="valInstruct"/>
    </comp>
    <comp lib="0" loc="(1930,540)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="privCODEfail"/>
    </comp>
    <comp lib="0" loc="(1950,210)" name="Constant">
      <a name="facing" val="south"/>
      <a name="value" val="0x0"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(1950,460)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="exception"/>
    </comp>
    <comp lib="0" loc="(1950,840)" name="Tunnel">
      <a name="label" val="valInstruct"/>
    </comp>
    <comp lib="0" loc="(1980,1430)" name="Probe">
      <a name="facing" val="south"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(200,1450)" name="Constant">
      <a name="facing" val="south"/>
      <a name="value" val="0x0"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(2040,430)" name="Constant">
      <a name="value" val="0x100"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(2040,450)" name="Constant">
      <a name="value" val="0x1ff"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(2050,1670)" name="Tunnel">
      <a name="label" val="D Data from RAM"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(2050,1690)" name="Tunnel">
      <a name="label" val="I Data from RAM"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(2050,410)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="possiblePC"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(2090,220)" name="Probe">
      <a name="facing" val="south"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(210,690)" name="Pin">
      <a name="facing" val="south"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(2100,330)" name="Tunnel">
      <a name="label" val="enUSERmode"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(2100,370)" name="Tunnel">
      <a name="label" val="enPRIVmode"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(2140,500)" name="Probe">
      <a name="facing" val="north"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(2150,450)" name="Tunnel">
      <a name="label" val="newPC"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(220,380)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="IMemReq"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(220,790)" name="Probe"/>
    <comp lib="0" loc="(230,560)" name="Probe">
      <a name="facing" val="north"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(230,780)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="PCIncSel"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(260,550)" name="Probe">
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(270,790)" name="Probe"/>
    <comp lib="0" loc="(270,90)" name="Probe">
      <a name="facing" val="south"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(280,1710)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="privmode"/>
    </comp>
    <comp lib="0" loc="(280,530)" name="Tunnel">
      <a name="label" val="I RAMAddr"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(280,550)" name="Tunnel">
      <a name="label" val="I RAMread"/>
    </comp>
    <comp lib="0" loc="(290,300)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="cc"/>
      <a name="width" val="3"/>
    </comp>
    <comp lib="0" loc="(290,340)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="ifun"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(290,510)" name="Tunnel">
      <a name="label" val="I RAMuse"/>
    </comp>
    <comp lib="0" loc="(290,600)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="I Data from RAM"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(290,780)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="valCsel"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(300,130)" name="Constant">
      <a name="facing" val="south"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="0" loc="(340,1460)" name="Probe">
      <a name="facing" val="south"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(340,580)" name="Probe">
      <a name="facing" val="north"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(340,670)" name="Tunnel">
      <a name="label" val="Reset"/>
    </comp>
    <comp lib="0" loc="(340,700)" name="Tunnel">
      <a name="label" val="Clock"/>
    </comp>
    <comp lib="0" loc="(360,790)" name="Probe"/>
    <comp lib="0" loc="(370,780)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="srcAsel"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(390,530)" name="Probe">
      <a name="facing" val="north"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(400,520)" name="Tunnel">
      <a name="label" val="IMemReady"/>
    </comp>
    <comp lib="0" loc="(410,790)" name="Probe"/>
    <comp lib="0" loc="(420,780)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="srcBsel"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(440,1530)" name="Probe">
      <a name="facing" val="south"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(440,1910)" name="Probe">
      <a name="facing" val="west"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(440,210)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="newPCsel"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(460,790)" name="Probe"/>
    <comp lib="0" loc="(470,780)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="dstEsel"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(480,1210)" name="Splitter">
      <a name="appear" val="center"/>
      <a name="bit0" val="none"/>
      <a name="bit1" val="none"/>
      <a name="bit10" val="0"/>
      <a name="bit11" val="0"/>
      <a name="bit2" val="none"/>
      <a name="bit3" val="none"/>
      <a name="bit4" val="1"/>
      <a name="bit5" val="1"/>
      <a name="bit6" val="1"/>
      <a name="bit7" val="1"/>
      <a name="bit8" val="1"/>
      <a name="bit9" val="1"/>
      <a name="incoming" val="12"/>
    </comp>
    <comp lib="0" loc="(480,170)" name="Tunnel">
      <a name="label" val="possiblePC"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(480,400)" name="Probe">
      <a name="facing" val="south"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(480,420)" name="Probe">
      <a name="facing" val="south"/>
      <a name="label" val="ifun"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(480,550)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="valCsel"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(490,1550)" name="Probe">
      <a name="facing" val="south"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(490,400)" name="Tunnel">
      <a name="label" val="icode"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(500,1670)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D RAMWrite"/>
    </comp>
    <comp lib="0" loc="(510,1810)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="Reset"/>
    </comp>
    <comp lib="0" loc="(510,790)" name="Probe"/>
    <comp lib="0" loc="(520,780)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="dstEreq"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(550,1170)" name="Probe">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(550,560)" name="Tunnel">
      <a name="label" val="ifun"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(550,610)" name="Probe">
      <a name="facing" val="west"/>
      <a name="label" val="valC"/>
      <a name="labelloc" val="north"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(560,430)" name="Probe">
      <a name="facing" val="south"/>
      <a name="label" val="rA"/>
      <a name="labelloc" val="north"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(560,440)" name="Probe">
      <a name="facing" val="north"/>
      <a name="label" val="rB"/>
      <a name="labelloc" val="south"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(570,790)" name="Probe"/>
    <comp lib="0" loc="(580,780)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="dstMreq"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(600,1260)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="icode"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(600,1320)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="DMemReady"/>
    </comp>
    <comp lib="0" loc="(600,1350)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="IMemReady"/>
    </comp>
    <comp lib="0" loc="(600,1370)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="exception"/>
    </comp>
    <comp lib="0" loc="(640,550)" name="Constant">
      <a name="value" val="0x4"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(640,570)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="srcBsel"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(650,1400)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="privCODEfail"/>
    </comp>
    <comp lib="0" loc="(650,200)" name="Constant">
      <a name="value" val="0x4"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(660,220)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="dstEsel"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(660,450)" name="Constant">
      <a name="value" val="0x4"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(660,480)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="srcAsel"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(670,280)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="dstEreq"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(670,370)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="dstMreq"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(670,790)" name="Probe"/>
    <comp lib="0" loc="(70,320)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="ldPC"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(700,620)" name="Constant">
      <a name="value" val="0xf"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(700,780)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="aluAsel"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(710,1750)" name="Pin">
      <a name="facing" val="west"/>
      <a name="labelloc" val="north"/>
    </comp>
    <comp lib="0" loc="(710,220)" name="Constant">
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="0" loc="(710,230)" name="Constant"/>
    <comp lib="0" loc="(730,970)" name="Splitter">
      <a name="appear" val="center"/>
      <a name="bit0" val="none"/>
      <a name="bit1" val="none"/>
      <a name="bit10" val="1"/>
      <a name="bit11" val="2"/>
      <a name="bit12" val="3"/>
      <a name="bit13" val="4"/>
      <a name="bit14" val="5"/>
      <a name="bit15" val="6"/>
      <a name="bit16" val="7"/>
      <a name="bit17" val="8"/>
      <a name="bit18" val="9"/>
      <a name="bit19" val="10"/>
      <a name="bit2" val="none"/>
      <a name="bit20" val="11"/>
      <a name="bit21" val="11"/>
      <a name="bit22" val="12"/>
      <a name="bit23" val="13"/>
      <a name="bit24" val="13"/>
      <a name="bit25" val="14"/>
      <a name="bit26" val="15"/>
      <a name="bit27" val="16"/>
      <a name="bit28" val="17"/>
      <a name="bit29" val="18"/>
      <a name="bit3" val="none"/>
      <a name="bit30" val="18"/>
      <a name="bit31" val="19"/>
      <a name="bit4" val="none"/>
      <a name="bit5" val="none"/>
      <a name="bit6" val="none"/>
      <a name="bit7" val="none"/>
      <a name="bit8" val="0"/>
      <a name="bit9" val="1"/>
      <a name="facing" val="north"/>
      <a name="fanout" val="20"/>
      <a name="incoming" val="32"/>
    </comp>
    <comp lib="0" loc="(750,1910)" name="Probe">
      <a name="facing" val="north"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(750,440)" name="Bit Extender">
      <a name="in_width" val="4"/>
      <a name="out_width" val="3"/>
      <a name="type" val="zero"/>
    </comp>
    <comp lib="0" loc="(750,540)" name="Bit Extender">
      <a name="in_width" val="4"/>
      <a name="out_width" val="3"/>
      <a name="type" val="zero"/>
    </comp>
    <comp lib="0" loc="(750,790)" name="Probe"/>
    <comp lib="0" loc="(760,1750)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="Clock"/>
    </comp>
    <comp lib="0" loc="(760,780)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="aluBsel"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(770,1390)" name="Probe">
      <a name="facing" val="west"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(770,190)" name="Bit Extender">
      <a name="in_width" val="4"/>
      <a name="out_width" val="3"/>
      <a name="type" val="zero"/>
    </comp>
    <comp lib="0" loc="(770,340)" name="Bit Extender">
      <a name="in_width" val="4"/>
      <a name="out_width" val="3"/>
      <a name="type" val="zero"/>
    </comp>
    <comp lib="0" loc="(80,260)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="newPC"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(80,660)" name="Pin">
      <a name="label" val="Reset"/>
    </comp>
    <comp lib="0" loc="(80,690)" name="Clock">
      <a name="label" val="Clock"/>
    </comp>
    <comp lib="0" loc="(820,780)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="aluOPsel"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(830,790)" name="Probe">
      <a name="facing" val="west"/>
    </comp>
    <comp lib="0" loc="(870,780)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="ldCC"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(880,790)" name="Probe">
      <a name="facing" val="west"/>
    </comp>
    <comp lib="0" loc="(910,1250)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D RAMuse"/>
    </comp>
    <comp lib="0" loc="(910,1270)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D RAMWrite"/>
    </comp>
    <comp lib="0" loc="(910,1290)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D RAMread"/>
    </comp>
    <comp lib="0" loc="(960,1320)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="D RAMAddr"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(960,1360)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="I RAMuse"/>
    </comp>
    <comp lib="0" loc="(960,1380)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="I RAMread"/>
    </comp>
    <comp lib="0" loc="(960,1410)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="I RAMAddr"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(960,780)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="MARsel"/>
      <a name="labelfont" val="SansSerif bolditalic 12"/>
    </comp>
    <comp lib="0" loc="(970,790)" name="Probe">
      <a name="facing" val="west"/>
    </comp>
    <comp lib="0" loc="(980,110)" name="Probe">
      <a name="facing" val="west"/>
      <a name="label" val="valA"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(980,1200)" name="Constant">
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(980,1240)" name="Constant">
      <a name="value" val="0x2"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(980,130)" name="Probe">
      <a name="facing" val="west"/>
      <a name="label" val="valB"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="1" loc="(1010,1280)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(1010,1370)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(1080,420)" name="OR Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(1120,1200)" name="OR Gate">
      <a name="size" val="30"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="1" loc="(1210,1720)" name="OR Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(1240,1290)" name="OR Gate">
      <a name="facing" val="north"/>
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(1260,1810)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(1270,1720)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(1280,1190)" name="Controlled Buffer">
      <a name="width" val="10"/>
    </comp>
    <comp lib="1" loc="(1370,1640)" name="OR Gate">
      <a name="size" val="30"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="1" loc="(1480,1080)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(1480,1130)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(1490,1730)" name="OR Gate">
      <a name="facing" val="north"/>
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(150,1560)" name="OR Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(1530,1630)" name="Controlled Buffer">
      <a name="width" val="10"/>
    </comp>
    <comp lib="1" loc="(1580,570)" name="OR Gate">
      <a name="facing" val="north"/>
      <a name="inputs" val="3"/>
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(1590,1000)" name="OR Gate">
      <a name="size" val="30"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="1" loc="(1850,1530)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(1850,1580)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(1890,720)" name="AND Gate">
      <a name="facing" val="north"/>
      <a name="inputs" val="3"/>
      <a name="negate0" val="true"/>
      <a name="negate1" val="true"/>
      <a name="negate2" val="true"/>
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(1940,840)" name="AND Gate">
      <a name="negate1" val="true"/>
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(1960,1450)" name="OR Gate">
      <a name="size" val="30"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="1" loc="(1960,470)" name="AND Gate">
      <a name="facing" val="north"/>
      <a name="inputs" val="3"/>
      <a name="negate0" val="true"/>
      <a name="negate1" val="true"/>
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(1970,330)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(1970,370)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(1970,550)" name="OR Gate">
      <a name="facing" val="north"/>
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(2070,240)" name="OR Gate">
      <a name="size" val="30"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="1" loc="(210,1560)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(210,1650)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(220,1730)" name="XOR Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(220,1780)" name="XOR Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(320,1480)" name="OR Gate">
      <a name="size" val="30"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="1" loc="(330,1720)" name="AND Gate">
      <a name="negate0" val="true"/>
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(950,1280)" name="OR Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="2" loc="(1050,1190)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="2" loc="(1070,1230)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="2" loc="(1100,210)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="select" val="2"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="2" loc="(1110,360)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="2" loc="(1110,460)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="2" loc="(1160,1330)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="select" val="2"/>
      <a name="selloc" val="tr"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="2" loc="(1300,1630)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="2" loc="(1310,340)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="2" loc="(1320,1670)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="2" loc="(1340,180)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="2" loc="(1410,1770)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="select" val="2"/>
      <a name="selloc" val="tr"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="2" loc="(1520,990)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="2" loc="(1540,1030)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="2" loc="(1600,1240)" name="Demultiplexer">
      <a name="enable" val="false"/>
      <a name="select" val="2"/>
      <a name="selloc" val="tr"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="2" loc="(1890,1440)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="2" loc="(1910,1480)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="2" loc="(1970,1680)" name="Demultiplexer">
      <a name="enable" val="false"/>
      <a name="select" val="2"/>
      <a name="selloc" val="tr"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="2" loc="(2000,230)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="2" loc="(2020,270)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="2" loc="(2110,450)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="select" val="2"/>
      <a name="selloc" val="tr"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="2" loc="(220,1910)" name="Demultiplexer">
      <a name="enable" val="false"/>
      <a name="facing" val="west"/>
      <a name="select" val="2"/>
      <a name="selloc" val="tr"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="2" loc="(250,1470)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="2" loc="(260,140)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="select" val="2"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="2" loc="(270,1510)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="2" loc="(360,1610)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="select" val="2"/>
      <a name="selloc" val="tr"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="2" loc="(400,190)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="2" loc="(460,170)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="select" val="2"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="2" loc="(510,470)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="2" loc="(680,540)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="2" loc="(690,190)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="2" loc="(700,440)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="2" loc="(750,240)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="select" val="2"/>
    </comp>
    <comp lib="3" loc="(1840,890)" name="Comparator">
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="3" loc="(1910,360)" name="Comparator">
      <a name="mode" val="unsigned"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="3" loc="(1910,420)" name="Comparator">
      <a name="mode" val="unsigned"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="3" loc="(1930,590)" name="Comparator">
      <a name="mode" val="unsigned"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="3" loc="(1930,640)" name="Comparator">
      <a name="mode" val="unsigned"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="3" loc="(320,150)" name="Adder">
      <a name="width" val="32"/>
    </comp>
    <comp lib="3" loc="(740,610)" name="Comparator">
      <a name="width" val="4"/>
    </comp>
    <comp lib="4" loc="(120,310)" name="Register">
      <a name="label" val="PC"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="4" loc="(1210,130)" name="Register">
      <a name="label" val="CC"/>
      <a name="width" val="3"/>
    </comp>
    <comp lib="4" loc="(1310,1180)" name="ROM">
      <a name="addrWidth" val="10"/>
      <a name="contents">addr/data: 10 8
30 f4 0 1 ff ff 30 f2
c 2 0 0 80 d 1 0
0 d0 70 0 3 235*0 30 f2
11 2 0 0 80 d 1 0
0 d0 90 30 f6 4*0 30 f7
1 0 0 0 30 f3 ff 0
0 0 50 2 4*0 62 30 73
38 1 0 0 80 39 1 0
0 60 72 70 1f 1 0 0
90 50 1f 8 fe ff 0 60
61 73 39 1 0 0 40 f
c fe ff 0 90 179*0 30 f2
17 2 0 0 80 d 1 0
0 0 48 69 21 20 0 59
65 73 3f 20 0 55 68 2d
6f 68 21 20 226*0 d1 10 10
e0 10
</a>
      <a name="label" val="code"/>
    </comp>
    <comp lib="4" loc="(1360,340)" name="Register">
      <a name="label" val="MAR"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="4" loc="(1390,180)" name="Register">
      <a name="label" val="MDR"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="4" loc="(1550,730)" name="ROM">
      <a name="contents">addr/data: 8 1
1 15*0 1 15*0 7*1 9*0 1 15*0
1 15*0 1 15*0 4*1 12*0 7*1 9*0
1 15*0 1 15*0 1 15*0 1 15*0
4*1 12*0 1 1 14*0 1
</a>
      <a name="dataWidth" val="1"/>
      <a name="label" val="validInstructionsRom"/>
    </comp>
    <comp lib="4" loc="(1590,530)" name="D Flip-Flop"/>
    <comp lib="4" loc="(1670,1620)" name="RAM">
      <a name="addrWidth" val="10"/>
      <a name="label" val="data"/>
    </comp>
    <comp lib="4" loc="(180,980)" name="Register">
      <a name="label" val="Current State"/>
      <a name="width" val="6"/>
    </comp>
    <comp lib="4" loc="(220,1150)" name="ROM">
      <a name="addrWidth" val="6"/>
      <a name="contents">addr/data: 6 12
410 c00 430 800 450 860 400 480
890 400 39*0 400 400 400 420 440
400 400 420 470 420 440 400 420
420
</a>
      <a name="dataWidth" val="12"/>
      <a name="label" val="FSM ROM1"/>
    </comp>
    <comp lib="4" loc="(220,970)" name="ROM">
      <a name="addrWidth" val="6"/>
      <a name="contents">addr/data: 6 32
80000000 0 1800 0 1000 0 400000 1000
0 500 39*0 100 21080100 70980100 7010a100 70108100
20860100 40000700 46b0e300 ea18000 26b0a100 2ea18100 70960100 6b0e100
6b0e100
</a>
      <a name="dataWidth" val="32"/>
      <a name="label" val="FSM ROM0"/>
    </comp>
    <comp lib="4" loc="(870,130)" name="Register">
      <a name="label" val="%eax"/>
      <a name="labelfont" val="SansSerif plain 10"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="4" loc="(870,190)" name="Register">
      <a name="label" val="%ecx"/>
      <a name="labelfont" val="SansSerif plain 10"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="4" loc="(870,250)" name="Register">
      <a name="label" val="%edx"/>
      <a name="labelfont" val="SansSerif plain 10"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="4" loc="(870,310)" name="Register">
      <a name="label" val="%ebx"/>
      <a name="labelfont" val="SansSerif plain 10"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="4" loc="(870,370)" name="Register">
      <a name="label" val="%esp"/>
      <a name="labelfont" val="SansSerif plain 10"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="4" loc="(870,430)" name="Register">
      <a name="label" val="%ebp"/>
      <a name="labelfont" val="SansSerif plain 10"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="4" loc="(870,490)" name="Register">
      <a name="label" val="%esi"/>
      <a name="labelfont" val="SansSerif plain 10"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="4" loc="(870,550)" name="Register">
      <a name="label" val="%edi"/>
      <a name="labelfont" val="SansSerif plain 10"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="5" loc="(790,1850)" name="TTY"/>
    <comp lib="6" loc="(1045,566)" name="Text">
      <a name="text" val="0 add"/>
    </comp>
    <comp lib="6" loc="(1097,751)" name="Text">
      <a name="font" val="SansSerif italic 12"/>
      <a name="text" val="Memory"/>
    </comp>
    <comp lib="6" loc="(1353,749)" name="Text">
      <a name="font" val="SansSerif italic 12"/>
      <a name="text" val="PC"/>
    </comp>
    <comp lib="6" loc="(1583,453)" name="Text">
      <a name="text" val="connect to memory (and io,"/>
    </comp>
    <comp lib="6" loc="(1584,471)" name="Text">
      <a name="text" val=" pretending to be memory)"/>
    </comp>
    <comp lib="6" loc="(1736,929)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">A halt is issued when the instruction is bad,
the instruction is not the exception handling
instruction, and the instruction is being run
in privileged mode. When these conditions
hold, privCODEfail is enabled, which is fed
to the microsequencer where we send halt
as the next state.</a>
      <a name="valign" val="center"/>
    </comp>
    <comp lib="6" loc="(192,746)" name="Text">
      <a name="font" val="SansSerif italic 12"/>
      <a name="text" val="Fetch"/>
    </comp>
    <comp lib="6" loc="(2009,554)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">An exception is thrown when the instruction is bad,
the bad instruction did not fail due to being run in
privileged mode, and we are not currently in the
exception handling address space. Exception is fed
to the microsequencer, where, if enabled, the exception
handling state is sent as the next state.</a>
      <a name="valign" val="center"/>
    </comp>
    <comp lib="6" loc="(2054,697)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">explanation of new tunnels:
- privmode indicates whether we are running in
   privileged mode (0) or user mode (1).
- enUSERmode, when enabled, sets the privmode
   to 1 (user mode).
- enPRIVmode, when enabled, sets the privmode
   to 0 (privileged mode).
- exception is enabled when we try running a bad
   instruction in user mode. (leads to exception handler)
- privCODEfail is enabled when we try running a
   bad instruction in privileged mode. (leads to halt)
- valInstruct is enabled when we use a ROM containing
   all valid (not bad) instructions to check if the instruction
   exists.
- isException indicates whether or not we are looking at
   the instructions for the exception handling instruction.
- currPC is the current value in the program counter.
- possiblePC is the value that results from incrementing it
   as necessary as instructions are run.
- newPC is the value that results from checking whether or
   not we entered privileged mode or if an exception was
   thrown.</a>
      <a name="valign" val="center"/>
    </comp>
    <comp lib="6" loc="(2111,208)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">If we have entered privileged mode (as a
result of sysenter), then we set the next PC
to be 0x100.
If we have an exception thrown, then we set
the next PC to be 0x1ff, which becomes 0x200
after the PC is incremented, which takes us to the
exception handling code.</a>
      <a name="valign" val="center"/>
    </comp>
    <comp lib="6" loc="(213,57)" name="Text">
      <a name="font" val="SansSerif bold 20"/>
      <a name="text" val="Feb 11, 2021"/>
    </comp>
    <comp lib="6" loc="(217,31)" name="Text">
      <a name="font" val="SansSerif bold 20"/>
      <a name="text" val="Y86 Skeleton"/>
    </comp>
    <comp lib="6" loc="(2202,337)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">enUSERmode is enabled when the
instruction is d0.
enPRIVmode is enabled when the
instruction is d1.</a>
      <a name="valign" val="center"/>
    </comp>
    <comp lib="6" loc="(239,638)" name="Text">
      <a name="text" val="connect to memory!"/>
    </comp>
    <comp lib="6" loc="(335,139)" name="Text">
      <a name="text" val="valP"/>
    </comp>
    <comp lib="6" loc="(427,87)" name="Text">
      <a name="text" val="valM"/>
    </comp>
    <comp lib="6" loc="(461,456)" name="Text">
      <a name="text" val="IR[1:4]"/>
    </comp>
    <comp lib="6" loc="(462,478)" name="Text">
      <a name="text" val="IR[2:5]"/>
    </comp>
    <comp lib="6" loc="(487,749)" name="Text">
      <a name="font" val="SansSerif italic 12"/>
      <a name="text" val="Decode/Write-Back"/>
    </comp>
    <comp lib="6" loc="(709,29)" name="Text">
      <a name="font" val="SansSerif italic 20"/>
      <a name="text" val="SWS and Taylor Cathcart and Vijay Kothari, based on a skeleton from Matt Kretchmar"/>
    </comp>
    <comp lib="6" loc="(733,586)" name="Text">
      <a name="text" val="rB == F?"/>
    </comp>
    <comp lib="6" loc="(760,746)" name="Text">
      <a name="font" val="SansSerif italic 12"/>
      <a name="text" val="Execute"/>
    </comp>
    <comp loc="(1170,310)" name="alu"/>
    <comp loc="(1240,1240)" name="kbyte buddy"/>
    <comp loc="(1490,1680)" name="kbyte buddy"/>
    <comp loc="(1670,190)" name="dhsim"/>
    <comp loc="(350,320)" name="CND"/>
    <comp loc="(400,410)" name="ishim"/>
    <comp loc="(440,400)" name="isplit"/>
    <comp loc="(530,1710)" name="io"/>
    <comp loc="(730,1270)" name="Microsequencer"/>
    <comp loc="(820,130)" name="regwriter"/>
    <comp loc="(930,110)" name="regreader"/>
    <wire from="(100,1020)" to="(160,1020)"/>
    <wire from="(100,1040)" to="(170,1040)"/>
    <wire from="(100,330)" to="(100,690)"/>
    <wire from="(100,690)" to="(160,690)"/>
    <wire from="(1000,1170)" to="(1000,1180)"/>
    <wire from="(1000,1180)" to="(1000,1220)"/>
    <wire from="(1000,1180)" to="(1020,1180)"/>
    <wire from="(1000,1220)" to="(1040,1220)"/>
    <wire from="(1010,1280)" to="(1030,1280)"/>
    <wire from="(1010,1370)" to="(1050,1370)"/>
    <wire from="(1010,780)" to="(1010,790)"/>
    <wire from="(1010,790)" to="(1010,860)"/>
    <wire from="(1010,790)" to="(1020,790)"/>
    <wire from="(1030,1210)" to="(1030,1280)"/>
    <wire from="(1030,1280)" to="(1030,1360)"/>
    <wire from="(1030,1360)" to="(1230,1360)"/>
    <wire from="(1030,430)" to="(1050,430)"/>
    <wire from="(1050,1190)" to="(1090,1190)"/>
    <wire from="(1050,1250)" to="(1050,1370)"/>
    <wire from="(1050,1370)" to="(1250,1370)"/>
    <wire from="(1050,170)" to="(1050,190)"/>
    <wire from="(1050,170)" to="(1220,170)"/>
    <wire from="(1050,190)" to="(1060,190)"/>
    <wire from="(1050,210)" to="(1060,210)"/>
    <wire from="(1050,220)" to="(1050,230)"/>
    <wire from="(1050,220)" to="(1060,220)"/>
    <wire from="(1050,260)" to="(1080,260)"/>
    <wire from="(1050,540)" to="(1090,540)"/>
    <wire from="(1060,1330)" to="(1060,1400)"/>
    <wire from="(1060,1330)" to="(1120,1330)"/>
    <wire from="(1060,1400)" to="(1060,1410)"/>
    <wire from="(1060,1400)" to="(1150,1400)"/>
    <wire from="(1060,780)" to="(1060,790)"/>
    <wire from="(1060,790)" to="(1060,870)"/>
    <wire from="(1060,790)" to="(1070,790)"/>
    <wire from="(1070,1230)" to="(1080,1230)"/>
    <wire from="(1070,370)" to="(1080,370)"/>
    <wire from="(1080,1210)" to="(1080,1230)"/>
    <wire from="(1080,1210)" to="(1090,1210)"/>
    <wire from="(1080,230)" to="(1080,260)"/>
    <wire from="(1080,420)" to="(1090,420)"/>
    <wire from="(1090,380)" to="(1090,420)"/>
    <wire from="(1090,480)" to="(1090,540)"/>
    <wire from="(110,1530)" to="(160,1530)"/>
    <wire from="(110,1550)" to="(120,1550)"/>
    <wire from="(110,1570)" to="(120,1570)"/>
    <wire from="(110,330)" to="(110,660)"/>
    <wire from="(110,660)" to="(150,660)"/>
    <wire from="(1100,210)" to="(1130,210)"/>
    <wire from="(1110,360)" to="(1120,360)"/>
    <wire from="(1110,460)" to="(1120,460)"/>
    <wire from="(1110,780)" to="(1110,790)"/>
    <wire from="(1110,790)" to="(1110,880)"/>
    <wire from="(1110,790)" to="(1120,790)"/>
    <wire from="(1120,1200)" to="(1140,1200)"/>
    <wire from="(1120,310)" to="(1120,360)"/>
    <wire from="(1120,310)" to="(1130,310)"/>
    <wire from="(1120,390)" to="(1120,460)"/>
    <wire from="(1120,390)" to="(1130,390)"/>
    <wire from="(1140,1180)" to="(1140,1200)"/>
    <wire from="(1140,1200)" to="(1140,1310)"/>
    <wire from="(1140,140)" to="(1180,140)"/>
    <wire from="(1150,130)" to="(1150,190)"/>
    <wire from="(1150,130)" to="(1180,130)"/>
    <wire from="(1160,1330)" to="(1280,1330)"/>
    <wire from="(1170,1690)" to="(1220,1690)"/>
    <wire from="(1170,1710)" to="(1180,1710)"/>
    <wire from="(1170,1730)" to="(1180,1730)"/>
    <wire from="(1170,310)" to="(1270,310)"/>
    <wire from="(1170,780)" to="(1170,790)"/>
    <wire from="(1170,790)" to="(1170,890)"/>
    <wire from="(1170,790)" to="(1180,790)"/>
    <wire from="(1190,150)" to="(1190,690)"/>
    <wire from="(1190,690)" to="(1340,690)"/>
    <wire from="(120,310)" to="(130,310)"/>
    <wire from="(1200,150)" to="(1200,660)"/>
    <wire from="(1200,660)" to="(1350,660)"/>
    <wire from="(1210,130)" to="(1220,130)"/>
    <wire from="(1210,1720)" to="(1230,1720)"/>
    <wire from="(1210,1760)" to="(1370,1760)"/>
    <wire from="(1210,1800)" to="(1230,1800)"/>
    <wire from="(1210,1820)" to="(1230,1820)"/>
    <wire from="(1210,1850)" to="(1310,1850)"/>
    <wire from="(1220,1250)" to="(1230,1250)"/>
    <wire from="(1220,130)" to="(1220,150)"/>
    <wire from="(1220,130)" to="(1230,130)"/>
    <wire from="(1220,150)" to="(1230,150)"/>
    <wire from="(1220,1690)" to="(1220,1710)"/>
    <wire from="(1220,170)" to="(1220,350)"/>
    <wire from="(1220,170)" to="(1310,170)"/>
    <wire from="(1220,1710)" to="(1240,1710)"/>
    <wire from="(1220,350)" to="(1280,350)"/>
    <wire from="(1230,1320)" to="(1230,1360)"/>
    <wire from="(1230,1640)" to="(1270,1640)"/>
    <wire from="(1230,1680)" to="(1290,1680)"/>
    <wire from="(1230,1720)" to="(1230,1730)"/>
    <wire from="(1230,1730)" to="(1240,1730)"/>
    <wire from="(1240,1190)" to="(1240,1240)"/>
    <wire from="(1240,1190)" to="(1260,1190)"/>
    <wire from="(1240,1270)" to="(1240,1290)"/>
    <wire from="(1250,1320)" to="(1250,1370)"/>
    <wire from="(1250,1610)" to="(1250,1620)"/>
    <wire from="(1250,1620)" to="(1250,1660)"/>
    <wire from="(1250,1620)" to="(1270,1620)"/>
    <wire from="(1250,1660)" to="(1290,1660)"/>
    <wire from="(1250,780)" to="(1250,790)"/>
    <wire from="(1250,790)" to="(1250,900)"/>
    <wire from="(1250,790)" to="(1260,790)"/>
    <wire from="(1260,1810)" to="(1300,1810)"/>
    <wire from="(1270,1200)" to="(1270,1240)"/>
    <wire from="(1270,1720)" to="(1280,1720)"/>
    <wire from="(1270,310)" to="(1270,330)"/>
    <wire from="(1270,330)" to="(1280,330)"/>
    <wire from="(1270,90)" to="(1270,310)"/>
    <wire from="(1270,90)" to="(1340,90)"/>
    <wire from="(1280,1190)" to="(1310,1190)"/>
    <wire from="(1280,1270)" to="(1280,1330)"/>
    <wire from="(1280,1330)" to="(1280,1390)"/>
    <wire from="(1280,1650)" to="(1280,1720)"/>
    <wire from="(1280,1720)" to="(1280,1800)"/>
    <wire from="(1280,1800)" to="(1480,1800)"/>
    <wire from="(1290,190)" to="(1310,190)"/>
    <wire from="(1290,360)" to="(1290,380)"/>
    <wire from="(1290,410)" to="(1290,420)"/>
    <wire from="(1290,410)" to="(1320,410)"/>
    <wire from="(1290,50)" to="(1290,190)"/>
    <wire from="(1290,50)" to="(1340,50)"/>
    <wire from="(130,1390)" to="(750,1390)"/>
    <wire from="(130,310)" to="(130,440)"/>
    <wire from="(130,310)" to="(170,310)"/>
    <wire from="(130,440)" to="(140,440)"/>
    <wire from="(130,980)" to="(130,1390)"/>
    <wire from="(130,980)" to="(150,980)"/>
    <wire from="(1300,1630)" to="(1340,1630)"/>
    <wire from="(1300,1690)" to="(1300,1810)"/>
    <wire from="(1300,1810)" to="(1500,1810)"/>
    <wire from="(1310,1770)" to="(1310,1850)"/>
    <wire from="(1310,1770)" to="(1370,1770)"/>
    <wire from="(1310,210)" to="(1310,220)"/>
    <wire from="(1310,210)" to="(1320,210)"/>
    <wire from="(1310,340)" to="(1330,340)"/>
    <wire from="(1320,1670)" to="(1330,1670)"/>
    <wire from="(1320,200)" to="(1320,210)"/>
    <wire from="(1320,350)" to="(1320,410)"/>
    <wire from="(1320,350)" to="(1330,350)"/>
    <wire from="(1330,1650)" to="(1330,1670)"/>
    <wire from="(1330,1650)" to="(1340,1650)"/>
    <wire from="(1340,180)" to="(1360,180)"/>
    <wire from="(1340,260)" to="(1350,260)"/>
    <wire from="(1340,360)" to="(1340,690)"/>
    <wire from="(1340,690)" to="(1370,690)"/>
    <wire from="(1340,780)" to="(1340,790)"/>
    <wire from="(1340,790)" to="(1340,910)"/>
    <wire from="(1340,790)" to="(1350,790)"/>
    <wire from="(1350,190)" to="(1350,260)"/>
    <wire from="(1350,190)" to="(1360,190)"/>
    <wire from="(1350,360)" to="(1350,660)"/>
    <wire from="(1350,660)" to="(1380,660)"/>
    <wire from="(1360,340)" to="(1390,340)"/>
    <wire from="(1370,1640)" to="(1390,1640)"/>
    <wire from="(1370,200)" to="(1370,690)"/>
    <wire from="(1370,690)" to="(1430,690)"/>
    <wire from="(1380,200)" to="(1380,660)"/>
    <wire from="(1380,660)" to="(1420,660)"/>
    <wire from="(1390,1620)" to="(1390,1640)"/>
    <wire from="(1390,1640)" to="(1390,1750)"/>
    <wire from="(1390,180)" to="(1410,180)"/>
    <wire from="(1390,240)" to="(1390,340)"/>
    <wire from="(1390,240)" to="(1410,240)"/>
    <wire from="(1390,780)" to="(1390,790)"/>
    <wire from="(1390,790)" to="(1390,920)"/>
    <wire from="(1390,790)" to="(1400,790)"/>
    <wire from="(1410,1770)" to="(1530,1770)"/>
    <wire from="(1420,260)" to="(1420,660)"/>
    <wire from="(1430,260)" to="(1430,690)"/>
    <wire from="(1440,1070)" to="(1450,1070)"/>
    <wire from="(1440,1090)" to="(1450,1090)"/>
    <wire from="(1440,1120)" to="(1450,1120)"/>
    <wire from="(1440,1140)" to="(1450,1140)"/>
    <wire from="(1450,1000)" to="(1490,1000)"/>
    <wire from="(1450,1040)" to="(1510,1040)"/>
    <wire from="(1460,260)" to="(1460,290)"/>
    <wire from="(1460,290)" to="(1460,300)"/>
    <wire from="(1460,290)" to="(1650,290)"/>
    <wire from="(1470,1020)" to="(1510,1020)"/>
    <wire from="(1470,1690)" to="(1480,1690)"/>
    <wire from="(1470,970)" to="(1470,980)"/>
    <wire from="(1470,980)" to="(1470,1020)"/>
    <wire from="(1470,980)" to="(1490,980)"/>
    <wire from="(1480,1080)" to="(1500,1080)"/>
    <wire from="(1480,1130)" to="(1520,1130)"/>
    <wire from="(1480,130)" to="(1500,130)"/>
    <wire from="(1480,150)" to="(1540,150)"/>
    <wire from="(1480,1760)" to="(1480,1800)"/>
    <wire from="(1490,1630)" to="(1490,1680)"/>
    <wire from="(1490,1630)" to="(1510,1630)"/>
    <wire from="(1490,1710)" to="(1490,1730)"/>
    <wire from="(1490,260)" to="(1490,310)"/>
    <wire from="(1490,310)" to="(1490,330)"/>
    <wire from="(1490,310)" to="(1650,310)"/>
    <wire from="(1490,730)" to="(1500,730)"/>
    <wire from="(1490,750)" to="(1500,750)"/>
    <wire from="(150,1560)" to="(170,1560)"/>
    <wire from="(150,490)" to="(150,660)"/>
    <wire from="(150,660)" to="(330,660)"/>
    <wire from="(1500,1010)" to="(1500,1080)"/>
    <wire from="(1500,130)" to="(1500,170)"/>
    <wire from="(1500,1760)" to="(1500,1810)"/>
    <wire from="(1500,740)" to="(1500,750)"/>
    <wire from="(1510,70)" to="(1510,90)"/>
    <wire from="(1510,70)" to="(1690,70)"/>
    <wire from="(1510,90)" to="(1520,90)"/>
    <wire from="(1520,1050)" to="(1520,1130)"/>
    <wire from="(1520,1640)" to="(1520,1680)"/>
    <wire from="(1520,260)" to="(1520,270)"/>
    <wire from="(1520,270)" to="(1540,270)"/>
    <wire from="(1520,390)" to="(1540,390)"/>
    <wire from="(1520,740)" to="(1530,740)"/>
    <wire from="(1520,990)" to="(1560,990)"/>
    <wire from="(1530,1630)" to="(1630,1630)"/>
    <wire from="(1530,1710)" to="(1530,1770)"/>
    <wire from="(1530,1770)" to="(1530,1840)"/>
    <wire from="(1530,720)" to="(1530,740)"/>
    <wire from="(1530,740)" to="(1530,880)"/>
    <wire from="(1530,740)" to="(1550,740)"/>
    <wire from="(1530,880)" to="(1800,880)"/>
    <wire from="(1540,1030)" to="(1550,1030)"/>
    <wire from="(1540,150)" to="(1540,170)"/>
    <wire from="(1540,270)" to="(1540,390)"/>
    <wire from="(1540,390)" to="(1650,390)"/>
    <wire from="(1550,1010)" to="(1550,1030)"/>
    <wire from="(1550,1010)" to="(1560,1010)"/>
    <wire from="(1550,1240)" to="(1570,1240)"/>
    <wire from="(1550,260)" to="(1550,330)"/>
    <wire from="(1550,330)" to="(1550,370)"/>
    <wire from="(1550,370)" to="(1650,370)"/>
    <wire from="(1550,580)" to="(1560,580)"/>
    <wire from="(1560,560)" to="(1560,580)"/>
    <wire from="(1570,1170)" to="(1570,1240)"/>
    <wire from="(1570,1240)" to="(1600,1240)"/>
    <wire from="(1570,600)" to="(1570,660)"/>
    <wire from="(1570,660)" to="(1600,660)"/>
    <wire from="(1580,260)" to="(1580,350)"/>
    <wire from="(1580,350)" to="(1650,350)"/>
    <wire from="(1580,560)" to="(1580,570)"/>
    <wire from="(1580,600)" to="(1580,630)"/>
    <wire from="(1580,630)" to="(1600,630)"/>
    <wire from="(1590,1000)" to="(1610,1000)"/>
    <wire from="(1590,530)" to="(1600,530)"/>
    <wire from="(1590,600)" to="(1590,610)"/>
    <wire from="(1590,610)" to="(1600,610)"/>
    <wire from="(160,1000)" to="(160,1020)"/>
    <wire from="(160,1530)" to="(160,1550)"/>
    <wire from="(160,1550)" to="(180,1550)"/>
    <wire from="(160,1600)" to="(320,1600)"/>
    <wire from="(160,1640)" to="(180,1640)"/>
    <wire from="(160,1660)" to="(180,1660)"/>
    <wire from="(160,1690)" to="(260,1690)"/>
    <wire from="(160,1720)" to="(180,1720)"/>
    <wire from="(160,1740)" to="(180,1740)"/>
    <wire from="(160,1770)" to="(180,1770)"/>
    <wire from="(160,1790)" to="(180,1790)"/>
    <wire from="(160,1830)" to="(400,1830)"/>
    <wire from="(160,1900)" to="(180,1900)"/>
    <wire from="(160,1920)" to="(170,1920)"/>
    <wire from="(160,490)" to="(160,690)"/>
    <wire from="(160,690)" to="(210,690)"/>
    <wire from="(160,790)" to="(170,790)"/>
    <wire from="(1600,420)" to="(1610,420)"/>
    <wire from="(1610,1000)" to="(1620,1000)"/>
    <wire from="(1610,260)" to="(1610,420)"/>
    <wire from="(1610,420)" to="(1620,420)"/>
    <wire from="(1610,980)" to="(1610,1000)"/>
    <wire from="(1620,1000)" to="(1620,1220)"/>
    <wire from="(1630,1610)" to="(1630,1630)"/>
    <wire from="(1630,1630)" to="(1670,1630)"/>
    <wire from="(1640,1230)" to="(1680,1230)"/>
    <wire from="(1640,1240)" to="(1660,1240)"/>
    <wire from="(1650,1650)" to="(1670,1650)"/>
    <wire from="(1650,1680)" to="(1670,1680)"/>
    <wire from="(1650,1710)" to="(1660,1710)"/>
    <wire from="(1660,1240)" to="(1660,1250)"/>
    <wire from="(1660,1250)" to="(1680,1250)"/>
    <wire from="(1660,1660)" to="(1660,1710)"/>
    <wire from="(1660,1660)" to="(1670,1660)"/>
    <wire from="(1670,190)" to="(1690,190)"/>
    <wire from="(1670,240)" to="(1690,240)"/>
    <wire from="(1690,180)" to="(1690,190)"/>
    <wire from="(1690,180)" to="(1700,180)"/>
    <wire from="(1690,230)" to="(1690,240)"/>
    <wire from="(1690,240)" to="(1700,240)"/>
    <wire from="(1690,70)" to="(1690,180)"/>
    <wire from="(170,1000)" to="(170,1040)"/>
    <wire from="(170,1560)" to="(170,1570)"/>
    <wire from="(170,1570)" to="(180,1570)"/>
    <wire from="(170,180)" to="(240,180)"/>
    <wire from="(170,1910)" to="(170,1920)"/>
    <wire from="(170,1910)" to="(180,1910)"/>
    <wire from="(170,270)" to="(170,310)"/>
    <wire from="(170,310)" to="(260,310)"/>
    <wire from="(170,780)" to="(170,790)"/>
    <wire from="(170,790)" to="(170,900)"/>
    <wire from="(170,900)" to="(630,900)"/>
    <wire from="(1770,900)" to="(1800,900)"/>
    <wire from="(1790,800)" to="(1880,800)"/>
    <wire from="(180,1480)" to="(220,1480)"/>
    <wire from="(180,1520)" to="(240,1520)"/>
    <wire from="(180,980)" to="(210,980)"/>
    <wire from="(1810,1520)" to="(1820,1520)"/>
    <wire from="(1810,1540)" to="(1820,1540)"/>
    <wire from="(1810,1570)" to="(1820,1570)"/>
    <wire from="(1810,1590)" to="(1820,1590)"/>
    <wire from="(1820,1450)" to="(1860,1450)"/>
    <wire from="(1820,1490)" to="(1880,1490)"/>
    <wire from="(1840,1420)" to="(1840,1430)"/>
    <wire from="(1840,1430)" to="(1840,1470)"/>
    <wire from="(1840,1430)" to="(1860,1430)"/>
    <wire from="(1840,1470)" to="(1880,1470)"/>
    <wire from="(1840,350)" to="(1860,350)"/>
    <wire from="(1840,370)" to="(1870,370)"/>
    <wire from="(1840,410)" to="(1860,410)"/>
    <wire from="(1840,430)" to="(1870,430)"/>
    <wire from="(1840,890)" to="(1890,890)"/>
    <wire from="(1850,1530)" to="(1870,1530)"/>
    <wire from="(1850,1580)" to="(1890,1580)"/>
    <wire from="(1860,340)" to="(1860,350)"/>
    <wire from="(1860,350)" to="(1870,350)"/>
    <wire from="(1860,400)" to="(1860,410)"/>
    <wire from="(1860,410)" to="(1870,410)"/>
    <wire from="(1860,580)" to="(1890,580)"/>
    <wire from="(1860,630)" to="(1890,630)"/>
    <wire from="(1870,1460)" to="(1870,1530)"/>
    <wire from="(1880,760)" to="(1880,800)"/>
    <wire from="(1880,800)" to="(1880,830)"/>
    <wire from="(1880,830)" to="(1910,830)"/>
    <wire from="(1890,1440)" to="(1930,1440)"/>
    <wire from="(1890,1500)" to="(1890,1580)"/>
    <wire from="(1890,700)" to="(1890,720)"/>
    <wire from="(1890,700)" to="(1920,700)"/>
    <wire from="(1890,760)" to="(1890,850)"/>
    <wire from="(1890,850)" to="(1890,890)"/>
    <wire from="(1890,850)" to="(1900,850)"/>
    <wire from="(1890,890)" to="(1900,890)"/>
    <wire from="(190,100)" to="(210,100)"/>
    <wire from="(190,120)" to="(200,120)"/>
    <wire from="(190,140)" to="(220,140)"/>
    <wire from="(190,160)" to="(210,160)"/>
    <wire from="(190,510)" to="(200,510)"/>
    <wire from="(1900,760)" to="(1900,790)"/>
    <wire from="(1900,790)" to="(1920,790)"/>
    <wire from="(1910,1480)" to="(1920,1480)"/>
    <wire from="(1910,1680)" to="(1930,1680)"/>
    <wire from="(1910,360)" to="(1940,360)"/>
    <wire from="(1910,370)" to="(1920,370)"/>
    <wire from="(1910,420)" to="(1930,420)"/>
    <wire from="(1920,1460)" to="(1920,1480)"/>
    <wire from="(1920,1460)" to="(1930,1460)"/>
    <wire from="(1920,320)" to="(1920,370)"/>
    <wire from="(1920,320)" to="(1940,320)"/>
    <wire from="(1930,1610)" to="(1930,1680)"/>
    <wire from="(1930,1680)" to="(1970,1680)"/>
    <wire from="(1930,240)" to="(1970,240)"/>
    <wire from="(1930,280)" to="(1990,280)"/>
    <wire from="(1930,340)" to="(1930,380)"/>
    <wire from="(1930,340)" to="(1940,340)"/>
    <wire from="(1930,380)" to="(1930,420)"/>
    <wire from="(1930,380)" to="(1940,380)"/>
    <wire from="(1930,520)" to="(1950,520)"/>
    <wire from="(1930,540)" to="(1960,540)"/>
    <wire from="(1930,600)" to="(1960,600)"/>
    <wire from="(1930,630)" to="(1980,630)"/>
    <wire from="(1940,840)" to="(1950,840)"/>
    <wire from="(1950,210)" to="(1950,220)"/>
    <wire from="(1950,220)" to="(1950,260)"/>
    <wire from="(1950,220)" to="(1970,220)"/>
    <wire from="(1950,260)" to="(1990,260)"/>
    <wire from="(1950,460)" to="(1960,460)"/>
    <wire from="(1950,510)" to="(1950,520)"/>
    <wire from="(1960,1450)" to="(1980,1450)"/>
    <wire from="(1960,390)" to="(1960,460)"/>
    <wire from="(1960,390)" to="(2000,390)"/>
    <wire from="(1960,460)" to="(1960,470)"/>
    <wire from="(1960,510)" to="(1960,540)"/>
    <wire from="(1960,580)" to="(1960,600)"/>
    <wire from="(1970,330)" to="(2100,330)"/>
    <wire from="(1970,370)" to="(1980,370)"/>
    <wire from="(1970,500)" to="(1970,550)"/>
    <wire from="(1980,1430)" to="(1980,1450)"/>
    <wire from="(1980,1450)" to="(1990,1450)"/>
    <wire from="(1980,250)" to="(1980,370)"/>
    <wire from="(1980,370)" to="(2100,370)"/>
    <wire from="(1980,580)" to="(1980,630)"/>
    <wire from="(1990,1450)" to="(1990,1660)"/>
    <wire from="(200,120)" to="(200,130)"/>
    <wire from="(200,130)" to="(220,130)"/>
    <wire from="(200,1450)" to="(200,1460)"/>
    <wire from="(200,1460)" to="(200,1500)"/>
    <wire from="(200,1460)" to="(220,1460)"/>
    <wire from="(200,1500)" to="(240,1500)"/>
    <wire from="(200,1890)" to="(370,1890)"/>
    <wire from="(200,490)" to="(200,510)"/>
    <wire from="(200,510)" to="(290,510)"/>
    <wire from="(2000,230)" to="(2040,230)"/>
    <wire from="(2000,290)" to="(2000,390)"/>
    <wire from="(2010,1670)" to="(2050,1670)"/>
    <wire from="(2010,1680)" to="(2030,1680)"/>
    <wire from="(2020,270)" to="(2030,270)"/>
    <wire from="(2030,1680)" to="(2030,1690)"/>
    <wire from="(2030,1690)" to="(2050,1690)"/>
    <wire from="(2030,250)" to="(2030,270)"/>
    <wire from="(2030,250)" to="(2040,250)"/>
    <wire from="(2040,430)" to="(2050,430)"/>
    <wire from="(2040,450)" to="(2070,450)"/>
    <wire from="(2050,410)" to="(2060,410)"/>
    <wire from="(2050,430)" to="(2050,440)"/>
    <wire from="(2050,440)" to="(2070,440)"/>
    <wire from="(2060,410)" to="(2060,430)"/>
    <wire from="(2060,430)" to="(2070,430)"/>
    <wire from="(2070,240)" to="(2090,240)"/>
    <wire from="(2090,220)" to="(2090,240)"/>
    <wire from="(2090,240)" to="(2090,430)"/>
    <wire from="(210,100)" to="(210,120)"/>
    <wire from="(210,1120)" to="(210,1160)"/>
    <wire from="(210,1120)" to="(600,1120)"/>
    <wire from="(210,1160)" to="(220,1160)"/>
    <wire from="(210,120)" to="(220,120)"/>
    <wire from="(210,150)" to="(210,160)"/>
    <wire from="(210,150)" to="(220,150)"/>
    <wire from="(210,1560)" to="(230,1560)"/>
    <wire from="(210,1650)" to="(250,1650)"/>
    <wire from="(210,690)" to="(330,690)"/>
    <wire from="(210,980)" to="(210,1120)"/>
    <wire from="(210,980)" to="(220,980)"/>
    <wire from="(2110,450)" to="(2140,450)"/>
    <wire from="(2140,450)" to="(2140,500)"/>
    <wire from="(2140,450)" to="(2150,450)"/>
    <wire from="(220,1730)" to="(300,1730)"/>
    <wire from="(220,1780)" to="(390,1780)"/>
    <wire from="(220,1910)" to="(410,1910)"/>
    <wire from="(220,380)" to="(270,380)"/>
    <wire from="(220,790)" to="(230,790)"/>
    <wire from="(230,1490)" to="(230,1560)"/>
    <wire from="(230,490)" to="(230,530)"/>
    <wire from="(230,530)" to="(230,560)"/>
    <wire from="(230,530)" to="(280,530)"/>
    <wire from="(230,780)" to="(230,790)"/>
    <wire from="(230,790)" to="(230,890)"/>
    <wire from="(230,890)" to="(640,890)"/>
    <wire from="(240,160)" to="(240,180)"/>
    <wire from="(250,1470)" to="(290,1470)"/>
    <wire from="(250,1530)" to="(250,1650)"/>
    <wire from="(260,140)" to="(270,140)"/>
    <wire from="(260,160)" to="(260,310)"/>
    <wire from="(260,160)" to="(280,160)"/>
    <wire from="(260,1610)" to="(260,1690)"/>
    <wire from="(260,1610)" to="(320,1610)"/>
    <wire from="(260,490)" to="(260,550)"/>
    <wire from="(260,550)" to="(280,550)"/>
    <wire from="(270,140)" to="(280,140)"/>
    <wire from="(270,1510)" to="(280,1510)"/>
    <wire from="(270,380)" to="(270,400)"/>
    <wire from="(270,790)" to="(290,790)"/>
    <wire from="(270,90)" to="(270,140)"/>
    <wire from="(280,1490)" to="(280,1510)"/>
    <wire from="(280,1490)" to="(290,1490)"/>
    <wire from="(280,1710)" to="(290,1710)"/>
    <wire from="(290,300)" to="(300,300)"/>
    <wire from="(290,340)" to="(300,340)"/>
    <wire from="(290,600)" to="(300,600)"/>
    <wire from="(290,780)" to="(290,790)"/>
    <wire from="(290,790)" to="(290,880)"/>
    <wire from="(290,880)" to="(650,880)"/>
    <wire from="(300,570)" to="(300,600)"/>
    <wire from="(300,570)" to="(340,570)"/>
    <wire from="(320,1480)" to="(340,1480)"/>
    <wire from="(320,150)" to="(330,150)"/>
    <wire from="(330,150)" to="(330,180)"/>
    <wire from="(330,150)" to="(350,150)"/>
    <wire from="(330,1720)" to="(380,1720)"/>
    <wire from="(330,180)" to="(370,180)"/>
    <wire from="(330,660)" to="(330,670)"/>
    <wire from="(330,660)" to="(920,660)"/>
    <wire from="(330,670)" to="(340,670)"/>
    <wire from="(330,690)" to="(330,700)"/>
    <wire from="(330,690)" to="(830,690)"/>
    <wire from="(330,700)" to="(340,700)"/>
    <wire from="(340,1460)" to="(340,1480)"/>
    <wire from="(340,1480)" to="(340,1590)"/>
    <wire from="(340,1480)" to="(370,1480)"/>
    <wire from="(340,570)" to="(340,580)"/>
    <wire from="(340,570)" to="(360,570)"/>
    <wire from="(350,150)" to="(420,150)"/>
    <wire from="(350,320)" to="(380,320)"/>
    <wire from="(350,50)" to="(1290,50)"/>
    <wire from="(350,50)" to="(350,150)"/>
    <wire from="(360,160)" to="(360,200)"/>
    <wire from="(360,160)" to="(420,160)"/>
    <wire from="(360,1610)" to="(440,1610)"/>
    <wire from="(360,200)" to="(360,360)"/>
    <wire from="(360,200)" to="(370,200)"/>
    <wire from="(360,360)" to="(540,360)"/>
    <wire from="(360,490)" to="(360,570)"/>
    <wire from="(360,790)" to="(370,790)"/>
    <wire from="(370,1480)" to="(370,1890)"/>
    <wire from="(370,780)" to="(370,790)"/>
    <wire from="(370,790)" to="(370,870)"/>
    <wire from="(370,870)" to="(660,870)"/>
    <wire from="(380,1590)" to="(380,1720)"/>
    <wire from="(380,1590)" to="(530,1590)"/>
    <wire from="(380,210)" to="(380,260)"/>
    <wire from="(380,260)" to="(380,320)"/>
    <wire from="(380,260)" to="(690,260)"/>
    <wire from="(390,1650)" to="(390,1780)"/>
    <wire from="(390,1650)" to="(530,1650)"/>
    <wire from="(390,490)" to="(390,520)"/>
    <wire from="(390,520)" to="(390,530)"/>
    <wire from="(390,520)" to="(400,520)"/>
    <wire from="(400,1630)" to="(400,1830)"/>
    <wire from="(400,1630)" to="(490,1630)"/>
    <wire from="(400,190)" to="(410,190)"/>
    <wire from="(400,410)" to="(410,410)"/>
    <wire from="(400,420)" to="(410,420)"/>
    <wire from="(400,430)" to="(410,430)"/>
    <wire from="(400,440)" to="(410,440)"/>
    <wire from="(400,450)" to="(410,450)"/>
    <wire from="(400,460)" to="(410,460)"/>
    <wire from="(410,170)" to="(420,170)"/>
    <wire from="(410,1710)" to="(410,1910)"/>
    <wire from="(410,1710)" to="(530,1710)"/>
    <wire from="(410,180)" to="(410,190)"/>
    <wire from="(410,180)" to="(420,180)"/>
    <wire from="(410,1910)" to="(440,1910)"/>
    <wire from="(410,70)" to="(410,170)"/>
    <wire from="(410,70)" to="(790,70)"/>
    <wire from="(410,790)" to="(420,790)"/>
    <wire from="(420,780)" to="(420,790)"/>
    <wire from="(420,790)" to="(420,860)"/>
    <wire from="(420,860)" to="(670,860)"/>
    <wire from="(440,1530)" to="(440,1610)"/>
    <wire from="(440,1610)" to="(530,1610)"/>
    <wire from="(440,190)" to="(440,210)"/>
    <wire from="(440,400)" to="(480,400)"/>
    <wire from="(440,420)" to="(480,420)"/>
    <wire from="(440,430)" to="(560,430)"/>
    <wire from="(440,440)" to="(560,440)"/>
    <wire from="(440,460)" to="(480,460)"/>
    <wire from="(440,480)" to="(480,480)"/>
    <wire from="(460,1030)" to="(730,1030)"/>
    <wire from="(460,1210)" to="(480,1210)"/>
    <wire from="(460,170)" to="(480,170)"/>
    <wire from="(460,790)" to="(470,790)"/>
    <wire from="(470,780)" to="(470,790)"/>
    <wire from="(470,790)" to="(470,850)"/>
    <wire from="(470,850)" to="(680,850)"/>
    <wire from="(480,400)" to="(490,400)"/>
    <wire from="(480,420)" to="(520,420)"/>
    <wire from="(480,550)" to="(490,550)"/>
    <wire from="(490,1550)" to="(490,1630)"/>
    <wire from="(490,1630)" to="(530,1630)"/>
    <wire from="(490,490)" to="(490,550)"/>
    <wire from="(500,1200)" to="(590,1200)"/>
    <wire from="(500,1210)" to="(550,1210)"/>
    <wire from="(500,1670)" to="(530,1670)"/>
    <wire from="(510,1810)" to="(530,1810)"/>
    <wire from="(510,470)" to="(530,470)"/>
    <wire from="(510,790)" to="(520,790)"/>
    <wire from="(520,420)" to="(520,560)"/>
    <wire from="(520,560)" to="(520,650)"/>
    <wire from="(520,560)" to="(550,560)"/>
    <wire from="(520,650)" to="(980,650)"/>
    <wire from="(520,780)" to="(520,790)"/>
    <wire from="(520,790)" to="(520,840)"/>
    <wire from="(520,840)" to="(690,840)"/>
    <wire from="(530,470)" to="(530,490)"/>
    <wire from="(530,490)" to="(540,490)"/>
    <wire from="(540,360)" to="(540,490)"/>
    <wire from="(540,490)" to="(540,610)"/>
    <wire from="(540,610)" to="(540,640)"/>
    <wire from="(540,610)" to="(550,610)"/>
    <wire from="(540,640)" to="(970,640)"/>
    <wire from="(550,1170)" to="(550,1210)"/>
    <wire from="(550,1210)" to="(550,1290)"/>
    <wire from="(550,1290)" to="(630,1290)"/>
    <wire from="(560,430)" to="(590,430)"/>
    <wire from="(560,440)" to="(580,440)"/>
    <wire from="(570,790)" to="(580,790)"/>
    <wire from="(580,180)" to="(580,440)"/>
    <wire from="(580,180)" to="(660,180)"/>
    <wire from="(580,440)" to="(580,530)"/>
    <wire from="(580,530)" to="(650,530)"/>
    <wire from="(580,780)" to="(580,790)"/>
    <wire from="(580,790)" to="(580,830)"/>
    <wire from="(580,830)" to="(700,830)"/>
    <wire from="(590,1200)" to="(590,1230)"/>
    <wire from="(590,1230)" to="(630,1230)"/>
    <wire from="(590,350)" to="(590,430)"/>
    <wire from="(590,350)" to="(720,350)"/>
    <wire from="(590,430)" to="(670,430)"/>
    <wire from="(600,1120)" to="(600,1200)"/>
    <wire from="(600,1200)" to="(630,1200)"/>
    <wire from="(600,1260)" to="(630,1260)"/>
    <wire from="(600,1320)" to="(630,1320)"/>
    <wire from="(600,1350)" to="(630,1350)"/>
    <wire from="(600,1370)" to="(630,1370)"/>
    <wire from="(630,900)" to="(630,950)"/>
    <wire from="(640,550)" to="(650,550)"/>
    <wire from="(640,570)" to="(660,570)"/>
    <wire from="(640,890)" to="(640,950)"/>
    <wire from="(650,1370)" to="(650,1400)"/>
    <wire from="(650,200)" to="(660,200)"/>
    <wire from="(650,880)" to="(650,950)"/>
    <wire from="(660,220)" to="(670,220)"/>
    <wire from="(660,450)" to="(670,450)"/>
    <wire from="(660,480)" to="(680,480)"/>
    <wire from="(660,560)" to="(660,570)"/>
    <wire from="(660,870)" to="(660,950)"/>
    <wire from="(670,210)" to="(670,220)"/>
    <wire from="(670,280)" to="(730,280)"/>
    <wire from="(670,370)" to="(780,370)"/>
    <wire from="(670,790)" to="(700,790)"/>
    <wire from="(670,860)" to="(670,950)"/>
    <wire from="(680,460)" to="(680,480)"/>
    <wire from="(680,540)" to="(690,540)"/>
    <wire from="(680,850)" to="(680,950)"/>
    <wire from="(690,1750)" to="(710,1750)"/>
    <wire from="(690,1770)" to="(750,1770)"/>
    <wire from="(690,1790)" to="(740,1790)"/>
    <wire from="(690,1810)" to="(720,1810)"/>
    <wire from="(690,190)" to="(730,190)"/>
    <wire from="(690,240)" to="(690,260)"/>
    <wire from="(690,240)" to="(710,240)"/>
    <wire from="(690,540)" to="(690,600)"/>
    <wire from="(690,540)" to="(710,540)"/>
    <wire from="(690,600)" to="(700,600)"/>
    <wire from="(690,840)" to="(690,950)"/>
    <wire from="(70,320)" to="(90,320)"/>
    <wire from="(700,440)" to="(710,440)"/>
    <wire from="(700,780)" to="(700,790)"/>
    <wire from="(700,790)" to="(700,820)"/>
    <wire from="(700,820)" to="(710,820)"/>
    <wire from="(700,830)" to="(700,950)"/>
    <wire from="(710,820)" to="(710,950)"/>
    <wire from="(720,1810)" to="(720,1880)"/>
    <wire from="(720,1880)" to="(810,1880)"/>
    <wire from="(720,340)" to="(720,350)"/>
    <wire from="(720,340)" to="(730,340)"/>
    <wire from="(720,820)" to="(720,950)"/>
    <wire from="(720,820)" to="(760,820)"/>
    <wire from="(730,1270)" to="(750,1270)"/>
    <wire from="(730,260)" to="(730,280)"/>
    <wire from="(730,830)" to="(730,950)"/>
    <wire from="(730,830)" to="(820,830)"/>
    <wire from="(730,970)" to="(730,1030)"/>
    <wire from="(740,1790)" to="(740,1870)"/>
    <wire from="(740,1870)" to="(800,1870)"/>
    <wire from="(740,610)" to="(750,610)"/>
    <wire from="(740,840)" to="(740,950)"/>
    <wire from="(740,840)" to="(870,840)"/>
    <wire from="(750,1270)" to="(750,1390)"/>
    <wire from="(750,1390)" to="(770,1390)"/>
    <wire from="(750,1770)" to="(750,1840)"/>
    <wire from="(750,1840)" to="(750,1910)"/>
    <wire from="(750,1840)" to="(790,1840)"/>
    <wire from="(750,240)" to="(780,240)"/>
    <wire from="(750,440)" to="(770,440)"/>
    <wire from="(750,540)" to="(760,540)"/>
    <wire from="(750,610)" to="(750,670)"/>
    <wire from="(750,670)" to="(950,670)"/>
    <wire from="(750,790)" to="(760,790)"/>
    <wire from="(750,850)" to="(750,950)"/>
    <wire from="(750,850)" to="(960,850)"/>
    <wire from="(760,1750)" to="(760,1850)"/>
    <wire from="(760,1850)" to="(790,1850)"/>
    <wire from="(760,540)" to="(760,630)"/>
    <wire from="(760,630)" to="(910,630)"/>
    <wire from="(760,780)" to="(760,790)"/>
    <wire from="(760,790)" to="(760,820)"/>
    <wire from="(760,860)" to="(1010,860)"/>
    <wire from="(760,860)" to="(760,950)"/>
    <wire from="(770,190)" to="(780,190)"/>
    <wire from="(770,340)" to="(780,340)"/>
    <wire from="(770,440)" to="(770,620)"/>
    <wire from="(770,620)" to="(900,620)"/>
    <wire from="(770,870)" to="(1060,870)"/>
    <wire from="(770,870)" to="(770,950)"/>
    <wire from="(780,880)" to="(1110,880)"/>
    <wire from="(780,880)" to="(780,950)"/>
    <wire from="(790,70)" to="(1510,70)"/>
    <wire from="(790,70)" to="(790,110)"/>
    <wire from="(790,890)" to="(1170,890)"/>
    <wire from="(790,890)" to="(790,950)"/>
    <wire from="(80,260)" to="(80,310)"/>
    <wire from="(80,310)" to="(90,310)"/>
    <wire from="(80,660)" to="(110,660)"/>
    <wire from="(80,690)" to="(100,690)"/>
    <wire from="(800,1860)" to="(800,1870)"/>
    <wire from="(800,900)" to="(1250,900)"/>
    <wire from="(800,900)" to="(800,950)"/>
    <wire from="(810,1860)" to="(810,1880)"/>
    <wire from="(810,90)" to="(1270,90)"/>
    <wire from="(810,90)" to="(810,110)"/>
    <wire from="(810,910)" to="(1340,910)"/>
    <wire from="(810,910)" to="(810,950)"/>
    <wire from="(820,130)" to="(840,130)"/>
    <wire from="(820,140)" to="(840,140)"/>
    <wire from="(820,190)" to="(840,190)"/>
    <wire from="(820,200)" to="(840,200)"/>
    <wire from="(820,250)" to="(840,250)"/>
    <wire from="(820,260)" to="(840,260)"/>
    <wire from="(820,310)" to="(840,310)"/>
    <wire from="(820,320)" to="(840,320)"/>
    <wire from="(820,370)" to="(840,370)"/>
    <wire from="(820,380)" to="(840,380)"/>
    <wire from="(820,430)" to="(840,430)"/>
    <wire from="(820,440)" to="(840,440)"/>
    <wire from="(820,490)" to="(840,490)"/>
    <wire from="(820,500)" to="(840,500)"/>
    <wire from="(820,550)" to="(840,550)"/>
    <wire from="(820,560)" to="(840,560)"/>
    <wire from="(820,780)" to="(820,790)"/>
    <wire from="(820,790)" to="(820,830)"/>
    <wire from="(820,790)" to="(830,790)"/>
    <wire from="(820,920)" to="(1390,920)"/>
    <wire from="(820,920)" to="(820,950)"/>
    <wire from="(830,160)" to="(830,220)"/>
    <wire from="(830,160)" to="(850,160)"/>
    <wire from="(830,220)" to="(830,280)"/>
    <wire from="(830,220)" to="(850,220)"/>
    <wire from="(830,280)" to="(830,340)"/>
    <wire from="(830,280)" to="(850,280)"/>
    <wire from="(830,340)" to="(830,400)"/>
    <wire from="(830,340)" to="(850,340)"/>
    <wire from="(830,400)" to="(830,460)"/>
    <wire from="(830,400)" to="(850,400)"/>
    <wire from="(830,460)" to="(830,520)"/>
    <wire from="(830,460)" to="(850,460)"/>
    <wire from="(830,520)" to="(830,580)"/>
    <wire from="(830,520)" to="(850,520)"/>
    <wire from="(830,580)" to="(830,690)"/>
    <wire from="(830,580)" to="(850,580)"/>
    <wire from="(830,690)" to="(1190,690)"/>
    <wire from="(850,150)" to="(850,160)"/>
    <wire from="(850,210)" to="(850,220)"/>
    <wire from="(850,270)" to="(850,280)"/>
    <wire from="(850,330)" to="(850,340)"/>
    <wire from="(850,390)" to="(850,400)"/>
    <wire from="(850,450)" to="(850,460)"/>
    <wire from="(850,510)" to="(850,520)"/>
    <wire from="(850,570)" to="(850,580)"/>
    <wire from="(860,150)" to="(860,160)"/>
    <wire from="(860,160)" to="(890,160)"/>
    <wire from="(860,210)" to="(860,220)"/>
    <wire from="(860,220)" to="(890,220)"/>
    <wire from="(860,270)" to="(860,280)"/>
    <wire from="(860,280)" to="(890,280)"/>
    <wire from="(860,330)" to="(860,340)"/>
    <wire from="(860,340)" to="(890,340)"/>
    <wire from="(860,390)" to="(860,400)"/>
    <wire from="(860,400)" to="(890,400)"/>
    <wire from="(860,450)" to="(860,460)"/>
    <wire from="(860,460)" to="(890,460)"/>
    <wire from="(860,510)" to="(860,520)"/>
    <wire from="(860,520)" to="(890,520)"/>
    <wire from="(860,570)" to="(860,580)"/>
    <wire from="(860,580)" to="(890,580)"/>
    <wire from="(870,130)" to="(890,130)"/>
    <wire from="(870,190)" to="(890,190)"/>
    <wire from="(870,250)" to="(890,250)"/>
    <wire from="(870,310)" to="(890,310)"/>
    <wire from="(870,370)" to="(890,370)"/>
    <wire from="(870,430)" to="(890,430)"/>
    <wire from="(870,490)" to="(890,490)"/>
    <wire from="(870,550)" to="(890,550)"/>
    <wire from="(870,780)" to="(870,790)"/>
    <wire from="(870,790)" to="(870,840)"/>
    <wire from="(870,790)" to="(880,790)"/>
    <wire from="(900,610)" to="(900,620)"/>
    <wire from="(910,1250)" to="(960,1250)"/>
    <wire from="(910,1270)" to="(920,1270)"/>
    <wire from="(910,1290)" to="(920,1290)"/>
    <wire from="(910,610)" to="(910,630)"/>
    <wire from="(920,610)" to="(920,660)"/>
    <wire from="(920,660)" to="(1200,660)"/>
    <wire from="(930,170)" to="(950,170)"/>
    <wire from="(930,300)" to="(960,300)"/>
    <wire from="(950,110)" to="(950,170)"/>
    <wire from="(950,110)" to="(980,110)"/>
    <wire from="(950,1280)" to="(970,1280)"/>
    <wire from="(950,170)" to="(1050,170)"/>
    <wire from="(950,410)" to="(1050,410)"/>
    <wire from="(950,410)" to="(950,670)"/>
    <wire from="(960,1250)" to="(960,1270)"/>
    <wire from="(960,1270)" to="(980,1270)"/>
    <wire from="(960,130)" to="(960,300)"/>
    <wire from="(960,130)" to="(980,130)"/>
    <wire from="(960,1320)" to="(1120,1320)"/>
    <wire from="(960,1360)" to="(980,1360)"/>
    <wire from="(960,1380)" to="(980,1380)"/>
    <wire from="(960,1410)" to="(1060,1410)"/>
    <wire from="(960,300)" to="(960,350)"/>
    <wire from="(960,350)" to="(1080,350)"/>
    <wire from="(960,780)" to="(960,790)"/>
    <wire from="(960,790)" to="(960,850)"/>
    <wire from="(960,790)" to="(970,790)"/>
    <wire from="(970,1280)" to="(970,1290)"/>
    <wire from="(970,1290)" to="(980,1290)"/>
    <wire from="(970,200)" to="(1060,200)"/>
    <wire from="(970,200)" to="(970,630)"/>
    <wire from="(970,630)" to="(1000,630)"/>
    <wire from="(970,630)" to="(970,640)"/>
    <wire from="(980,1200)" to="(1020,1200)"/>
    <wire from="(980,1240)" to="(1040,1240)"/>
    <wire from="(980,470)" to="(1080,470)"/>
    <wire from="(980,470)" to="(980,650)"/>
  </circuit>
  <circuit name="isplit">
    <a name="appearance" val="custom"/>
    <appear>
      <circ-anchor facing="east" height="6" width="6" x="127" y="47"/>
      <circ-port height="10" pin="360,220" width="10" x="125" y="105"/>
      <circ-port height="10" pin="360,360" width="10" x="125" y="125"/>
      <circ-port height="10" pin="400,120" width="10" x="125" y="75"/>
      <circ-port height="10" pin="400,150" width="10" x="125" y="85"/>
      <circ-port height="10" pin="400,60" width="10" x="125" y="45"/>
      <circ-port height="10" pin="400,90" width="10" x="125" y="65"/>
      <circ-port height="8" pin="140,150" width="8" x="96" y="66"/>
      <circ-port height="8" pin="140,210" width="8" x="96" y="76"/>
      <circ-port height="8" pin="140,270" width="8" x="96" y="86"/>
      <circ-port height="8" pin="140,330" width="8" x="96" y="96"/>
      <circ-port height="8" pin="140,390" width="8" x="96" y="106"/>
      <circ-port height="8" pin="140,90" width="8" x="96" y="56"/>
      <rect fill="none" height="100" stroke="#000000" stroke-width="2" width="30" x="100" y="40"/>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="115" y="112">I</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="115" y="60">I</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="115" y="85">P</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="116" y="125">T</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="116" y="72">S</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="116" y="98">L</text>
    </appear>
    <comp lib="0" loc="(140,150)" name="Pin">
      <a name="label" val="B1"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(140,210)" name="Pin">
      <a name="label" val="B2"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(140,270)" name="Pin">
      <a name="label" val="B3"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(140,330)" name="Pin">
      <a name="label" val="B4"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(140,390)" name="Pin">
      <a name="label" val="B5"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(140,90)" name="Pin">
      <a name="label" val="B0"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(140,90)" name="Splitter">
      <a name="appear" val="center"/>
      <a name="bit0" val="1"/>
      <a name="bit2" val="1"/>
      <a name="bit3" val="1"/>
      <a name="bit4" val="0"/>
      <a name="bit5" val="0"/>
      <a name="bit6" val="0"/>
      <a name="bit7" val="0"/>
      <a name="incoming" val="8"/>
    </comp>
    <comp lib="0" loc="(190,150)" name="Splitter">
      <a name="appear" val="center"/>
      <a name="bit0" val="1"/>
      <a name="bit2" val="1"/>
      <a name="bit3" val="1"/>
      <a name="bit4" val="0"/>
      <a name="bit5" val="0"/>
      <a name="bit6" val="0"/>
      <a name="bit7" val="0"/>
      <a name="incoming" val="8"/>
    </comp>
    <comp lib="0" loc="(320,220)" name="Splitter">
      <a name="appear" val="center"/>
      <a name="bit1" val="0"/>
      <a name="bit10" val="1"/>
      <a name="bit11" val="1"/>
      <a name="bit12" val="1"/>
      <a name="bit13" val="1"/>
      <a name="bit14" val="1"/>
      <a name="bit15" val="1"/>
      <a name="bit16" val="2"/>
      <a name="bit17" val="2"/>
      <a name="bit18" val="2"/>
      <a name="bit19" val="2"/>
      <a name="bit2" val="0"/>
      <a name="bit20" val="2"/>
      <a name="bit21" val="2"/>
      <a name="bit22" val="2"/>
      <a name="bit23" val="2"/>
      <a name="bit24" val="3"/>
      <a name="bit25" val="3"/>
      <a name="bit26" val="3"/>
      <a name="bit27" val="3"/>
      <a name="bit28" val="3"/>
      <a name="bit29" val="3"/>
      <a name="bit3" val="0"/>
      <a name="bit30" val="3"/>
      <a name="bit31" val="3"/>
      <a name="bit4" val="0"/>
      <a name="bit5" val="0"/>
      <a name="bit6" val="0"/>
      <a name="bit7" val="0"/>
      <a name="bit8" val="1"/>
      <a name="bit9" val="1"/>
      <a name="facing" val="west"/>
      <a name="fanout" val="4"/>
      <a name="incoming" val="32"/>
    </comp>
    <comp lib="0" loc="(320,360)" name="Splitter">
      <a name="appear" val="center"/>
      <a name="bit1" val="0"/>
      <a name="bit10" val="1"/>
      <a name="bit11" val="1"/>
      <a name="bit12" val="1"/>
      <a name="bit13" val="1"/>
      <a name="bit14" val="1"/>
      <a name="bit15" val="1"/>
      <a name="bit16" val="2"/>
      <a name="bit17" val="2"/>
      <a name="bit18" val="2"/>
      <a name="bit19" val="2"/>
      <a name="bit2" val="0"/>
      <a name="bit20" val="2"/>
      <a name="bit21" val="2"/>
      <a name="bit22" val="2"/>
      <a name="bit23" val="2"/>
      <a name="bit24" val="3"/>
      <a name="bit25" val="3"/>
      <a name="bit26" val="3"/>
      <a name="bit27" val="3"/>
      <a name="bit28" val="3"/>
      <a name="bit29" val="3"/>
      <a name="bit3" val="0"/>
      <a name="bit30" val="3"/>
      <a name="bit31" val="3"/>
      <a name="bit4" val="0"/>
      <a name="bit5" val="0"/>
      <a name="bit6" val="0"/>
      <a name="bit7" val="0"/>
      <a name="bit8" val="1"/>
      <a name="bit9" val="1"/>
      <a name="facing" val="west"/>
      <a name="fanout" val="4"/>
      <a name="incoming" val="32"/>
    </comp>
    <comp lib="0" loc="(360,220)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="Dest"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(360,360)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="D/V"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(400,120)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="rA"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(400,150)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="rB"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(400,60)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="icode"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(400,90)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="ifun"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
      <a name="width" val="4"/>
    </comp>
    <wire from="(140,150)" to="(160,150)"/>
    <wire from="(140,210)" to="(210,210)"/>
    <wire from="(140,270)" to="(200,270)"/>
    <wire from="(140,330)" to="(190,330)"/>
    <wire from="(140,390)" to="(220,390)"/>
    <wire from="(160,150)" to="(160,180)"/>
    <wire from="(160,150)" to="(190,150)"/>
    <wire from="(160,180)" to="(260,180)"/>
    <wire from="(160,60)" to="(160,80)"/>
    <wire from="(160,60)" to="(400,60)"/>
    <wire from="(160,90)" to="(400,90)"/>
    <wire from="(190,330)" to="(190,360)"/>
    <wire from="(190,330)" to="(230,330)"/>
    <wire from="(190,360)" to="(300,360)"/>
    <wire from="(200,270)" to="(200,350)"/>
    <wire from="(200,270)" to="(220,270)"/>
    <wire from="(200,350)" to="(300,350)"/>
    <wire from="(210,120)" to="(210,140)"/>
    <wire from="(210,120)" to="(400,120)"/>
    <wire from="(210,150)" to="(400,150)"/>
    <wire from="(210,210)" to="(210,340)"/>
    <wire from="(210,210)" to="(300,210)"/>
    <wire from="(210,340)" to="(300,340)"/>
    <wire from="(220,220)" to="(220,270)"/>
    <wire from="(220,220)" to="(300,220)"/>
    <wire from="(220,370)" to="(220,390)"/>
    <wire from="(220,370)" to="(300,370)"/>
    <wire from="(230,230)" to="(230,330)"/>
    <wire from="(230,230)" to="(300,230)"/>
    <wire from="(260,180)" to="(260,200)"/>
    <wire from="(260,200)" to="(300,200)"/>
    <wire from="(320,220)" to="(360,220)"/>
    <wire from="(320,360)" to="(360,360)"/>
  </circuit>
  <circuit name="regreader">
    <a name="appearance" val="custom"/>
    <appear>
      <circ-anchor facing="east" height="6" width="6" x="177" y="37"/>
      <circ-port height="10" pin="240,170" width="10" x="175" y="95"/>
      <circ-port height="10" pin="240,280" width="10" x="175" y="225"/>
      <circ-port height="10" pin="480,190" width="10" x="135" y="85"/>
      <circ-port height="10" pin="480,290" width="10" x="135" y="145"/>
      <circ-port height="10" pin="480,400" width="10" x="135" y="205"/>
      <circ-port height="10" pin="480,510" width="10" x="135" y="265"/>
      <circ-port height="10" pin="480,620" width="10" x="135" y="325"/>
      <circ-port height="10" pin="480,730" width="10" x="135" y="385"/>
      <circ-port height="10" pin="480,840" width="10" x="135" y="445"/>
      <circ-port height="10" pin="480,950" width="10" x="135" y="505"/>
      <circ-port height="8" pin="240,100" width="8" x="166" y="536"/>
      <circ-port height="8" pin="240,220" width="8" x="146" y="536"/>
      <circ-port height="8" pin="240,330" width="8" x="156" y="536"/>
      <circ-port height="8" pin="480,1000" width="8" x="136" y="476"/>
      <circ-port height="8" pin="480,240" width="8" x="136" y="56"/>
      <circ-port height="8" pin="480,340" width="8" x="136" y="116"/>
      <circ-port height="8" pin="480,450" width="8" x="136" y="176"/>
      <circ-port height="8" pin="480,560" width="8" x="136" y="236"/>
      <circ-port height="8" pin="480,670" width="8" x="136" y="296"/>
      <circ-port height="8" pin="480,780" width="8" x="136" y="356"/>
      <circ-port height="8" pin="480,890" width="8" x="136" y="416"/>
      <rect fill="none" height="500" stroke="#000000" width="40" x="140" y="40"/>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="150" y="524">src</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="151" y="535">A</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="158" y="535">B</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="160" y="74">REG</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="160" y="89">RD</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="165" y="234">vB</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="166" y="104">vA</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="172" y="535">0</text>
    </appear>
    <comp lib="0" loc="(240,100)" name="Pin">
      <a name="label" val="reset"/>
    </comp>
    <comp lib="0" loc="(240,170)" name="Pin">
      <a name="label" val="valA"/>
      <a name="type" val="output"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(240,220)" name="Pin">
      <a name="label" val="srcA"/>
      <a name="width" val="3"/>
    </comp>
    <comp lib="0" loc="(240,280)" name="Pin">
      <a name="label" val="valB"/>
      <a name="type" val="output"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(240,330)" name="Pin">
      <a name="label" val="srcB"/>
      <a name="width" val="3"/>
    </comp>
    <comp lib="0" loc="(480,1000)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="Q"/>
      <a name="labelloc" val="east"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(480,190)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="CLR"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(480,240)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="Q"/>
      <a name="labelloc" val="east"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(480,290)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="CLR"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(480,340)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="Q"/>
      <a name="labelloc" val="east"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(480,400)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="CLR"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(480,450)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="Q"/>
      <a name="labelloc" val="east"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(480,510)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="CLR"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(480,560)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="Q"/>
      <a name="labelloc" val="east"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(480,620)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="CLR"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(480,670)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="Q"/>
      <a name="labelloc" val="east"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(480,730)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="CLR"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(480,780)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="Q"/>
      <a name="labelloc" val="east"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(480,840)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="CLR"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(480,890)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="Q"/>
      <a name="labelloc" val="east"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(480,950)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="CLR"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="2" loc="(280,170)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="facing" val="west"/>
      <a name="select" val="3"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="2" loc="(280,280)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="facing" val="west"/>
      <a name="select" val="3"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="6" loc="(510,46)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">Design thinking:
1. Use a multiplexer for each source (srcA and srcB) to
output the register contents for the specified source register.
2. Connect the corresponding inputs for the multiplexer
together in pairs (the two register 0 inputs go the first/top slot).
3. Connect the reset into each of the clear (CLR) outputs for
resetting the registers.</a>
    </comp>
    <comp lib="6" loc="(605,997)" name="Text">
      <a name="text" val="for reg 7"/>
    </comp>
    <comp lib="6" loc="(622,221)" name="Text">
      <a name="text" val="for reg 0"/>
    </comp>
    <comp lib="6" loc="(757,203)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">Testing (done in HW3 jointly with regwriter):
Format: valE | dstE | reqE | valM | dstM | reqM | clock | clr | srcA | valA | srcB | valB

00000002 | 000 | 1 | 30000000 | 000 | 1 | 0-&gt;1 | 0 | 000 | 00000000 | 000 | 00000000

01031b09 | 010 | 1 | 83001001 | 011 | 1 | 1-&gt;0 | 0 | 011 | 00000000 | 010 | 00000000
(values in registers were all 0s before for above test)
01031b09 | 010 | 1 | 83001001 | 011 | 1 | 0-&gt;1 | 0 | 011 | 83001001 | 010 | 01031b09

(All tests below are done in succession)
0aa00aa0 | 101 | 0 | f00ff00f | 111 | 1 | 0-&gt;1 | 0 | 101 | 00000000 | 111 | f00ff00f
0aa00aa0 | 101 | 0 | f00ff00f | 111 | 1 | 1-&gt;0 | 0 | 101 | 00000000 | 111 | f00ff00f 
0aa00aa0 | 101 | 1 | f00ff00f | 111 | 0 | 0-&gt;1 | 0 | 101 | 0aa00aa0 | 111 | f00ff00f
0aa00aa0 | 101 | 1 | f00ff00f | 111 | 0 | 0 | 0-&gt;1 | 101 | 00000000 | 111 | 00000000</a>
    </comp>
    <wire from="(240,100)" to="(460,100)"/>
    <wire from="(240,170)" to="(280,170)"/>
    <wire from="(240,220)" to="(300,220)"/>
    <wire from="(240,280)" to="(280,280)"/>
    <wire from="(240,330)" to="(300,330)"/>
    <wire from="(300,210)" to="(300,220)"/>
    <wire from="(300,320)" to="(300,330)"/>
    <wire from="(320,130)" to="(400,130)"/>
    <wire from="(320,140)" to="(390,140)"/>
    <wire from="(320,150)" to="(380,150)"/>
    <wire from="(320,160)" to="(370,160)"/>
    <wire from="(320,170)" to="(360,170)"/>
    <wire from="(320,180)" to="(350,180)"/>
    <wire from="(320,190)" to="(340,190)"/>
    <wire from="(320,200)" to="(330,200)"/>
    <wire from="(320,240)" to="(400,240)"/>
    <wire from="(320,250)" to="(390,250)"/>
    <wire from="(320,260)" to="(380,260)"/>
    <wire from="(320,270)" to="(370,270)"/>
    <wire from="(320,280)" to="(360,280)"/>
    <wire from="(320,290)" to="(350,290)"/>
    <wire from="(320,300)" to="(340,300)"/>
    <wire from="(320,310)" to="(330,310)"/>
    <wire from="(330,1000)" to="(480,1000)"/>
    <wire from="(330,200)" to="(330,310)"/>
    <wire from="(330,310)" to="(330,1000)"/>
    <wire from="(340,190)" to="(340,300)"/>
    <wire from="(340,300)" to="(340,890)"/>
    <wire from="(340,890)" to="(480,890)"/>
    <wire from="(350,180)" to="(350,290)"/>
    <wire from="(350,290)" to="(350,780)"/>
    <wire from="(350,780)" to="(480,780)"/>
    <wire from="(360,170)" to="(360,280)"/>
    <wire from="(360,280)" to="(360,670)"/>
    <wire from="(360,670)" to="(480,670)"/>
    <wire from="(370,160)" to="(370,270)"/>
    <wire from="(370,270)" to="(370,560)"/>
    <wire from="(370,560)" to="(480,560)"/>
    <wire from="(380,150)" to="(380,260)"/>
    <wire from="(380,260)" to="(380,450)"/>
    <wire from="(380,450)" to="(480,450)"/>
    <wire from="(390,140)" to="(390,250)"/>
    <wire from="(390,250)" to="(390,340)"/>
    <wire from="(390,340)" to="(480,340)"/>
    <wire from="(400,130)" to="(400,240)"/>
    <wire from="(400,240)" to="(480,240)"/>
    <wire from="(460,100)" to="(460,190)"/>
    <wire from="(460,190)" to="(460,290)"/>
    <wire from="(460,190)" to="(480,190)"/>
    <wire from="(460,290)" to="(460,400)"/>
    <wire from="(460,290)" to="(480,290)"/>
    <wire from="(460,400)" to="(460,510)"/>
    <wire from="(460,400)" to="(480,400)"/>
    <wire from="(460,510)" to="(460,620)"/>
    <wire from="(460,510)" to="(480,510)"/>
    <wire from="(460,620)" to="(460,730)"/>
    <wire from="(460,620)" to="(480,620)"/>
    <wire from="(460,730)" to="(460,840)"/>
    <wire from="(460,730)" to="(480,730)"/>
    <wire from="(460,840)" to="(460,950)"/>
    <wire from="(460,840)" to="(480,840)"/>
    <wire from="(460,950)" to="(480,950)"/>
  </circuit>
  <circuit name="regwriter">
    <a name="appearance" val="custom"/>
    <appear>
      <circ-anchor facing="east" height="6" width="6" x="137" y="57"/>
      <circ-port height="10" pin="900,1020" width="10" x="135" y="355"/>
      <circ-port height="10" pin="900,1080" width="10" x="135" y="365"/>
      <circ-port height="10" pin="900,1180" width="10" x="135" y="415"/>
      <circ-port height="10" pin="900,1240" width="10" x="135" y="425"/>
      <circ-port height="10" pin="900,1340" width="10" x="135" y="475"/>
      <circ-port height="10" pin="900,1400" width="10" x="135" y="485"/>
      <circ-port height="10" pin="900,220" width="10" x="135" y="55"/>
      <circ-port height="10" pin="900,280" width="10" x="135" y="65"/>
      <circ-port height="10" pin="900,380" width="10" x="135" y="115"/>
      <circ-port height="10" pin="900,440" width="10" x="135" y="125"/>
      <circ-port height="10" pin="900,540" width="10" x="135" y="175"/>
      <circ-port height="10" pin="900,600" width="10" x="135" y="185"/>
      <circ-port height="10" pin="900,700" width="10" x="135" y="235"/>
      <circ-port height="10" pin="900,760" width="10" x="135" y="245"/>
      <circ-port height="10" pin="900,860" width="10" x="135" y="295"/>
      <circ-port height="10" pin="900,920" width="10" x="135" y="305"/>
      <circ-port height="8" pin="260,200" width="8" x="96" y="166"/>
      <circ-port height="8" pin="260,260" width="8" x="126" y="36"/>
      <circ-port height="8" pin="260,320" width="8" x="96" y="116"/>
      <circ-port height="8" pin="260,540" width="8" x="96" y="296"/>
      <circ-port height="8" pin="260,620" width="8" x="106" y="36"/>
      <circ-port height="8" pin="260,680" width="8" x="96" y="266"/>
      <rect fill="none" height="499" stroke="#000000" width="41" x="100" y="41"/>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="109" y="55">vM</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="113" y="113">dstE</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="113" y="263">dstM</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="114" y="164">reqE</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="116" y="295">reqM</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="120" y="75">REG</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="120" y="90">WR</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="133" y="55">vE</text>
    </appear>
    <comp lib="0" loc="(260,200)" name="Pin">
      <a name="label" val="reqE"/>
    </comp>
    <comp lib="0" loc="(260,260)" name="Pin">
      <a name="label" val="valE"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(260,320)" name="Pin">
      <a name="label" val="dstE"/>
      <a name="width" val="3"/>
    </comp>
    <comp lib="0" loc="(260,540)" name="Pin">
      <a name="label" val="reqM"/>
    </comp>
    <comp lib="0" loc="(260,620)" name="Pin">
      <a name="label" val="valM"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(260,680)" name="Pin">
      <a name="label" val="dstM"/>
      <a name="width" val="3"/>
    </comp>
    <comp lib="0" loc="(900,1020)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="D5"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(900,1080)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="EN"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(900,1180)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="D6"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(900,1240)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="EN"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(900,1340)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="D7"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(900,1400)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="EN"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(900,220)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="D0"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(900,280)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="EN"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(900,380)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="D1"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(900,440)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="EN"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(900,540)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="D2"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(900,600)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="EN"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(900,700)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="D3"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(900,760)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="EN"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(900,860)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="D4"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(900,920)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="EN"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="2" loc="(310,260)" name="Demultiplexer">
      <a name="enable" val="false"/>
      <a name="select" val="3"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="2" loc="(310,620)" name="Demultiplexer">
      <a name="enable" val="false"/>
      <a name="select" val="3"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="2" loc="(330,400)" name="Decoder">
      <a name="enable" val="false"/>
      <a name="select" val="3"/>
      <a name="selloc" val="tr"/>
    </comp>
    <comp lib="2" loc="(330,720)" name="Decoder">
      <a name="enable" val="false"/>
      <a name="select" val="3"/>
      <a name="selloc" val="tr"/>
    </comp>
    <comp lib="6" loc="(1043,95)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">Testing (done in HW3 jointly with regreader):
Format: valE | dstE | reqE | valM | dstM | reqM | clock | clr | srcA | valA | srcB | valB

00000002 | 000 | 1 | 30000000 | 000 | 1 | 0-&gt;1 | 0 | 000 | 00000000 | 000 | 00000000

01031b09 | 010 | 1 | 83001001 | 011 | 1 | 1-&gt;0 | 0 | 011 | 00000000 | 010 | 00000000
(values in registers were all 0s before for above test)
01031b09 | 010 | 1 | 83001001 | 011 | 1 | 0-&gt;1 | 0 | 011 | 83001001 | 010 | 01031b09

(All tests below are done in succession)
0aa00aa0 | 101 | 0 | f00ff00f | 111 | 1 | 0-&gt;1 | 0 | 101 | 00000000 | 111 | f00ff00f
0aa00aa0 | 101 | 0 | f00ff00f | 111 | 1 | 1-&gt;0 | 0 | 101 | 00000000 | 111 | f00ff00f 
0aa00aa0 | 101 | 1 | f00ff00f | 111 | 0 | 0-&gt;1 | 0 | 101 | 0aa00aa0 | 111 | f00ff00f
0aa00aa0 | 101 | 1 | f00ff00f | 111 | 0 | 0 | 0-&gt;1 | 101 | 00000000 | 111 | 00000000</a>
    </comp>
    <comp lib="6" loc="(318,46)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">Design thinking:
1.Use a demultiplexer to send out the data to the correct destination register (as specified by dstE/M). Use a
decoder to determine which register is the destination.
2. Make the EN active only if reqE and dstE or reqM and dstM are active (but not both or neither) 
so we know that something is able to write into the register.
3. Send the data for E or M (as specified by valE/M) to the specified register(s) by using DataENSelect (go to
circuit for more information).
4. If the destinations are the same for both E and M, then the writing is not enabled and the data output will be
all 0s.</a>
    </comp>
    <comp loc="(840,1020)" name="DataENSelect"/>
    <comp loc="(840,1180)" name="DataENSelect"/>
    <comp loc="(840,1340)" name="DataENSelect"/>
    <comp loc="(840,220)" name="DataENSelect"/>
    <comp loc="(840,380)" name="DataENSelect"/>
    <comp loc="(840,540)" name="DataENSelect"/>
    <comp loc="(840,700)" name="DataENSelect"/>
    <comp loc="(840,860)" name="DataENSelect"/>
    <wire from="(260,200)" to="(680,200)"/>
    <wire from="(260,260)" to="(310,260)"/>
    <wire from="(260,320)" to="(330,320)"/>
    <wire from="(260,540)" to="(690,540)"/>
    <wire from="(260,620)" to="(310,620)"/>
    <wire from="(260,680)" to="(330,680)"/>
    <wire from="(330,300)" to="(330,320)"/>
    <wire from="(330,320)" to="(330,400)"/>
    <wire from="(330,660)" to="(330,680)"/>
    <wire from="(330,680)" to="(330,720)"/>
    <wire from="(350,220)" to="(690,220)"/>
    <wire from="(350,230)" to="(420,230)"/>
    <wire from="(350,240)" to="(410,240)"/>
    <wire from="(350,250)" to="(400,250)"/>
    <wire from="(350,260)" to="(390,260)"/>
    <wire from="(350,270)" to="(380,270)"/>
    <wire from="(350,280)" to="(370,280)"/>
    <wire from="(350,290)" to="(360,290)"/>
    <wire from="(350,400)" to="(670,400)"/>
    <wire from="(350,410)" to="(670,410)"/>
    <wire from="(350,420)" to="(660,420)"/>
    <wire from="(350,430)" to="(650,430)"/>
    <wire from="(350,440)" to="(640,440)"/>
    <wire from="(350,450)" to="(630,450)"/>
    <wire from="(350,460)" to="(620,460)"/>
    <wire from="(350,470)" to="(610,470)"/>
    <wire from="(350,580)" to="(430,580)"/>
    <wire from="(350,590)" to="(440,590)"/>
    <wire from="(350,600)" to="(450,600)"/>
    <wire from="(350,610)" to="(450,610)"/>
    <wire from="(350,620)" to="(440,620)"/>
    <wire from="(350,630)" to="(430,630)"/>
    <wire from="(350,640)" to="(420,640)"/>
    <wire from="(350,650)" to="(410,650)"/>
    <wire from="(350,720)" to="(460,720)"/>
    <wire from="(350,730)" to="(470,730)"/>
    <wire from="(350,740)" to="(480,740)"/>
    <wire from="(350,750)" to="(490,750)"/>
    <wire from="(350,760)" to="(480,760)"/>
    <wire from="(350,770)" to="(470,770)"/>
    <wire from="(350,780)" to="(460,780)"/>
    <wire from="(350,790)" to="(450,790)"/>
    <wire from="(360,1330)" to="(740,1330)"/>
    <wire from="(360,290)" to="(360,1330)"/>
    <wire from="(370,1170)" to="(740,1170)"/>
    <wire from="(370,280)" to="(370,1170)"/>
    <wire from="(380,1010)" to="(740,1010)"/>
    <wire from="(380,270)" to="(380,1010)"/>
    <wire from="(390,260)" to="(390,850)"/>
    <wire from="(390,850)" to="(740,850)"/>
    <wire from="(400,250)" to="(400,690)"/>
    <wire from="(400,690)" to="(740,690)"/>
    <wire from="(410,1350)" to="(740,1350)"/>
    <wire from="(410,240)" to="(410,530)"/>
    <wire from="(410,530)" to="(740,530)"/>
    <wire from="(410,650)" to="(410,1350)"/>
    <wire from="(420,1190)" to="(740,1190)"/>
    <wire from="(420,230)" to="(420,370)"/>
    <wire from="(420,370)" to="(740,370)"/>
    <wire from="(420,640)" to="(420,1190)"/>
    <wire from="(430,1030)" to="(740,1030)"/>
    <wire from="(430,230)" to="(430,580)"/>
    <wire from="(430,230)" to="(740,230)"/>
    <wire from="(430,630)" to="(430,1030)"/>
    <wire from="(440,390)" to="(440,590)"/>
    <wire from="(440,390)" to="(740,390)"/>
    <wire from="(440,620)" to="(440,870)"/>
    <wire from="(440,870)" to="(740,870)"/>
    <wire from="(450,1430)" to="(740,1430)"/>
    <wire from="(450,550)" to="(450,600)"/>
    <wire from="(450,550)" to="(740,550)"/>
    <wire from="(450,610)" to="(450,710)"/>
    <wire from="(450,710)" to="(740,710)"/>
    <wire from="(450,790)" to="(450,1430)"/>
    <wire from="(460,1270)" to="(740,1270)"/>
    <wire from="(460,310)" to="(460,720)"/>
    <wire from="(460,310)" to="(740,310)"/>
    <wire from="(460,780)" to="(460,1270)"/>
    <wire from="(470,1110)" to="(740,1110)"/>
    <wire from="(470,480)" to="(470,730)"/>
    <wire from="(470,480)" to="(700,480)"/>
    <wire from="(470,770)" to="(470,1110)"/>
    <wire from="(480,630)" to="(480,740)"/>
    <wire from="(480,630)" to="(740,630)"/>
    <wire from="(480,760)" to="(480,950)"/>
    <wire from="(480,950)" to="(740,950)"/>
    <wire from="(490,750)" to="(490,790)"/>
    <wire from="(490,790)" to="(740,790)"/>
    <wire from="(610,1390)" to="(740,1390)"/>
    <wire from="(610,470)" to="(610,1390)"/>
    <wire from="(620,1230)" to="(740,1230)"/>
    <wire from="(620,460)" to="(620,1230)"/>
    <wire from="(630,1070)" to="(740,1070)"/>
    <wire from="(630,450)" to="(630,1070)"/>
    <wire from="(640,440)" to="(640,910)"/>
    <wire from="(640,910)" to="(740,910)"/>
    <wire from="(650,430)" to="(650,750)"/>
    <wire from="(650,750)" to="(740,750)"/>
    <wire from="(660,420)" to="(660,590)"/>
    <wire from="(660,590)" to="(740,590)"/>
    <wire from="(670,270)" to="(670,400)"/>
    <wire from="(670,270)" to="(740,270)"/>
    <wire from="(670,410)" to="(670,430)"/>
    <wire from="(670,430)" to="(740,430)"/>
    <wire from="(680,1050)" to="(680,1210)"/>
    <wire from="(680,1050)" to="(740,1050)"/>
    <wire from="(680,1210)" to="(680,1370)"/>
    <wire from="(680,1210)" to="(740,1210)"/>
    <wire from="(680,1370)" to="(740,1370)"/>
    <wire from="(680,200)" to="(680,250)"/>
    <wire from="(680,250)" to="(680,410)"/>
    <wire from="(680,250)" to="(740,250)"/>
    <wire from="(680,410)" to="(680,570)"/>
    <wire from="(680,410)" to="(740,410)"/>
    <wire from="(680,570)" to="(680,730)"/>
    <wire from="(680,570)" to="(740,570)"/>
    <wire from="(680,730)" to="(680,890)"/>
    <wire from="(680,730)" to="(740,730)"/>
    <wire from="(680,890)" to="(680,1050)"/>
    <wire from="(680,890)" to="(740,890)"/>
    <wire from="(690,1090)" to="(690,1250)"/>
    <wire from="(690,1090)" to="(740,1090)"/>
    <wire from="(690,1250)" to="(690,1410)"/>
    <wire from="(690,1250)" to="(740,1250)"/>
    <wire from="(690,1410)" to="(740,1410)"/>
    <wire from="(690,210)" to="(690,220)"/>
    <wire from="(690,210)" to="(740,210)"/>
    <wire from="(690,290)" to="(690,450)"/>
    <wire from="(690,290)" to="(740,290)"/>
    <wire from="(690,450)" to="(690,540)"/>
    <wire from="(690,450)" to="(740,450)"/>
    <wire from="(690,540)" to="(690,610)"/>
    <wire from="(690,610)" to="(690,770)"/>
    <wire from="(690,610)" to="(740,610)"/>
    <wire from="(690,770)" to="(690,930)"/>
    <wire from="(690,770)" to="(740,770)"/>
    <wire from="(690,930)" to="(690,1090)"/>
    <wire from="(690,930)" to="(740,930)"/>
    <wire from="(700,470)" to="(700,480)"/>
    <wire from="(700,470)" to="(740,470)"/>
    <wire from="(840,1020)" to="(900,1020)"/>
    <wire from="(840,1080)" to="(900,1080)"/>
    <wire from="(840,1180)" to="(900,1180)"/>
    <wire from="(840,1240)" to="(900,1240)"/>
    <wire from="(840,1340)" to="(900,1340)"/>
    <wire from="(840,1400)" to="(900,1400)"/>
    <wire from="(840,220)" to="(900,220)"/>
    <wire from="(840,280)" to="(900,280)"/>
    <wire from="(840,380)" to="(900,380)"/>
    <wire from="(840,440)" to="(900,440)"/>
    <wire from="(840,540)" to="(900,540)"/>
    <wire from="(840,600)" to="(900,600)"/>
    <wire from="(840,700)" to="(900,700)"/>
    <wire from="(840,760)" to="(900,760)"/>
    <wire from="(840,860)" to="(900,860)"/>
    <wire from="(840,920)" to="(900,920)"/>
  </circuit>
  <circuit name="alu">
    <a name="appearance" val="custom"/>
    <appear>
      <circ-anchor facing="east" height="6" width="6" x="157" y="167"/>
      <circ-port height="10" pin="1060,890" width="10" x="155" y="165"/>
      <circ-port height="10" pin="1070,330" width="10" x="135" y="45"/>
      <circ-port height="8" pin="190,330" width="8" x="116" y="166"/>
      <circ-port height="8" pin="190,560" width="8" x="116" y="66"/>
      <circ-port height="8" pin="190,640" width="8" x="116" y="246"/>
      <rect fill="none" height="220" stroke="#000000" stroke-width="2" width="40" x="119" y="50"/>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="130" y="175">B</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="130" y="75">A</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="132" y="254">op</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="138" y="148">ALU</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="140" y="62">cc</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="149" y="182">out</text>
    </appear>
    <comp lib="0" loc="(1050,800)" name="Probe">
      <a name="facing" val="west"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1050,830)" name="Probe">
      <a name="facing" val="west"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="10signed"/>
    </comp>
    <comp lib="0" loc="(1060,890)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="valE"/>
      <a name="labelloc" val="north"/>
      <a name="type" val="output"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(1070,330)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="CC"/>
      <a name="labelloc" val="north"/>
      <a name="type" val="output"/>
      <a name="width" val="3"/>
    </comp>
    <comp lib="0" loc="(1070,330)" name="Splitter">
      <a name="appear" val="center"/>
      <a name="bit0" val="2"/>
      <a name="bit2" val="0"/>
      <a name="facing" val="west"/>
      <a name="fanout" val="3"/>
      <a name="incoming" val="3"/>
    </comp>
    <comp lib="0" loc="(190,240)" name="Probe">
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(190,270)" name="Probe">
      <a name="labelloc" val="east"/>
      <a name="radix" val="10signed"/>
    </comp>
    <comp lib="0" loc="(190,330)" name="Pin">
      <a name="label" val="aluB"/>
      <a name="labelloc" val="north"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(190,470)" name="Probe">
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(190,500)" name="Probe">
      <a name="labelloc" val="east"/>
      <a name="radix" val="10signed"/>
    </comp>
    <comp lib="0" loc="(190,560)" name="Pin">
      <a name="label" val="aluA"/>
      <a name="labelloc" val="north"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(190,640)" name="Pin">
      <a name="label" val="aluOP"/>
      <a name="labelloc" val="north"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(790,280)" name="Constant">
      <a name="facing" val="west"/>
      <a name="value" val="0x0"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(790,360)" name="Constant">
      <a name="facing" val="west"/>
      <a name="value" val="0x0"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(790,460)" name="Constant">
      <a name="facing" val="west"/>
      <a name="value" val="0x0"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(790,550)" name="Constant">
      <a name="facing" val="west"/>
      <a name="value" val="0x0"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(970,640)" name="Constant">
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="0" loc="(980,650)" name="Constant">
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="1" loc="(1020,320)" name="AND Gate">
      <a name="inputs" val="16"/>
      <a name="label" val="Z"/>
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(1020,510)" name="OR Gate">
      <a name="inputs" val="16"/>
      <a name="label" val="S"/>
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(1020,700)" name="OR Gate">
      <a name="inputs" val="16"/>
      <a name="label" val="O"/>
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(1020,890)" name="OR Gate">
      <a name="inputs" val="16"/>
      <a name="size" val="30"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="1" loc="(460,410)" name="AND Gate">
      <a name="size" val="30"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="1" loc="(470,480)" name="XOR Gate">
      <a name="size" val="30"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="2" loc="(220,330)" name="Demultiplexer">
      <a name="enable" val="false"/>
      <a name="select" val="4"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="2" loc="(220,560)" name="Demultiplexer">
      <a name="enable" val="false"/>
      <a name="select" val="4"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="3" loc="(460,240)" name="Adder">
      <a name="width" val="32"/>
    </comp>
    <comp lib="3" loc="(460,310)" name="Subtractor">
      <a name="width" val="32"/>
    </comp>
    <comp lib="3" loc="(850,240)" name="Comparator">
      <a name="width" val="32"/>
    </comp>
    <comp lib="3" loc="(850,320)" name="Comparator">
      <a name="width" val="32"/>
    </comp>
    <comp lib="3" loc="(850,420)" name="Comparator">
      <a name="width" val="32"/>
    </comp>
    <comp lib="3" loc="(850,510)" name="Comparator">
      <a name="width" val="32"/>
    </comp>
    <comp lib="6" loc="(1074,392)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">Testing (done in HW3):
Format: aluB (in hex) | aluA (in hex) | aluOP | Z/S/O | valE (in hex)

00000001 | 00000001 | 0000 |  0/0/0 | 00000002
ffff0001 | 0000ffff | 0000 | 1/0/0 | 00000000
40000000 | 80000000 | 0000 | 0/1/0 | c0000000
00000001 | 7fffffff | 0000 | 0/1/0 | 80000000

10101010 | 0050a000 | 0001 | 0/0/0 | 0fbf7010
80402010 | 80402010 | 0001 | 1/0/0 | 00000000
08888888 | 700c2004 | 0001 | 0/1/0 | 987c6884
7fffffff | 80000000 | 0001 | 0/1/1 | ffffffff

11000011 | 91002210 | 0010 | 0/0/0 | 11000010
88888888 | 44444444 | 0010 | 1/0/0 | 00000000
80000000 | 80000001 | 0010 | 0/1/0 | 80000000

80088008 | 80080000 | 0011 | 0/0/0 | 00008008
01000081 | 01000081 | 0011 | 1/0/0 | 00000000
7fffffff | 80000000 | 0011 | 0/1/0 | ffffffff</a>
    </comp>
    <comp lib="6" loc="(1127,334)" name="Text">
      <a name="text" val="[Z,S,O]"/>
    </comp>
    <comp lib="6" loc="(276,535)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">Design thinking:
1. Use demultiplexers on each input to get
the correct path for a given operation.
2a. For addl, we send the inputs through an
adder and then send the result to valE,
a comparator (to see if it is 0 or negative), and
to AddOCheck (checks if there is overflow).
2b. For subl, we send the inputs through a
subtractor and then send the result to valE, a
comparator (to see if it is 0 or negative), and to
SubOCheck (checks if there is overflow).
2c. For andl, we send the inputs through an AND
gate and then send the result to valE, a
comparator (to see if it is 0 or negative), and
because the result will never be greater (in
magnitude) than either input, the result will never
overflow.
2d. For xorl, we send the inputs through an XOR
gate and then send the result to valE, a
comparator (to see if it is 0 or negative), and
because the result will never be greater (in
magnitude) than either input, the result will never
overflow.</a>
    </comp>
    <comp lib="6" loc="(652,23)" name="Text">
      <a name="text" val="over max using addl"/>
    </comp>
    <comp lib="6" loc="(756,151)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">Z asserted when valE is 0.
S asserted when valE is negative in 2's complement.
O asserted when arithmetic result in valE wrong because
interpreted as signed 2's complement integers.</a>
    </comp>
    <comp lib="6" loc="(88,624)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">0: addl
1: subl
2: andl
3: xorl</a>
    </comp>
    <comp loc="(600,180)" name="AddOCheck"/>
    <comp loc="(600,270)" name="SubOCheck"/>
    <wire from="(1020,320)" to="(1050,320)"/>
    <wire from="(1020,510)" to="(1030,510)"/>
    <wire from="(1020,700)" to="(1040,700)"/>
    <wire from="(1020,890)" to="(1040,890)"/>
    <wire from="(1030,330)" to="(1030,510)"/>
    <wire from="(1030,330)" to="(1050,330)"/>
    <wire from="(1040,340)" to="(1040,700)"/>
    <wire from="(1040,340)" to="(1050,340)"/>
    <wire from="(1040,800)" to="(1040,830)"/>
    <wire from="(1040,800)" to="(1050,800)"/>
    <wire from="(1040,830)" to="(1040,890)"/>
    <wire from="(1040,830)" to="(1050,830)"/>
    <wire from="(1040,890)" to="(1060,890)"/>
    <wire from="(190,240)" to="(200,240)"/>
    <wire from="(190,270)" to="(200,270)"/>
    <wire from="(190,330)" to="(200,330)"/>
    <wire from="(190,470)" to="(200,470)"/>
    <wire from="(190,500)" to="(200,500)"/>
    <wire from="(190,560)" to="(200,560)"/>
    <wire from="(190,640)" to="(210,640)"/>
    <wire from="(200,240)" to="(200,270)"/>
    <wire from="(200,270)" to="(200,330)"/>
    <wire from="(200,330)" to="(220,330)"/>
    <wire from="(200,470)" to="(200,500)"/>
    <wire from="(200,500)" to="(200,560)"/>
    <wire from="(200,560)" to="(220,560)"/>
    <wire from="(210,410)" to="(210,640)"/>
    <wire from="(210,410)" to="(240,410)"/>
    <wire from="(210,640)" to="(240,640)"/>
    <wire from="(260,250)" to="(400,250)"/>
    <wire from="(260,260)" to="(400,260)"/>
    <wire from="(260,270)" to="(390,270)"/>
    <wire from="(260,280)" to="(380,280)"/>
    <wire from="(260,480)" to="(410,480)"/>
    <wire from="(260,490)" to="(400,490)"/>
    <wire from="(260,500)" to="(390,500)"/>
    <wire from="(260,510)" to="(420,510)"/>
    <wire from="(380,280)" to="(380,470)"/>
    <wire from="(380,470)" to="(430,470)"/>
    <wire from="(390,270)" to="(390,400)"/>
    <wire from="(390,400)" to="(430,400)"/>
    <wire from="(390,420)" to="(390,500)"/>
    <wire from="(390,420)" to="(430,420)"/>
    <wire from="(400,190)" to="(400,230)"/>
    <wire from="(400,190)" to="(500,190)"/>
    <wire from="(400,230)" to="(400,250)"/>
    <wire from="(400,230)" to="(420,230)"/>
    <wire from="(400,260)" to="(400,280)"/>
    <wire from="(400,280)" to="(400,300)"/>
    <wire from="(400,280)" to="(500,280)"/>
    <wire from="(400,300)" to="(420,300)"/>
    <wire from="(400,320)" to="(400,340)"/>
    <wire from="(400,320)" to="(420,320)"/>
    <wire from="(400,340)" to="(400,490)"/>
    <wire from="(400,340)" to="(480,340)"/>
    <wire from="(410,200)" to="(410,250)"/>
    <wire from="(410,200)" to="(500,200)"/>
    <wire from="(410,250)" to="(410,480)"/>
    <wire from="(410,250)" to="(420,250)"/>
    <wire from="(420,490)" to="(420,510)"/>
    <wire from="(420,490)" to="(430,490)"/>
    <wire from="(460,240)" to="(490,240)"/>
    <wire from="(460,310)" to="(470,310)"/>
    <wire from="(460,410)" to="(740,410)"/>
    <wire from="(470,270)" to="(470,310)"/>
    <wire from="(470,270)" to="(500,270)"/>
    <wire from="(470,310)" to="(750,310)"/>
    <wire from="(470,480)" to="(730,480)"/>
    <wire from="(480,290)" to="(480,340)"/>
    <wire from="(480,290)" to="(500,290)"/>
    <wire from="(490,180)" to="(490,230)"/>
    <wire from="(490,180)" to="(500,180)"/>
    <wire from="(490,230)" to="(490,240)"/>
    <wire from="(490,230)" to="(760,230)"/>
    <wire from="(600,180)" to="(720,180)"/>
    <wire from="(600,270)" to="(710,270)"/>
    <wire from="(710,270)" to="(710,630)"/>
    <wire from="(710,630)" to="(990,630)"/>
    <wire from="(720,180)" to="(720,620)"/>
    <wire from="(720,620)" to="(990,620)"/>
    <wire from="(730,480)" to="(730,840)"/>
    <wire from="(730,480)" to="(790,480)"/>
    <wire from="(730,840)" to="(990,840)"/>
    <wire from="(740,410)" to="(740,830)"/>
    <wire from="(740,410)" to="(810,410)"/>
    <wire from="(740,830)" to="(990,830)"/>
    <wire from="(750,310)" to="(750,820)"/>
    <wire from="(750,310)" to="(810,310)"/>
    <wire from="(750,820)" to="(990,820)"/>
    <wire from="(760,230)" to="(760,810)"/>
    <wire from="(760,230)" to="(810,230)"/>
    <wire from="(760,810)" to="(990,810)"/>
    <wire from="(790,250)" to="(790,280)"/>
    <wire from="(790,250)" to="(810,250)"/>
    <wire from="(790,330)" to="(790,360)"/>
    <wire from="(790,330)" to="(810,330)"/>
    <wire from="(790,430)" to="(790,460)"/>
    <wire from="(790,430)" to="(810,430)"/>
    <wire from="(790,480)" to="(790,500)"/>
    <wire from="(790,500)" to="(810,500)"/>
    <wire from="(790,520)" to="(790,550)"/>
    <wire from="(790,520)" to="(810,520)"/>
    <wire from="(850,240)" to="(990,240)"/>
    <wire from="(850,250)" to="(880,250)"/>
    <wire from="(850,320)" to="(890,320)"/>
    <wire from="(850,330)" to="(870,330)"/>
    <wire from="(850,420)" to="(900,420)"/>
    <wire from="(850,430)" to="(860,430)"/>
    <wire from="(850,510)" to="(910,510)"/>
    <wire from="(850,520)" to="(870,520)"/>
    <wire from="(860,430)" to="(860,450)"/>
    <wire from="(860,450)" to="(990,450)"/>
    <wire from="(870,330)" to="(870,440)"/>
    <wire from="(870,440)" to="(990,440)"/>
    <wire from="(870,460)" to="(870,520)"/>
    <wire from="(870,460)" to="(990,460)"/>
    <wire from="(880,250)" to="(880,430)"/>
    <wire from="(880,430)" to="(990,430)"/>
    <wire from="(890,250)" to="(890,320)"/>
    <wire from="(890,250)" to="(990,250)"/>
    <wire from="(900,260)" to="(900,420)"/>
    <wire from="(900,260)" to="(990,260)"/>
    <wire from="(910,270)" to="(910,510)"/>
    <wire from="(910,270)" to="(990,270)"/>
    <wire from="(970,640)" to="(990,640)"/>
    <wire from="(980,650)" to="(990,650)"/>
  </circuit>
  <circuit name="MSB">
    <a name="appearance" val="classic"/>
    <appear>
      <circ-anchor facing="east" height="6" width="6" x="67" y="47"/>
      <circ-port height="10" pin="280,220" width="10" x="65" y="45"/>
      <circ-port height="8" pin="280,460" width="8" x="66" y="76"/>
      <rect fill="none" height="30" stroke="#000000" stroke-width="2" width="30" x="55" y="50"/>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="68" y="70">MSB</text>
    </appear>
    <comp lib="0" loc="(280,220)" name="Pin">
      <a name="facing" val="south"/>
      <a name="label" val="MSB"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(280,460)" name="Pin">
      <a name="facing" val="north"/>
      <a name="label" val="Value"/>
      <a name="labelloc" val="south"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(280,460)" name="Splitter">
      <a name="appear" val="center"/>
      <a name="facing" val="north"/>
      <a name="fanout" val="32"/>
      <a name="incoming" val="32"/>
    </comp>
    <wire from="(120,310)" to="(120,440)"/>
    <wire from="(120,310)" to="(280,310)"/>
    <wire from="(280,220)" to="(280,310)"/>
  </circuit>
  <circuit name="CND">
    <a name="appearance" val="custom"/>
    <appear>
      <circ-anchor facing="east" height="6" width="6" x="97" y="77"/>
      <circ-port height="10" pin="700,250" width="10" x="95" y="75"/>
      <circ-port height="8" pin="120,160" width="8" x="46" y="56"/>
      <circ-port height="8" pin="120,210" width="8" x="46" y="96"/>
      <rect fill="none" height="61" stroke="#000000" stroke-width="2" width="50" x="50" y="50"/>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="75" y="84">CND</text>
    </appear>
    <comp lib="0" loc="(120,160)" name="Pin">
      <a name="label" val="ZSO"/>
      <a name="labelloc" val="north"/>
      <a name="width" val="3"/>
    </comp>
    <comp lib="0" loc="(120,210)" name="Pin">
      <a name="label" val="ifun"/>
      <a name="labelloc" val="south"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(130,160)" name="Splitter">
      <a name="appear" val="center"/>
      <a name="bit0" val="2"/>
      <a name="bit2" val="0"/>
      <a name="fanout" val="3"/>
      <a name="incoming" val="3"/>
    </comp>
    <comp lib="0" loc="(140,230)" name="Probe">
      <a name="facing" val="north"/>
      <a name="radix" val="10unsigned"/>
    </comp>
    <comp lib="0" loc="(250,230)" name="Constant">
      <a name="value" val="0x0"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(250,300)" name="Constant">
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(250,370)" name="Constant">
      <a name="value" val="0x2"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(250,440)" name="Constant">
      <a name="value" val="0x3"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(250,510)" name="Constant">
      <a name="value" val="0x4"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(250,580)" name="Constant">
      <a name="value" val="0x5"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(250,650)" name="Constant">
      <a name="value" val="0x6"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(700,250)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="CND"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="1" loc="(400,610)" name="XOR Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(430,550)" name="XOR Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(440,260)" name="XOR Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(440,610)" name="NOT Gate"/>
    <comp lib="1" loc="(440,630)" name="NOT Gate"/>
    <comp lib="1" loc="(480,270)" name="OR Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(480,340)" name="XOR Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(480,480)" name="NOT Gate"/>
    <comp lib="1" loc="(480,550)" name="NOT Gate"/>
    <comp lib="1" loc="(480,620)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(530,280)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(530,350)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(530,420)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(530,490)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(530,560)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(530,630)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(670,250)" name="OR Gate">
      <a name="inputs" val="7"/>
    </comp>
    <comp lib="3" loc="(300,220)" name="Comparator">
      <a name="width" val="4"/>
    </comp>
    <comp lib="3" loc="(300,290)" name="Comparator">
      <a name="width" val="4"/>
    </comp>
    <comp lib="3" loc="(300,360)" name="Comparator">
      <a name="width" val="4"/>
    </comp>
    <comp lib="3" loc="(300,430)" name="Comparator">
      <a name="width" val="4"/>
    </comp>
    <comp lib="3" loc="(300,500)" name="Comparator">
      <a name="width" val="4"/>
    </comp>
    <comp lib="3" loc="(300,570)" name="Comparator">
      <a name="width" val="4"/>
    </comp>
    <comp lib="3" loc="(300,640)" name="Comparator">
      <a name="width" val="4"/>
    </comp>
    <comp lib="6" loc="(279,263)" name="Text">
      <a name="text" val="jle/cmovle"/>
    </comp>
    <comp lib="6" loc="(279,333)" name="Text">
      <a name="text" val="jl/cmovl"/>
    </comp>
    <comp lib="6" loc="(279,614)" name="Text">
      <a name="text" val="jg/cmovg"/>
    </comp>
    <comp lib="6" loc="(280,191)" name="Text">
      <a name="text" val="jmp/rrmovl"/>
    </comp>
    <comp lib="6" loc="(280,473)" name="Text">
      <a name="text" val="jne/cmovne"/>
    </comp>
    <comp lib="6" loc="(280,543)" name="Text">
      <a name="text" val="jge/cmovge"/>
    </comp>
    <comp lib="6" loc="(281,403)" name="Text">
      <a name="text" val="je/cmove"/>
    </comp>
    <comp lib="6" loc="(350,101)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">Design thinking:
See what flags each condition requires input from.
Determine the circuit logic equivalent to that provided in terms of flags.
Use a comparator for each condition that exists jmp/rrmovl, jle/cmovle,
jl/cmovl, je/cmove, jne/cmovne, jge/cmovge, jg/cmovg.
For each condition, do the necessary logic by using NOT gates for ~,
XOR gates for ^, AND gates for &amp;, and OR gates for |.
At the end, use an OR gate to see if any of the conditions are active.</a>
    </comp>
    <comp lib="6" loc="(614,313)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">Testing (done in HW4):
Format: Z (CC) | S (CC) | O (CC) | ifun | condition | output
*NA means that there can be any value

Valid inputs:
NA | NA | NA | 0 | jmp/rrmovl | 1

1/(0) | NA/(1/0) | NA/(0/1) | 1 | jle/cmovle | 1
0 | 1 | 1 | 1 | jle/cmovle | 0

NA | 1/0 | 0/1 | 2 | jl/cmovl | 1
NA | 1 | 1 | 2 | jl/cmovl | 0

1 | NA | NA | 3 | je/cmove | 1
0 | NA | NA | 3 | je/cmove | 0

0 | NA | NA | 4 | jne/cmovne | 1
1 | NA | NA | 4 | jne/cmovne | 0

NA | 1/0 | 1/0 | 5 | jge/cmovge | 1
NA | 1 | 0 | 5 | jge/cmovge | 0

0 | 1/0 | 1/0 | 6 | jg/cmovg | 1
1 | 1 | 1 | 6 | jg/cmovg | 0</a>
    </comp>
    <wire from="(120,160)" to="(130,160)"/>
    <wire from="(120,210)" to="(140,210)"/>
    <wire from="(140,210)" to="(140,230)"/>
    <wire from="(140,210)" to="(180,210)"/>
    <wire from="(150,150)" to="(340,150)"/>
    <wire from="(150,160)" to="(330,160)"/>
    <wire from="(150,170)" to="(320,170)"/>
    <wire from="(180,210)" to="(180,630)"/>
    <wire from="(180,210)" to="(190,210)"/>
    <wire from="(180,630)" to="(260,630)"/>
    <wire from="(190,210)" to="(190,560)"/>
    <wire from="(190,210)" to="(200,210)"/>
    <wire from="(190,560)" to="(260,560)"/>
    <wire from="(200,210)" to="(200,490)"/>
    <wire from="(200,210)" to="(210,210)"/>
    <wire from="(200,490)" to="(260,490)"/>
    <wire from="(210,210)" to="(210,420)"/>
    <wire from="(210,210)" to="(220,210)"/>
    <wire from="(210,420)" to="(260,420)"/>
    <wire from="(220,210)" to="(220,350)"/>
    <wire from="(220,210)" to="(230,210)"/>
    <wire from="(220,350)" to="(260,350)"/>
    <wire from="(230,210)" to="(230,280)"/>
    <wire from="(230,210)" to="(260,210)"/>
    <wire from="(230,280)" to="(260,280)"/>
    <wire from="(250,230)" to="(260,230)"/>
    <wire from="(250,300)" to="(260,300)"/>
    <wire from="(250,370)" to="(260,370)"/>
    <wire from="(250,440)" to="(260,440)"/>
    <wire from="(250,510)" to="(260,510)"/>
    <wire from="(250,580)" to="(260,580)"/>
    <wire from="(250,650)" to="(260,650)"/>
    <wire from="(300,220)" to="(620,220)"/>
    <wire from="(300,290)" to="(500,290)"/>
    <wire from="(300,360)" to="(500,360)"/>
    <wire from="(300,430)" to="(500,430)"/>
    <wire from="(300,500)" to="(500,500)"/>
    <wire from="(300,570)" to="(500,570)"/>
    <wire from="(300,640)" to="(500,640)"/>
    <wire from="(320,170)" to="(320,270)"/>
    <wire from="(320,270)" to="(320,350)"/>
    <wire from="(320,270)" to="(400,270)"/>
    <wire from="(320,350)" to="(320,560)"/>
    <wire from="(320,350)" to="(440,350)"/>
    <wire from="(320,560)" to="(320,620)"/>
    <wire from="(320,560)" to="(390,560)"/>
    <wire from="(320,620)" to="(360,620)"/>
    <wire from="(330,160)" to="(330,250)"/>
    <wire from="(330,250)" to="(330,330)"/>
    <wire from="(330,250)" to="(400,250)"/>
    <wire from="(330,330)" to="(330,540)"/>
    <wire from="(330,330)" to="(440,330)"/>
    <wire from="(330,540)" to="(330,600)"/>
    <wire from="(330,540)" to="(390,540)"/>
    <wire from="(330,600)" to="(360,600)"/>
    <wire from="(340,150)" to="(340,280)"/>
    <wire from="(340,280)" to="(340,410)"/>
    <wire from="(340,280)" to="(450,280)"/>
    <wire from="(340,410)" to="(340,480)"/>
    <wire from="(340,410)" to="(500,410)"/>
    <wire from="(340,480)" to="(340,630)"/>
    <wire from="(340,480)" to="(450,480)"/>
    <wire from="(340,630)" to="(410,630)"/>
    <wire from="(400,610)" to="(410,610)"/>
    <wire from="(430,550)" to="(450,550)"/>
    <wire from="(440,260)" to="(450,260)"/>
    <wire from="(440,610)" to="(450,610)"/>
    <wire from="(440,630)" to="(450,630)"/>
    <wire from="(480,270)" to="(500,270)"/>
    <wire from="(480,340)" to="(500,340)"/>
    <wire from="(480,480)" to="(500,480)"/>
    <wire from="(480,550)" to="(500,550)"/>
    <wire from="(480,620)" to="(500,620)"/>
    <wire from="(530,280)" to="(540,280)"/>
    <wire from="(530,350)" to="(550,350)"/>
    <wire from="(530,420)" to="(560,420)"/>
    <wire from="(530,490)" to="(570,490)"/>
    <wire from="(530,560)" to="(580,560)"/>
    <wire from="(530,630)" to="(590,630)"/>
    <wire from="(540,230)" to="(540,280)"/>
    <wire from="(540,230)" to="(620,230)"/>
    <wire from="(550,240)" to="(550,350)"/>
    <wire from="(550,240)" to="(620,240)"/>
    <wire from="(560,250)" to="(560,420)"/>
    <wire from="(560,250)" to="(620,250)"/>
    <wire from="(570,260)" to="(570,490)"/>
    <wire from="(570,260)" to="(620,260)"/>
    <wire from="(580,270)" to="(580,560)"/>
    <wire from="(580,270)" to="(620,270)"/>
    <wire from="(590,280)" to="(590,630)"/>
    <wire from="(590,280)" to="(620,280)"/>
    <wire from="(670,250)" to="(700,250)"/>
  </circuit>
  <circuit name="ishim">
    <a name="appearance" val="custom"/>
    <appear>
      <circ-anchor facing="east" height="6" width="6" x="387" y="187"/>
      <circ-port height="10" pin="1010,150" width="10" x="385" y="195"/>
      <circ-port height="10" pin="1010,240" width="10" x="385" y="205"/>
      <circ-port height="10" pin="1010,330" width="10" x="385" y="215"/>
      <circ-port height="10" pin="1010,420" width="10" x="385" y="225"/>
      <circ-port height="10" pin="1010,510" width="10" x="385" y="235"/>
      <circ-port height="10" pin="1010,60" width="10" x="385" y="185"/>
      <circ-port height="10" pin="1010,700" width="10" x="375" y="265"/>
      <circ-port height="10" pin="570,720" width="10" x="185" y="265"/>
      <circ-port height="10" pin="670,720" width="10" x="215" y="265"/>
      <circ-port height="10" pin="770,720" width="10" x="245" y="265"/>
      <circ-port height="8" pin="200,330" width="8" x="126" y="216"/>
      <circ-port height="8" pin="230,720" width="8" x="136" y="266"/>
      <circ-port height="8" pin="290,50" width="8" x="256" y="176"/>
      <circ-port height="8" pin="300,720" width="8" x="146" y="266"/>
      <circ-port height="8" pin="870,720" width="8" x="346" y="266"/>
      <polyline fill="none" points="150,261 145,270" stroke="#000000"/>
      <polyline fill="none" points="151,261 156,269" stroke="#000000"/>
      <rect fill="none" height="90" stroke="#000000" width="260" x="130" y="180"/>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="140" y="268">0</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="146" y="223">addr</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="189" y="265">use</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="190" y="256">RAM</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="220" y="256">RAM</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="220" y="265">addr</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="251" y="256">RAM</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="251" y="265">read</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="260" y="227">ISHIM</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="261" y="193">req</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="346" y="263">DfrR</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="350" y="219">bytes 0-5</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="375" y="263">done</text>
    </appear>
    <comp lib="0" loc="(1010,150)" name="Pin">
      <a name="facing" val="west"/>
      <a name="type" val="output"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(1010,240)" name="Pin">
      <a name="facing" val="west"/>
      <a name="type" val="output"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(1010,330)" name="Pin">
      <a name="facing" val="west"/>
      <a name="type" val="output"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(1010,420)" name="Pin">
      <a name="facing" val="west"/>
      <a name="type" val="output"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(1010,510)" name="Pin">
      <a name="facing" val="west"/>
      <a name="type" val="output"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(1010,60)" name="Pin">
      <a name="facing" val="west"/>
      <a name="type" val="output"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(1010,700)" name="Pin">
      <a name="facing" val="west"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(200,330)" name="Pin">
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(230,720)" name="Pin">
      <a name="facing" val="north"/>
    </comp>
    <comp lib="0" loc="(290,50)" name="Pin">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(300,720)" name="Pin">
      <a name="facing" val="north"/>
    </comp>
    <comp lib="0" loc="(330,570)" name="Constant">
      <a name="facing" val="north"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="0" loc="(410,540)" name="Constant">
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="0" loc="(420,530)" name="Constant">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(550,370)" name="Bit Extender">
      <a name="in_width" val="3"/>
      <a name="out_width" val="32"/>
      <a name="type" val="zero"/>
    </comp>
    <comp lib="0" loc="(570,720)" name="Pin">
      <a name="facing" val="north"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(600,320)" name="Constant">
      <a name="facing" val="south"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="0" loc="(670,720)" name="Pin">
      <a name="facing" val="north"/>
      <a name="type" val="output"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(770,720)" name="Pin">
      <a name="facing" val="north"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(870,720)" name="Pin">
      <a name="facing" val="north"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="1" loc="(440,590)" name="OR Gate">
      <a name="facing" val="west"/>
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(670,460)" name="Controlled Buffer">
      <a name="facing" val="south"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="2" loc="(460,170)" name="Decoder">
      <a name="select" val="3"/>
    </comp>
    <comp lib="3" loc="(620,340)" name="Adder">
      <a name="width" val="32"/>
    </comp>
    <comp lib="4" loc="(360,540)" name="D Flip-Flop">
      <a name="enable" val="true"/>
    </comp>
    <comp lib="4" loc="(440,550)" name="Counter">
      <a name="max" val="0x7"/>
      <a name="width" val="3"/>
    </comp>
    <comp lib="4" loc="(970,150)" name="Register">
      <a name="trigger" val="falling"/>
    </comp>
    <comp lib="4" loc="(970,240)" name="Register">
      <a name="trigger" val="falling"/>
    </comp>
    <comp lib="4" loc="(970,330)" name="Register">
      <a name="trigger" val="falling"/>
    </comp>
    <comp lib="4" loc="(970,420)" name="Register">
      <a name="trigger" val="falling"/>
    </comp>
    <comp lib="4" loc="(970,510)" name="Register">
      <a name="trigger" val="falling"/>
    </comp>
    <comp lib="4" loc="(970,60)" name="Register">
      <a name="trigger" val="falling"/>
    </comp>
    <comp lib="6" loc="(103,334)" name="Text">
      <a name="text" val="addr"/>
    </comp>
    <comp lib="6" loc="(1051,704)" name="Text">
      <a name="text" val="done"/>
    </comp>
    <comp lib="6" loc="(1112,155)" name="Text">
      <a name="text" val="byte 1"/>
    </comp>
    <comp lib="6" loc="(1113,245)" name="Text">
      <a name="text" val="byte 2"/>
    </comp>
    <comp lib="6" loc="(1113,334)" name="Text">
      <a name="text" val="byte 3"/>
    </comp>
    <comp lib="6" loc="(1113,425)" name="Text">
      <a name="text" val="byte 4"/>
    </comp>
    <comp lib="6" loc="(1113,515)" name="Text">
      <a name="text" val="byte 5"/>
    </comp>
    <comp lib="6" loc="(1113,63)" name="Text">
      <a name="text" val="byte 0"/>
    </comp>
    <comp lib="6" loc="(229,758)" name="Text">
      <a name="text" val="reset"/>
    </comp>
    <comp lib="6" loc="(291,25)" name="Text">
      <a name="text" val="req"/>
    </comp>
    <comp lib="6" loc="(299,757)" name="Text">
      <a name="text" val="clock"/>
    </comp>
    <comp lib="6" loc="(338,511)" name="Text">
      <a name="text" val="in use?"/>
    </comp>
    <comp lib="6" loc="(426,501)" name="Text">
      <a name="text">state
(3 bits)</a>
    </comp>
    <comp lib="6" loc="(569,756)" name="Text">
      <a name="text" val="RAMuse"/>
    </comp>
    <comp lib="6" loc="(672,822)" name="Text">
      <a name="text" val="RAMaddr (32 bits)"/>
    </comp>
    <comp lib="6" loc="(772,757)" name="Text">
      <a name="text" val="RAMread"/>
    </comp>
    <comp lib="6" loc="(883,757)" name="Text">
      <a name="text" val="data from RAM (8 bits)"/>
    </comp>
    <wire from="(200,330)" to="(580,330)"/>
    <wire from="(230,650)" to="(230,720)"/>
    <wire from="(230,650)" to="(490,650)"/>
    <wire from="(290,50)" to="(290,560)"/>
    <wire from="(290,560)" to="(320,560)"/>
    <wire from="(300,540)" to="(300,670)"/>
    <wire from="(300,540)" to="(320,540)"/>
    <wire from="(300,670)" to="(300,720)"/>
    <wire from="(300,670)" to="(420,670)"/>
    <wire from="(340,570)" to="(340,600)"/>
    <wire from="(340,600)" to="(380,600)"/>
    <wire from="(350,570)" to="(350,590)"/>
    <wire from="(350,590)" to="(430,590)"/>
    <wire from="(360,540)" to="(370,540)"/>
    <wire from="(360,560)" to="(380,560)"/>
    <wire from="(370,170)" to="(370,450)"/>
    <wire from="(370,170)" to="(450,170)"/>
    <wire from="(370,450)" to="(370,540)"/>
    <wire from="(370,450)" to="(660,450)"/>
    <wire from="(370,540)" to="(390,540)"/>
    <wire from="(380,560)" to="(380,600)"/>
    <wire from="(380,600)" to="(380,700)"/>
    <wire from="(380,700)" to="(1010,700)"/>
    <wire from="(390,540)" to="(390,560)"/>
    <wire from="(390,560)" to="(390,690)"/>
    <wire from="(390,560)" to="(410,560)"/>
    <wire from="(390,690)" to="(570,690)"/>
    <wire from="(420,570)" to="(420,670)"/>
    <wire from="(420,670)" to="(920,670)"/>
    <wire from="(430,570)" to="(430,590)"/>
    <wire from="(430,590)" to="(440,590)"/>
    <wire from="(440,550)" to="(460,550)"/>
    <wire from="(460,170)" to="(460,370)"/>
    <wire from="(460,370)" to="(460,550)"/>
    <wire from="(460,370)" to="(510,370)"/>
    <wire from="(470,580)" to="(490,580)"/>
    <wire from="(470,600)" to="(490,600)"/>
    <wire from="(480,100)" to="(860,100)"/>
    <wire from="(480,110)" to="(850,110)"/>
    <wire from="(480,120)" to="(840,120)"/>
    <wire from="(480,130)" to="(830,130)"/>
    <wire from="(480,140)" to="(820,140)"/>
    <wire from="(480,150)" to="(490,150)"/>
    <wire from="(480,90)" to="(490,90)"/>
    <wire from="(490,150)" to="(490,580)"/>
    <wire from="(490,600)" to="(490,650)"/>
    <wire from="(490,650)" to="(980,650)"/>
    <wire from="(490,70)" to="(490,90)"/>
    <wire from="(490,70)" to="(940,70)"/>
    <wire from="(550,370)" to="(560,370)"/>
    <wire from="(560,350)" to="(560,370)"/>
    <wire from="(560,350)" to="(580,350)"/>
    <wire from="(570,690)" to="(570,720)"/>
    <wire from="(570,690)" to="(770,690)"/>
    <wire from="(620,340)" to="(670,340)"/>
    <wire from="(670,340)" to="(670,440)"/>
    <wire from="(670,460)" to="(670,720)"/>
    <wire from="(770,690)" to="(770,720)"/>
    <wire from="(820,140)" to="(820,520)"/>
    <wire from="(820,520)" to="(940,520)"/>
    <wire from="(830,130)" to="(830,430)"/>
    <wire from="(830,430)" to="(940,430)"/>
    <wire from="(840,120)" to="(840,340)"/>
    <wire from="(840,340)" to="(940,340)"/>
    <wire from="(850,110)" to="(850,250)"/>
    <wire from="(850,250)" to="(940,250)"/>
    <wire from="(860,100)" to="(860,160)"/>
    <wire from="(860,160)" to="(940,160)"/>
    <wire from="(870,150)" to="(870,240)"/>
    <wire from="(870,150)" to="(940,150)"/>
    <wire from="(870,240)" to="(870,330)"/>
    <wire from="(870,240)" to="(940,240)"/>
    <wire from="(870,330)" to="(870,420)"/>
    <wire from="(870,330)" to="(940,330)"/>
    <wire from="(870,420)" to="(870,510)"/>
    <wire from="(870,420)" to="(940,420)"/>
    <wire from="(870,510)" to="(870,720)"/>
    <wire from="(870,510)" to="(940,510)"/>
    <wire from="(870,60)" to="(870,150)"/>
    <wire from="(870,60)" to="(940,60)"/>
    <wire from="(920,180)" to="(920,270)"/>
    <wire from="(920,180)" to="(950,180)"/>
    <wire from="(920,270)" to="(920,360)"/>
    <wire from="(920,270)" to="(950,270)"/>
    <wire from="(920,360)" to="(920,450)"/>
    <wire from="(920,360)" to="(950,360)"/>
    <wire from="(920,450)" to="(920,540)"/>
    <wire from="(920,450)" to="(950,450)"/>
    <wire from="(920,540)" to="(920,670)"/>
    <wire from="(920,540)" to="(950,540)"/>
    <wire from="(920,90)" to="(920,180)"/>
    <wire from="(920,90)" to="(950,90)"/>
    <wire from="(950,170)" to="(950,180)"/>
    <wire from="(950,260)" to="(950,270)"/>
    <wire from="(950,350)" to="(950,360)"/>
    <wire from="(950,440)" to="(950,450)"/>
    <wire from="(950,530)" to="(950,540)"/>
    <wire from="(950,80)" to="(950,90)"/>
    <wire from="(960,170)" to="(960,180)"/>
    <wire from="(960,180)" to="(980,180)"/>
    <wire from="(960,260)" to="(960,270)"/>
    <wire from="(960,270)" to="(980,270)"/>
    <wire from="(960,350)" to="(960,360)"/>
    <wire from="(960,360)" to="(980,360)"/>
    <wire from="(960,440)" to="(960,450)"/>
    <wire from="(960,450)" to="(980,450)"/>
    <wire from="(960,530)" to="(960,540)"/>
    <wire from="(960,540)" to="(980,540)"/>
    <wire from="(960,80)" to="(960,90)"/>
    <wire from="(960,90)" to="(980,90)"/>
    <wire from="(970,150)" to="(1010,150)"/>
    <wire from="(970,240)" to="(1010,240)"/>
    <wire from="(970,330)" to="(1010,330)"/>
    <wire from="(970,420)" to="(1010,420)"/>
    <wire from="(970,510)" to="(1010,510)"/>
    <wire from="(970,60)" to="(1010,60)"/>
    <wire from="(980,180)" to="(980,270)"/>
    <wire from="(980,270)" to="(980,360)"/>
    <wire from="(980,360)" to="(980,450)"/>
    <wire from="(980,450)" to="(980,540)"/>
    <wire from="(980,540)" to="(980,650)"/>
    <wire from="(980,90)" to="(980,180)"/>
  </circuit>
  <circuit name="dhsim">
    <a name="appearance" val="custom"/>
    <appear>
      <circ-anchor facing="east" height="6" width="6" x="397" y="177"/>
      <circ-port height="10" pin="1010,450" width="10" x="245" y="245"/>
      <circ-port height="10" pin="1230,490" width="10" x="305" y="245"/>
      <circ-port height="10" pin="1230,510" width="10" x="275" y="245"/>
      <circ-port height="10" pin="1290,740" width="10" x="395" y="225"/>
      <circ-port height="10" pin="1370,220" width="10" x="395" y="175"/>
      <circ-port height="10" pin="580,750" width="10" x="185" y="245"/>
      <circ-port height="10" pin="670,750" width="10" x="215" y="245"/>
      <circ-port height="8" pin="1050,380" width="8" x="336" y="246"/>
      <circ-port height="8" pin="190,360" width="8" x="136" y="226"/>
      <circ-port height="8" pin="250,500" width="8" x="266" y="156"/>
      <circ-port height="8" pin="250,580" width="8" x="226" y="156"/>
      <circ-port height="8" pin="290,750" width="8" x="146" y="246"/>
      <circ-port height="8" pin="360,750" width="8" x="156" y="246"/>
      <circ-port height="8" pin="810,420" width="8" x="136" y="166"/>
      <polyline fill="none" points="160,245 155,250" stroke="#000000"/>
      <polyline fill="none" points="166,250 161,245" stroke="#000000"/>
      <rect fill="none" height="90" stroke="#000000" width="260" x="140" y="160"/>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="150" y="248">0</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="156" y="234">addr</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="162" y="174">data in</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="190" y="237">RAM</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="190" y="246">use</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="219" y="246">addr</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="220" y="237">RAM</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="231" y="173">req</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="250" y="237">DtoR</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="270" y="206">DSHIM</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="276" y="173">DMem</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="278" y="182">write</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="280" y="237">RAM</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="280" y="246">read</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="310" y="237">RAM</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="310" y="246">write</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="341" y="243">DfrR</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="374" y="183">data out</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="382" y="231">done</text>
    </appear>
    <comp lib="0" loc="(1010,450)" name="Pin">
      <a name="facing" val="west"/>
      <a name="type" val="output"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(1050,380)" name="Pin">
      <a name="facing" val="north"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(1230,490)" name="Pin">
      <a name="facing" val="west"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(1230,510)" name="Pin">
      <a name="facing" val="west"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(1290,740)" name="Pin">
      <a name="facing" val="west"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(1340,220)" name="Splitter">
      <a name="appear" val="right"/>
      <a name="bit1" val="0"/>
      <a name="bit10" val="1"/>
      <a name="bit11" val="1"/>
      <a name="bit12" val="1"/>
      <a name="bit13" val="1"/>
      <a name="bit14" val="1"/>
      <a name="bit15" val="1"/>
      <a name="bit16" val="2"/>
      <a name="bit17" val="2"/>
      <a name="bit18" val="2"/>
      <a name="bit19" val="2"/>
      <a name="bit2" val="0"/>
      <a name="bit20" val="2"/>
      <a name="bit21" val="2"/>
      <a name="bit22" val="2"/>
      <a name="bit23" val="2"/>
      <a name="bit24" val="3"/>
      <a name="bit25" val="3"/>
      <a name="bit26" val="3"/>
      <a name="bit27" val="3"/>
      <a name="bit28" val="3"/>
      <a name="bit29" val="3"/>
      <a name="bit3" val="0"/>
      <a name="bit30" val="3"/>
      <a name="bit31" val="3"/>
      <a name="bit4" val="0"/>
      <a name="bit5" val="0"/>
      <a name="bit6" val="0"/>
      <a name="bit7" val="0"/>
      <a name="bit8" val="1"/>
      <a name="bit9" val="1"/>
      <a name="facing" val="west"/>
      <a name="fanout" val="4"/>
      <a name="incoming" val="32"/>
    </comp>
    <comp lib="0" loc="(1370,220)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="DataOut"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(190,360)" name="Pin">
      <a name="labelloc" val="east"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(250,500)" name="Pin">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(250,580)" name="Pin">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(290,750)" name="Pin">
      <a name="facing" val="north"/>
    </comp>
    <comp lib="0" loc="(320,520)" name="Constant">
      <a name="facing" val="north"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="0" loc="(320,600)" name="Constant">
      <a name="facing" val="north"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="0" loc="(360,750)" name="Pin">
      <a name="facing" val="north"/>
    </comp>
    <comp lib="0" loc="(380,410)" name="Bit Extender">
      <a name="in_width" val="3"/>
      <a name="out_width" val="32"/>
      <a name="type" val="zero"/>
    </comp>
    <comp lib="0" loc="(420,350)" name="Constant">
      <a name="facing" val="south"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="0" loc="(490,570)" name="Constant">
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="0" loc="(500,560)" name="Constant">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(580,750)" name="Pin">
      <a name="facing" val="north"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(590,590)" name="Constant">
      <a name="value" val="0x4"/>
      <a name="width" val="3"/>
    </comp>
    <comp lib="0" loc="(670,750)" name="Pin">
      <a name="facing" val="north"/>
      <a name="type" val="output"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(810,420)" name="Pin">
      <a name="labelloc" val="east"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(910,420)" name="Splitter">
      <a name="appear" val="right"/>
      <a name="bit1" val="0"/>
      <a name="bit10" val="1"/>
      <a name="bit11" val="1"/>
      <a name="bit12" val="1"/>
      <a name="bit13" val="1"/>
      <a name="bit14" val="1"/>
      <a name="bit15" val="1"/>
      <a name="bit16" val="2"/>
      <a name="bit17" val="2"/>
      <a name="bit18" val="2"/>
      <a name="bit19" val="2"/>
      <a name="bit2" val="0"/>
      <a name="bit20" val="2"/>
      <a name="bit21" val="2"/>
      <a name="bit22" val="2"/>
      <a name="bit23" val="2"/>
      <a name="bit24" val="3"/>
      <a name="bit25" val="3"/>
      <a name="bit26" val="3"/>
      <a name="bit27" val="3"/>
      <a name="bit28" val="3"/>
      <a name="bit29" val="3"/>
      <a name="bit3" val="0"/>
      <a name="bit30" val="3"/>
      <a name="bit31" val="3"/>
      <a name="bit4" val="0"/>
      <a name="bit5" val="0"/>
      <a name="bit6" val="0"/>
      <a name="bit7" val="0"/>
      <a name="bit8" val="1"/>
      <a name="bit9" val="1"/>
      <a name="fanout" val="4"/>
      <a name="incoming" val="32"/>
    </comp>
    <comp lib="0" loc="(930,550)" name="Bit Extender">
      <a name="in_width" val="3"/>
      <a name="out_width" val="2"/>
    </comp>
    <comp lib="1" loc="(420,480)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(420,520)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(520,620)" name="OR Gate">
      <a name="facing" val="west"/>
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(670,710)" name="Controlled Buffer">
      <a name="facing" val="south"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="2" loc="(540,200)" name="Decoder">
      <a name="select" val="3"/>
    </comp>
    <comp lib="2" loc="(970,450)" name="Multiplexer">
      <a name="select" val="2"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="3" loc="(440,370)" name="Adder">
      <a name="width" val="32"/>
    </comp>
    <comp lib="3" loc="(630,580)" name="Comparator">
      <a name="mode" val="unsigned"/>
      <a name="width" val="3"/>
    </comp>
    <comp lib="4" loc="(1150,150)" name="Register">
      <a name="trigger" val="falling"/>
    </comp>
    <comp lib="4" loc="(1150,240)" name="Register">
      <a name="trigger" val="falling"/>
    </comp>
    <comp lib="4" loc="(1150,330)" name="Register">
      <a name="trigger" val="falling"/>
    </comp>
    <comp lib="4" loc="(1150,60)" name="Register">
      <a name="trigger" val="falling"/>
    </comp>
    <comp lib="4" loc="(350,490)" name="D Flip-Flop">
      <a name="enable" val="true"/>
    </comp>
    <comp lib="4" loc="(350,570)" name="D Flip-Flop">
      <a name="enable" val="true"/>
      <a name="label" val="in use?"/>
    </comp>
    <comp lib="4" loc="(520,580)" name="Counter">
      <a name="max" val="0x7"/>
      <a name="width" val="3"/>
    </comp>
    <comp lib="6" loc="(1047,418)" name="Text">
      <a name="text" val="data from RAM (8 bits)"/>
    </comp>
    <comp lib="6" loc="(1059,474)" name="Text">
      <a name="text" val="data to RAM (8 bits)"/>
    </comp>
    <comp lib="6" loc="(1280,515)" name="Text">
      <a name="text" val="RAMread"/>
    </comp>
    <comp lib="6" loc="(1281,494)" name="Text">
      <a name="text" val="RAMwrite"/>
    </comp>
    <comp lib="6" loc="(1331,744)" name="Text">
      <a name="text" val="done"/>
    </comp>
    <comp lib="6" loc="(251,555)" name="Text">
      <a name="text" val="req"/>
    </comp>
    <comp lib="6" loc="(255,475)" name="Text">
      <a name="text" val="DMem Write"/>
    </comp>
    <comp lib="6" loc="(289,788)" name="Text">
      <a name="text" val="reset"/>
    </comp>
    <comp lib="6" loc="(359,787)" name="Text">
      <a name="text" val="clock"/>
    </comp>
    <comp lib="6" loc="(445,475)" name="Text">
      <a name="text" val="writing?"/>
    </comp>
    <comp lib="6" loc="(446,515)" name="Text">
      <a name="text" val="reading?"/>
    </comp>
    <comp lib="6" loc="(503,532)" name="Text">
      <a name="text">state
(3 bits)</a>
    </comp>
    <comp lib="6" loc="(579,786)" name="Text">
      <a name="text" val="RAMuse"/>
    </comp>
    <comp lib="6" loc="(672,852)" name="Text">
      <a name="text" val="RAMaddr (32 bits)"/>
    </comp>
    <comp lib="6" loc="(705,426)" name="Text">
      <a name="text" val="data in"/>
    </comp>
    <comp lib="6" loc="(80,366)" name="Text">
      <a name="text" val="address"/>
    </comp>
    <wire from="(1020,150)" to="(1020,340)"/>
    <wire from="(1020,340)" to="(1120,340)"/>
    <wire from="(1030,140)" to="(1030,250)"/>
    <wire from="(1030,250)" to="(1120,250)"/>
    <wire from="(1040,130)" to="(1040,160)"/>
    <wire from="(1040,160)" to="(1120,160)"/>
    <wire from="(1050,150)" to="(1050,240)"/>
    <wire from="(1050,150)" to="(1120,150)"/>
    <wire from="(1050,240)" to="(1050,330)"/>
    <wire from="(1050,240)" to="(1120,240)"/>
    <wire from="(1050,330)" to="(1050,380)"/>
    <wire from="(1050,330)" to="(1120,330)"/>
    <wire from="(1050,60)" to="(1050,150)"/>
    <wire from="(1050,60)" to="(1120,60)"/>
    <wire from="(1100,180)" to="(1100,270)"/>
    <wire from="(1100,180)" to="(1130,180)"/>
    <wire from="(1100,270)" to="(1100,360)"/>
    <wire from="(1100,270)" to="(1130,270)"/>
    <wire from="(1100,360)" to="(1130,360)"/>
    <wire from="(1100,90)" to="(1100,180)"/>
    <wire from="(1100,90)" to="(1130,90)"/>
    <wire from="(1130,170)" to="(1130,180)"/>
    <wire from="(1130,260)" to="(1130,270)"/>
    <wire from="(1130,350)" to="(1130,360)"/>
    <wire from="(1130,360)" to="(1130,680)"/>
    <wire from="(1130,80)" to="(1130,90)"/>
    <wire from="(1140,170)" to="(1140,180)"/>
    <wire from="(1140,180)" to="(1160,180)"/>
    <wire from="(1140,260)" to="(1140,270)"/>
    <wire from="(1140,270)" to="(1160,270)"/>
    <wire from="(1140,350)" to="(1140,360)"/>
    <wire from="(1140,360)" to="(1160,360)"/>
    <wire from="(1140,80)" to="(1140,90)"/>
    <wire from="(1140,90)" to="(1160,90)"/>
    <wire from="(1150,150)" to="(1300,150)"/>
    <wire from="(1150,240)" to="(1210,240)"/>
    <wire from="(1150,330)" to="(1320,330)"/>
    <wire from="(1150,60)" to="(1320,60)"/>
    <wire from="(1160,180)" to="(1160,270)"/>
    <wire from="(1160,270)" to="(1160,360)"/>
    <wire from="(1160,360)" to="(1160,660)"/>
    <wire from="(1160,90)" to="(1160,180)"/>
    <wire from="(1210,200)" to="(1210,240)"/>
    <wire from="(1210,200)" to="(1320,200)"/>
    <wire from="(1300,150)" to="(1300,190)"/>
    <wire from="(1300,190)" to="(1320,190)"/>
    <wire from="(1320,210)" to="(1320,330)"/>
    <wire from="(1320,60)" to="(1320,180)"/>
    <wire from="(1340,220)" to="(1370,220)"/>
    <wire from="(190,360)" to="(400,360)"/>
    <wire from="(250,500)" to="(250,510)"/>
    <wire from="(250,510)" to="(310,510)"/>
    <wire from="(250,580)" to="(250,590)"/>
    <wire from="(250,590)" to="(310,590)"/>
    <wire from="(270,490)" to="(270,570)"/>
    <wire from="(270,490)" to="(310,490)"/>
    <wire from="(270,570)" to="(270,680)"/>
    <wire from="(270,570)" to="(310,570)"/>
    <wire from="(270,680)" to="(360,680)"/>
    <wire from="(290,660)" to="(290,750)"/>
    <wire from="(290,660)" to="(460,660)"/>
    <wire from="(330,410)" to="(330,450)"/>
    <wire from="(330,410)" to="(340,410)"/>
    <wire from="(330,450)" to="(540,450)"/>
    <wire from="(330,520)" to="(330,530)"/>
    <wire from="(330,530)" to="(370,530)"/>
    <wire from="(330,600)" to="(330,610)"/>
    <wire from="(330,610)" to="(370,610)"/>
    <wire from="(340,520)" to="(340,540)"/>
    <wire from="(340,540)" to="(460,540)"/>
    <wire from="(340,600)" to="(340,620)"/>
    <wire from="(340,620)" to="(510,620)"/>
    <wire from="(350,490)" to="(390,490)"/>
    <wire from="(350,510)" to="(390,510)"/>
    <wire from="(350,570)" to="(380,570)"/>
    <wire from="(350,590)" to="(370,590)"/>
    <wire from="(360,680)" to="(360,750)"/>
    <wire from="(360,680)" to="(500,680)"/>
    <wire from="(370,530)" to="(370,590)"/>
    <wire from="(370,590)" to="(370,610)"/>
    <wire from="(370,590)" to="(450,590)"/>
    <wire from="(380,410)" to="(390,410)"/>
    <wire from="(380,470)" to="(380,530)"/>
    <wire from="(380,470)" to="(390,470)"/>
    <wire from="(380,530)" to="(380,570)"/>
    <wire from="(380,530)" to="(390,530)"/>
    <wire from="(380,570)" to="(470,570)"/>
    <wire from="(390,380)" to="(390,410)"/>
    <wire from="(390,380)" to="(400,380)"/>
    <wire from="(420,480)" to="(520,480)"/>
    <wire from="(420,520)" to="(530,520)"/>
    <wire from="(440,370)" to="(670,370)"/>
    <wire from="(450,590)" to="(450,740)"/>
    <wire from="(450,740)" to="(1290,740)"/>
    <wire from="(460,540)" to="(460,660)"/>
    <wire from="(460,660)" to="(570,660)"/>
    <wire from="(470,570)" to="(470,590)"/>
    <wire from="(470,590)" to="(470,700)"/>
    <wire from="(470,590)" to="(490,590)"/>
    <wire from="(470,700)" to="(580,700)"/>
    <wire from="(500,600)" to="(500,680)"/>
    <wire from="(500,680)" to="(1130,680)"/>
    <wire from="(510,600)" to="(510,620)"/>
    <wire from="(510,620)" to="(520,620)"/>
    <wire from="(520,480)" to="(520,490)"/>
    <wire from="(520,490)" to="(960,490)"/>
    <wire from="(520,580)" to="(540,580)"/>
    <wire from="(530,200)" to="(530,510)"/>
    <wire from="(530,510)" to="(1230,510)"/>
    <wire from="(530,510)" to="(530,520)"/>
    <wire from="(540,200)" to="(540,450)"/>
    <wire from="(540,450)" to="(540,550)"/>
    <wire from="(540,550)" to="(540,580)"/>
    <wire from="(540,550)" to="(570,550)"/>
    <wire from="(550,610)" to="(640,610)"/>
    <wire from="(550,630)" to="(570,630)"/>
    <wire from="(560,120)" to="(570,120)"/>
    <wire from="(560,130)" to="(1040,130)"/>
    <wire from="(560,140)" to="(1030,140)"/>
    <wire from="(560,150)" to="(1020,150)"/>
    <wire from="(570,550)" to="(570,570)"/>
    <wire from="(570,550)" to="(890,550)"/>
    <wire from="(570,570)" to="(590,570)"/>
    <wire from="(570,630)" to="(570,660)"/>
    <wire from="(570,660)" to="(1160,660)"/>
    <wire from="(570,70)" to="(1120,70)"/>
    <wire from="(570,70)" to="(570,120)"/>
    <wire from="(580,700)" to="(580,750)"/>
    <wire from="(580,700)" to="(660,700)"/>
    <wire from="(630,580)" to="(640,580)"/>
    <wire from="(640,580)" to="(640,610)"/>
    <wire from="(670,370)" to="(670,690)"/>
    <wire from="(670,710)" to="(670,750)"/>
    <wire from="(810,420)" to="(910,420)"/>
    <wire from="(930,550)" to="(950,550)"/>
    <wire from="(950,470)" to="(950,550)"/>
    <wire from="(960,470)" to="(960,490)"/>
    <wire from="(960,490)" to="(1230,490)"/>
    <wire from="(970,450)" to="(1010,450)"/>
  </circuit>
  <circuit name="kbyte buddy">
    <a name="appearance" val="custom"/>
    <appear>
      <circ-anchor facing="east" height="6" width="6" x="127" y="17"/>
      <circ-port height="10" pin="810,140" width="10" x="125" y="15"/>
      <circ-port height="10" pin="840,350" width="10" x="155" y="15"/>
      <circ-port height="8" pin="370,130" width="8" x="166" y="46"/>
      <circ-port height="8" pin="370,290" width="8" x="116" y="26"/>
      <circ-port height="8" pin="370,370" width="8" x="126" y="46"/>
      <rect fill="none" height="30" stroke="#000000" stroke-width="2" width="60" x="120" y="20"/>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="154" y="43"> buddy</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="156" y="33">kbyte</text>
    </appear>
    <comp lib="0" loc="(370,130)" name="Pin">
      <a name="label" val="addr"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(370,290)" name="Pin">
      <a name="label" val="addr prefix"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(370,370)" name="Pin">
      <a name="label" val="use"/>
    </comp>
    <comp lib="0" loc="(540,220)" name="Constant">
      <a name="value" val="0xfffffc00"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(630,140)" name="Bit Extender">
      <a name="in_width" val="32"/>
      <a name="out_width" val="10"/>
      <a name="type" val="zero"/>
    </comp>
    <comp lib="0" loc="(810,140)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="ram addr"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
      <a name="width" val="10"/>
    </comp>
    <comp lib="0" loc="(840,350)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="sel"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="1" loc="(570,210)" name="AND Gate">
      <a name="size" val="30"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="1" loc="(710,350)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="3" loc="(630,220)" name="Comparator">
      <a name="mode" val="unsigned"/>
      <a name="width" val="32"/>
    </comp>
    <wire from="(370,130)" to="(440,130)"/>
    <wire from="(370,290)" to="(560,290)"/>
    <wire from="(370,370)" to="(580,370)"/>
    <wire from="(440,130)" to="(440,140)"/>
    <wire from="(440,140)" to="(440,200)"/>
    <wire from="(440,140)" to="(590,140)"/>
    <wire from="(440,200)" to="(540,200)"/>
    <wire from="(560,230)" to="(560,290)"/>
    <wire from="(560,230)" to="(590,230)"/>
    <wire from="(570,210)" to="(590,210)"/>
    <wire from="(580,360)" to="(580,370)"/>
    <wire from="(580,360)" to="(680,360)"/>
    <wire from="(630,140)" to="(810,140)"/>
    <wire from="(630,220)" to="(660,220)"/>
    <wire from="(660,220)" to="(660,340)"/>
    <wire from="(660,340)" to="(680,340)"/>
    <wire from="(710,350)" to="(840,350)"/>
  </circuit>
  <circuit name="io">
    <a name="appearance" val="custom"/>
    <appear>
      <circ-anchor facing="east" height="6" width="6" x="147" y="187"/>
      <circ-port height="10" pin="1320,450" width="10" x="145" y="185"/>
      <circ-port height="10" pin="1320,810" width="10" x="305" y="245"/>
      <circ-port height="10" pin="1330,340" width="10" x="305" y="105"/>
      <circ-port height="10" pin="1330,370" width="10" x="305" y="125"/>
      <circ-port height="10" pin="1330,840" width="10" x="305" y="265"/>
      <circ-port height="10" pin="1330,930" width="10" x="305" y="285"/>
      <circ-port height="8" pin="1320,310" width="8" x="306" y="86"/>
      <circ-port height="8" pin="1330,280" width="8" x="306" y="66"/>
      <circ-port height="8" pin="1330,770" width="8" x="306" y="226"/>
      <circ-port height="8" pin="180,360" width="8" x="146" y="66"/>
      <circ-port height="8" pin="180,460" width="8" x="146" y="86"/>
      <circ-port height="8" pin="180,590" width="8" x="146" y="106"/>
      <circ-port height="8" pin="180,690" width="8" x="146" y="126"/>
      <circ-port height="8" pin="180,760" width="8" x="146" y="146"/>
      <circ-port height="8" pin="180,970" width="8" x="146" y="286"/>
      <path d="M226,60 Q230,70 234,60" fill="none" stroke="#808080" stroke-width="2"/>
      <rect fill="none" height="240" stroke="#000000" stroke-width="2" width="160" x="150" y="60"/>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="167" y="294">reset</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="173" y="114">data in</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="176" y="75">RAMuse</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="178" y="134">RAMread</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="178" y="195">data out</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="179" y="154">RAMwrite</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="179" y="95">RAMaddr</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="231" y="185">IO</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="276" y="235">TTY Ready</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="279" y="274">TTY Enable</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="279" y="294">TTY Clear</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="281" y="255">TTY Data</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="281" y="75">KB Status</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="283" y="114">KB RdEn</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="283" y="134">KB Clear</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="285" y="94">KB Data</text>
    </appear>
    <comp lib="0" loc="(1110,680)" name="Bit Extender">
      <a name="out_width" val="7"/>
      <a name="type" val="zero"/>
    </comp>
    <comp lib="0" loc="(1150,660)" name="Probe">
      <a name="facing" val="south"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(1320,310)" name="Pin">
      <a name="facing" val="west"/>
      <a name="labelloc" val="east"/>
      <a name="width" val="7"/>
    </comp>
    <comp lib="0" loc="(1320,450)" name="Pin">
      <a name="facing" val="west"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(1320,810)" name="Pin">
      <a name="facing" val="west"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
      <a name="width" val="7"/>
    </comp>
    <comp lib="0" loc="(1330,280)" name="Pin">
      <a name="facing" val="west"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(1330,340)" name="Pin">
      <a name="facing" val="west"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(1330,370)" name="Pin">
      <a name="facing" val="west"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(1330,770)" name="Pin">
      <a name="facing" val="west"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(1330,840)" name="Pin">
      <a name="facing" val="west"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(1330,930)" name="Pin">
      <a name="facing" val="west"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="0" loc="(180,360)" name="Pin">
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(180,460)" name="Pin">
      <a name="labelloc" val="east"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(180,590)" name="Pin">
      <a name="labelloc" val="east"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(180,690)" name="Pin">
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(180,760)" name="Pin">
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(180,970)" name="Pin">
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(190,460)" name="Splitter">
      <a name="appear" val="center"/>
      <a name="bit0" val="1"/>
      <a name="bit10" val="0"/>
      <a name="bit11" val="0"/>
      <a name="bit12" val="0"/>
      <a name="bit13" val="0"/>
      <a name="bit14" val="0"/>
      <a name="bit15" val="0"/>
      <a name="bit16" val="0"/>
      <a name="bit17" val="0"/>
      <a name="bit18" val="0"/>
      <a name="bit19" val="0"/>
      <a name="bit2" val="1"/>
      <a name="bit20" val="0"/>
      <a name="bit21" val="0"/>
      <a name="bit22" val="0"/>
      <a name="bit23" val="0"/>
      <a name="bit24" val="0"/>
      <a name="bit25" val="0"/>
      <a name="bit26" val="0"/>
      <a name="bit27" val="0"/>
      <a name="bit28" val="0"/>
      <a name="bit29" val="0"/>
      <a name="bit3" val="1"/>
      <a name="bit30" val="0"/>
      <a name="bit31" val="0"/>
      <a name="bit4" val="1"/>
      <a name="bit5" val="1"/>
      <a name="bit6" val="1"/>
      <a name="bit7" val="1"/>
      <a name="bit8" val="0"/>
      <a name="bit9" val="0"/>
      <a name="incoming" val="32"/>
    </comp>
    <comp lib="0" loc="(210,490)" name="Probe">
      <a name="facing" val="north"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(240,380)" name="Constant">
      <a name="value" val="0xfffe"/>
      <a name="width" val="24"/>
    </comp>
    <comp lib="0" loc="(330,390)" name="Constant">
      <a name="value" val="0x0"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(330,430)" name="Constant">
      <a name="value" val="0x4"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(330,470)" name="Constant">
      <a name="value" val="0x8"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(330,510)" name="Constant">
      <a name="value" val="0xc"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(330,550)" name="Constant">
      <a name="value" val="0x10"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(420,160)" name="Constant">
      <a name="value" val="0x0"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(420,200)" name="Constant">
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(420,240)" name="Constant">
      <a name="value" val="0x2"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(420,280)" name="Constant">
      <a name="value" val="0x3"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(440,130)" name="Constant">
      <a name="facing" val="south"/>
      <a name="value" val="0x0"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(650,440)" name="Constant">
      <a name="value" val="0x0"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="0" loc="(710,140)" name="Probe">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(730,310)" name="Bit Extender">
      <a name="in_width" val="1"/>
      <a name="out_width" val="8"/>
      <a name="type" val="zero"/>
    </comp>
    <comp lib="0" loc="(730,740)" name="Bit Extender">
      <a name="in_width" val="1"/>
      <a name="out_width" val="8"/>
      <a name="type" val="zero"/>
    </comp>
    <comp lib="0" loc="(800,340)" name="Bit Extender">
      <a name="in_width" val="7"/>
      <a name="out_width" val="8"/>
      <a name="type" val="zero"/>
    </comp>
    <comp lib="0" loc="(990,440)" name="Probe">
      <a name="facing" val="south"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(990,520)" name="Probe">
      <a name="facing" val="south"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(990,590)" name="Probe">
      <a name="facing" val="south"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(990,670)" name="Probe">
      <a name="facing" val="south"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="1" loc="(1060,340)" name="AND Gate">
      <a name="inputs" val="3"/>
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(1070,840)" name="AND Gate">
      <a name="inputs" val="3"/>
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(300,720)" name="XOR Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(380,700)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(380,750)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(490,490)" name="NOT Gate">
      <a name="size" val="20"/>
    </comp>
    <comp lib="1" loc="(490,530)" name="NOT Gate">
      <a name="size" val="20"/>
    </comp>
    <comp lib="1" loc="(490,570)" name="NOT Gate">
      <a name="size" val="20"/>
    </comp>
    <comp lib="1" loc="(530,480)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(530,520)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(530,560)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(600,450)" name="OR Gate">
      <a name="inputs" val="4"/>
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(630,170)" name="OR Gate">
      <a name="inputs" val="4"/>
      <a name="size" val="30"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="1" loc="(630,760)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(720,370)" name="AND Gate">
      <a name="inputs" val="3"/>
      <a name="size" val="30"/>
    </comp>
    <comp lib="2" loc="(1230,460)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="select" val="2"/>
      <a name="selloc" val="tr"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="2" loc="(1300,450)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="selloc" val="tr"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="2" loc="(520,150)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="2" loc="(540,190)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="2" loc="(560,230)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="2" loc="(580,270)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="2" loc="(720,530)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="2" loc="(730,470)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="selloc" val="tr"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="2" loc="(780,680)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="selloc" val="tr"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="2" loc="(790,450)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="selloc" val="tr"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="2" loc="(860,540)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="select" val="2"/>
      <a name="selloc" val="tr"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="2" loc="(930,450)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="selloc" val="tr"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="2" loc="(930,530)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="selloc" val="tr"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="2" loc="(930,600)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="selloc" val="tr"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="2" loc="(930,680)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="selloc" val="tr"/>
      <a name="width" val="8"/>
    </comp>
    <comp lib="3" loc="(290,390)" name="Comparator">
      <a name="mode" val="unsigned"/>
      <a name="width" val="24"/>
    </comp>
    <comp lib="3" loc="(380,400)" name="Comparator">
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="3" loc="(380,440)" name="Comparator">
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="3" loc="(380,480)" name="Comparator">
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="3" loc="(380,520)" name="Comparator">
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="3" loc="(380,560)" name="Comparator">
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="6" loc="(118,695)" name="Text">
      <a name="text" val="RAM Read"/>
    </comp>
    <comp lib="6" loc="(118,765)" name="Text">
      <a name="text" val="RAM Write"/>
    </comp>
    <comp lib="6" loc="(130,365)" name="Text">
      <a name="text" val="RAM Use"/>
    </comp>
    <comp lib="6" loc="(131,975)" name="Text">
      <a name="text" val="reset"/>
    </comp>
    <comp lib="6" loc="(1368,436)" name="Text">
      <a name="text" val="Outgoing Data"/>
    </comp>
    <comp lib="6" loc="(1382,374)" name="Text">
      <a name="text" val="KB Clear"/>
    </comp>
    <comp lib="6" loc="(1384,285)" name="Text">
      <a name="text" val="KB Status"/>
    </comp>
    <comp lib="6" loc="(1384,934)" name="Text">
      <a name="text" val="TTY Clear"/>
    </comp>
    <comp lib="6" loc="(1385,844)" name="Text">
      <a name="text" val="TTY Enable"/>
    </comp>
    <comp lib="6" loc="(1387,774)" name="Text">
      <a name="text" val="TTY Ready"/>
    </comp>
    <comp lib="6" loc="(1401,345)" name="Text">
      <a name="text" val="KB read enable"/>
    </comp>
    <comp lib="6" loc="(1431,315)" name="Text">
      <a name="text" val="KB Data"/>
    </comp>
    <comp lib="6" loc="(1434,815)" name="Text">
      <a name="text" val="TTY Data"/>
    </comp>
    <comp lib="6" loc="(1487,11)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">Testing (done in HW5 in larger test circuit provided): 
KBSR (All register 0)
(KB Status | RAMuse | RAMaddr | RAMread | RAMwrite | data out):
1 | 1 | 00fffe00 | 1 | 0 | 01,
1 | 0 | 00fffe00 | 1 | 0 | xx,
1 | 1 | 00fffe01 | 1 | 0 | 00,
1 | 1 | 00fffe00 | 1 | 1 | xx

KBDR (All register 1)
(KB Data | RAMuse | RAMaddr | RAMread | RAMwrite | KB RdEn | data out):
h | 1 | 00fffe04 | 1 | 0 | 1 | 68,
h | 0 | 00fffe04 | 1 | 0 | 0 | xx,
h | 1 | 00fffe05 | 1 | 0 | 1 | 00,
h | 1 | 00fffe04 | 1 | 1 | 0 | xx

DSR (All register 2)
(TTY Ready | RAMuse | RAMaddr | RAMread | RAMwrite | data out):
1 | 1 | 00fffe08 | 1 | 0 | 01,
0 | 1 | 00fffe08 | 1 | 0 | 00,
1 | 1 | 00fffe08 | 0 | 1 | xx,
1 | 1 | 00fffe09 | 1 | 0 | 00

DDR (All register 3) *TTY Data after clock press
(data in | RAMuse | RAMaddr | RAMread | RAMwrite | TTY Ready | TTY Enable | TTY Data):
41 | 1 | 00fffe0c | 0 | 1 | 1 | 1 | A,
41 | 0 | 00fffe0c | 0 | 1 | 1 | 0 | (nothing),
41 | 1 | 00fffe0c | 0 | 1 | 0 | 0 | (nothing),
41 | 1 | 00fffe0d | 0 | 1 | 1 | 1 | (nothing),
41 | 1 | 00fffe0c | 1 | 0 | 1 | 0 | (nothing)</a>
      <a name="valign" val="center"/>
    </comp>
    <comp lib="6" loc="(18,36)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">Design thinking:
1. Check if RAM use is enabled and if the RAM address is valid.
If so, let the data be outputted to outgoing data. If not, output
floating to the outgoing data.
2. Use multiplexers to create a 2-bit selector to use with other
multiplexers.
3. Make sure that RAM Read and RAM Write are not on at the
same time.
4. Use multiplexers that take whether or not the least significant
byte is being referred to for KBSR, KBDR, DSR, or DDR. If so,
send through the respective data input. If not, send through 00
through.
5. Use multiplexers connected to RAM Read (KBSR, KBDR, DSR)
or RAM Write (DDR) to determine which, if any, of KBSR, KBDR,
DSR, or DDR are being referred to. For any of them, if they are
active, then send the input data through. If not, send through a
floating value.
6. Use a multiplexer and select the correct data input by using
the 2-bit selector value (made earlier) to get the right data.
7. Use a mulitplexer to send through floating if the condition from
step 1 is off or the data input if the condition from step 1 is on.</a>
      <a name="valign" val="center"/>
    </comp>
    <comp lib="6" loc="(383,459)" name="Text">
      <a name="halign" val="left"/>
      <a name="text" val="KBDR"/>
      <a name="valign" val="center"/>
    </comp>
    <comp lib="6" loc="(384,419)" name="Text">
      <a name="halign" val="left"/>
      <a name="text" val="KBSR"/>
      <a name="valign" val="center"/>
    </comp>
    <comp lib="6" loc="(385,540)" name="Text">
      <a name="halign" val="left"/>
      <a name="text" val="DDR"/>
      <a name="valign" val="center"/>
    </comp>
    <comp lib="6" loc="(386,500)" name="Text">
      <a name="halign" val="left"/>
      <a name="text" val="DSR"/>
      <a name="valign" val="center"/>
    </comp>
    <comp lib="6" loc="(54,593)" name="Text">
      <a name="text" val="Incoming Data"/>
    </comp>
    <comp lib="6" loc="(57,463)" name="Text">
      <a name="text" val="RAM Address"/>
    </comp>
    <wire from="(1020,350)" to="(1020,390)"/>
    <wire from="(1020,350)" to="(1030,350)"/>
    <wire from="(1020,390)" to="(1020,840)"/>
    <wire from="(1020,390)" to="(1280,390)"/>
    <wire from="(1020,840)" to="(1040,840)"/>
    <wire from="(1060,340)" to="(1330,340)"/>
    <wire from="(1070,840)" to="(1330,840)"/>
    <wire from="(1110,680)" to="(1150,680)"/>
    <wire from="(1140,440)" to="(1140,450)"/>
    <wire from="(1140,440)" to="(1190,440)"/>
    <wire from="(1150,450)" to="(1150,530)"/>
    <wire from="(1150,450)" to="(1190,450)"/>
    <wire from="(1150,660)" to="(1150,680)"/>
    <wire from="(1150,680)" to="(1290,680)"/>
    <wire from="(1160,460)" to="(1160,600)"/>
    <wire from="(1160,460)" to="(1190,460)"/>
    <wire from="(1210,170)" to="(1210,440)"/>
    <wire from="(1230,460)" to="(1270,460)"/>
    <wire from="(1270,430)" to="(1270,440)"/>
    <wire from="(1280,390)" to="(1280,430)"/>
    <wire from="(1290,680)" to="(1290,810)"/>
    <wire from="(1290,810)" to="(1320,810)"/>
    <wire from="(1300,450)" to="(1320,450)"/>
    <wire from="(1320,370)" to="(1320,390)"/>
    <wire from="(1320,370)" to="(1330,370)"/>
    <wire from="(1320,390)" to="(1470,390)"/>
    <wire from="(1320,930)" to="(1320,970)"/>
    <wire from="(1320,930)" to="(1330,930)"/>
    <wire from="(1320,970)" to="(1470,970)"/>
    <wire from="(1470,390)" to="(1470,970)"/>
    <wire from="(180,360)" to="(690,360)"/>
    <wire from="(180,460)" to="(190,460)"/>
    <wire from="(180,590)" to="(670,590)"/>
    <wire from="(180,690)" to="(180,700)"/>
    <wire from="(180,690)" to="(240,690)"/>
    <wire from="(180,760)" to="(240,760)"/>
    <wire from="(180,970)" to="(1320,970)"/>
    <wire from="(210,450)" to="(220,450)"/>
    <wire from="(210,460)" to="(210,490)"/>
    <wire from="(210,460)" to="(300,460)"/>
    <wire from="(220,400)" to="(220,450)"/>
    <wire from="(220,400)" to="(250,400)"/>
    <wire from="(240,380)" to="(250,380)"/>
    <wire from="(240,690)" to="(240,710)"/>
    <wire from="(240,690)" to="(350,690)"/>
    <wire from="(240,710)" to="(260,710)"/>
    <wire from="(240,730)" to="(240,760)"/>
    <wire from="(240,730)" to="(260,730)"/>
    <wire from="(240,760)" to="(350,760)"/>
    <wire from="(290,390)" to="(300,390)"/>
    <wire from="(300,370)" to="(300,390)"/>
    <wire from="(300,370)" to="(690,370)"/>
    <wire from="(300,410)" to="(300,450)"/>
    <wire from="(300,410)" to="(340,410)"/>
    <wire from="(300,450)" to="(300,460)"/>
    <wire from="(300,450)" to="(340,450)"/>
    <wire from="(300,460)" to="(300,490)"/>
    <wire from="(300,490)" to="(300,530)"/>
    <wire from="(300,490)" to="(340,490)"/>
    <wire from="(300,530)" to="(300,570)"/>
    <wire from="(300,530)" to="(340,530)"/>
    <wire from="(300,570)" to="(340,570)"/>
    <wire from="(300,720)" to="(340,720)"/>
    <wire from="(330,390)" to="(340,390)"/>
    <wire from="(330,430)" to="(340,430)"/>
    <wire from="(330,470)" to="(340,470)"/>
    <wire from="(330,510)" to="(340,510)"/>
    <wire from="(330,550)" to="(340,550)"/>
    <wire from="(340,710)" to="(340,720)"/>
    <wire from="(340,710)" to="(350,710)"/>
    <wire from="(340,720)" to="(340,740)"/>
    <wire from="(340,740)" to="(350,740)"/>
    <wire from="(380,400)" to="(390,400)"/>
    <wire from="(380,430)" to="(460,430)"/>
    <wire from="(380,440)" to="(430,440)"/>
    <wire from="(380,470)" to="(450,470)"/>
    <wire from="(380,480)" to="(430,480)"/>
    <wire from="(380,510)" to="(440,510)"/>
    <wire from="(380,520)" to="(420,520)"/>
    <wire from="(380,550)" to="(500,550)"/>
    <wire from="(380,700)" to="(620,700)"/>
    <wire from="(380,750)" to="(600,750)"/>
    <wire from="(390,390)" to="(390,400)"/>
    <wire from="(390,390)" to="(770,390)"/>
    <wire from="(420,160)" to="(490,160)"/>
    <wire from="(420,200)" to="(510,200)"/>
    <wire from="(420,240)" to="(530,240)"/>
    <wire from="(420,280)" to="(550,280)"/>
    <wire from="(420,520)" to="(420,610)"/>
    <wire from="(420,610)" to="(700,610)"/>
    <wire from="(430,410)" to="(430,440)"/>
    <wire from="(430,410)" to="(710,410)"/>
    <wire from="(430,480)" to="(430,600)"/>
    <wire from="(430,600)" to="(760,600)"/>
    <wire from="(440,130)" to="(440,140)"/>
    <wire from="(440,140)" to="(440,180)"/>
    <wire from="(440,140)" to="(490,140)"/>
    <wire from="(440,180)" to="(440,220)"/>
    <wire from="(440,180)" to="(510,180)"/>
    <wire from="(440,220)" to="(440,260)"/>
    <wire from="(440,220)" to="(530,220)"/>
    <wire from="(440,260)" to="(550,260)"/>
    <wire from="(440,510)" to="(440,570)"/>
    <wire from="(440,510)" to="(500,510)"/>
    <wire from="(440,570)" to="(470,570)"/>
    <wire from="(450,470)" to="(450,530)"/>
    <wire from="(450,470)" to="(500,470)"/>
    <wire from="(450,530)" to="(470,530)"/>
    <wire from="(460,430)" to="(460,490)"/>
    <wire from="(460,430)" to="(530,430)"/>
    <wire from="(460,490)" to="(470,490)"/>
    <wire from="(490,490)" to="(500,490)"/>
    <wire from="(490,530)" to="(500,530)"/>
    <wire from="(490,570)" to="(500,570)"/>
    <wire from="(500,170)" to="(500,330)"/>
    <wire from="(500,330)" to="(530,330)"/>
    <wire from="(520,150)" to="(600,150)"/>
    <wire from="(520,210)" to="(520,300)"/>
    <wire from="(520,300)" to="(520,320)"/>
    <wire from="(520,300)" to="(670,300)"/>
    <wire from="(520,320)" to="(540,320)"/>
    <wire from="(530,330)" to="(530,430)"/>
    <wire from="(530,430)" to="(570,430)"/>
    <wire from="(530,480)" to="(540,480)"/>
    <wire from="(530,520)" to="(550,520)"/>
    <wire from="(530,560)" to="(560,560)"/>
    <wire from="(540,190)" to="(550,190)"/>
    <wire from="(540,250)" to="(540,310)"/>
    <wire from="(540,310)" to="(550,310)"/>
    <wire from="(540,320)" to="(540,440)"/>
    <wire from="(540,440)" to="(540,480)"/>
    <wire from="(540,440)" to="(570,440)"/>
    <wire from="(550,160)" to="(550,190)"/>
    <wire from="(550,160)" to="(600,160)"/>
    <wire from="(550,310)" to="(550,460)"/>
    <wire from="(550,460)" to="(550,520)"/>
    <wire from="(550,460)" to="(570,460)"/>
    <wire from="(560,230)" to="(570,230)"/>
    <wire from="(560,290)" to="(560,470)"/>
    <wire from="(560,470)" to="(560,560)"/>
    <wire from="(560,470)" to="(570,470)"/>
    <wire from="(560,560)" to="(560,830)"/>
    <wire from="(560,830)" to="(1040,830)"/>
    <wire from="(570,180)" to="(570,230)"/>
    <wire from="(570,180)" to="(600,180)"/>
    <wire from="(580,270)" to="(590,270)"/>
    <wire from="(590,190)" to="(590,270)"/>
    <wire from="(590,190)" to="(600,190)"/>
    <wire from="(590,770)" to="(590,790)"/>
    <wire from="(590,770)" to="(600,770)"/>
    <wire from="(590,790)" to="(680,790)"/>
    <wire from="(600,450)" to="(610,450)"/>
    <wire from="(610,380)" to="(610,450)"/>
    <wire from="(610,380)" to="(690,380)"/>
    <wire from="(620,420)" to="(620,500)"/>
    <wire from="(620,420)" to="(910,420)"/>
    <wire from="(620,500)" to="(620,570)"/>
    <wire from="(620,500)" to="(910,500)"/>
    <wire from="(620,570)" to="(620,700)"/>
    <wire from="(620,570)" to="(910,570)"/>
    <wire from="(630,170)" to="(710,170)"/>
    <wire from="(630,760)" to="(660,760)"/>
    <wire from="(650,440)" to="(680,440)"/>
    <wire from="(660,650)" to="(660,760)"/>
    <wire from="(660,650)" to="(910,650)"/>
    <wire from="(660,760)" to="(660,850)"/>
    <wire from="(660,850)" to="(1040,850)"/>
    <wire from="(670,270)" to="(670,300)"/>
    <wire from="(670,270)" to="(980,270)"/>
    <wire from="(670,540)" to="(670,590)"/>
    <wire from="(670,540)" to="(690,540)"/>
    <wire from="(680,280)" to="(1330,280)"/>
    <wire from="(680,280)" to="(680,310)"/>
    <wire from="(680,310)" to="(690,310)"/>
    <wire from="(680,440)" to="(680,460)"/>
    <wire from="(680,440)" to="(760,440)"/>
    <wire from="(680,460)" to="(680,520)"/>
    <wire from="(680,460)" to="(700,460)"/>
    <wire from="(680,520)" to="(680,670)"/>
    <wire from="(680,520)" to="(690,520)"/>
    <wire from="(680,670)" to="(750,670)"/>
    <wire from="(680,740)" to="(680,770)"/>
    <wire from="(680,740)" to="(690,740)"/>
    <wire from="(680,770)" to="(1330,770)"/>
    <wire from="(680,770)" to="(680,790)"/>
    <wire from="(690,400)" to="(690,480)"/>
    <wire from="(690,400)" to="(810,400)"/>
    <wire from="(690,480)" to="(700,480)"/>
    <wire from="(700,550)" to="(700,610)"/>
    <wire from="(710,140)" to="(710,170)"/>
    <wire from="(710,170)" to="(840,170)"/>
    <wire from="(710,410)" to="(710,450)"/>
    <wire from="(720,370)" to="(870,370)"/>
    <wire from="(720,530)" to="(730,530)"/>
    <wire from="(730,310)" to="(740,310)"/>
    <wire from="(730,470)" to="(740,470)"/>
    <wire from="(730,530)" to="(730,550)"/>
    <wire from="(730,550)" to="(820,550)"/>
    <wire from="(730,740)" to="(740,740)"/>
    <wire from="(740,310)" to="(740,460)"/>
    <wire from="(740,460)" to="(760,460)"/>
    <wire from="(740,470)" to="(740,530)"/>
    <wire from="(740,530)" to="(820,530)"/>
    <wire from="(740,690)" to="(740,740)"/>
    <wire from="(740,690)" to="(750,690)"/>
    <wire from="(750,310)" to="(1320,310)"/>
    <wire from="(750,310)" to="(750,340)"/>
    <wire from="(750,340)" to="(760,340)"/>
    <wire from="(760,600)" to="(760,660)"/>
    <wire from="(770,390)" to="(770,430)"/>
    <wire from="(780,680)" to="(810,680)"/>
    <wire from="(790,450)" to="(800,450)"/>
    <wire from="(800,340)" to="(810,340)"/>
    <wire from="(800,450)" to="(800,520)"/>
    <wire from="(800,520)" to="(820,520)"/>
    <wire from="(810,340)" to="(810,400)"/>
    <wire from="(810,540)" to="(810,680)"/>
    <wire from="(810,540)" to="(820,540)"/>
    <wire from="(840,170)" to="(1210,170)"/>
    <wire from="(840,170)" to="(840,520)"/>
    <wire from="(860,540)" to="(890,540)"/>
    <wire from="(870,370)" to="(870,390)"/>
    <wire from="(870,390)" to="(1020,390)"/>
    <wire from="(890,460)" to="(890,540)"/>
    <wire from="(890,460)" to="(900,460)"/>
    <wire from="(890,540)" to="(890,610)"/>
    <wire from="(890,540)" to="(900,540)"/>
    <wire from="(890,610)" to="(890,690)"/>
    <wire from="(890,610)" to="(900,610)"/>
    <wire from="(890,690)" to="(900,690)"/>
    <wire from="(910,340)" to="(1030,340)"/>
    <wire from="(910,340)" to="(910,420)"/>
    <wire from="(910,420)" to="(910,430)"/>
    <wire from="(910,500)" to="(910,510)"/>
    <wire from="(910,570)" to="(910,580)"/>
    <wire from="(910,650)" to="(910,660)"/>
    <wire from="(930,450)" to="(990,450)"/>
    <wire from="(930,530)" to="(990,530)"/>
    <wire from="(930,600)" to="(990,600)"/>
    <wire from="(930,680)" to="(990,680)"/>
    <wire from="(980,270)" to="(980,330)"/>
    <wire from="(980,330)" to="(1030,330)"/>
    <wire from="(990,440)" to="(990,450)"/>
    <wire from="(990,450)" to="(1140,450)"/>
    <wire from="(990,520)" to="(990,530)"/>
    <wire from="(990,530)" to="(1150,530)"/>
    <wire from="(990,590)" to="(990,600)"/>
    <wire from="(990,600)" to="(1160,600)"/>
    <wire from="(990,670)" to="(990,680)"/>
    <wire from="(990,680)" to="(1070,680)"/>
  </circuit>
  <circuit name="FSM">
    <a name="appearance" val="custom"/>
    <appear>
      <circ-anchor facing="east" height="6" width="6" x="107" y="47"/>
      <circ-port height="10" pin="1140,70" width="10" x="105" y="45"/>
      <circ-port height="10" pin="890,300" width="10" x="165" y="85"/>
      <circ-port height="8" pin="100,550" width="8" x="46" y="106"/>
      <circ-port height="8" pin="100,630" width="8" x="46" y="126"/>
      <circ-port height="8" pin="110,140" width="8" x="126" y="136"/>
      <circ-port height="8" pin="110,90" width="8" x="106" y="136"/>
      <circ-port height="8" pin="120,410" width="8" x="46" y="86"/>
      <path d="M106,138 Q110,121 114,138" fill="none" stroke="#808080" stroke-width="2"/>
      <rect fill="none" height="90" stroke="#000000" stroke-width="2" width="119" x="51" y="50"/>
      <text dominant-baseline="central" font-family="SansSerif" font-size="10" text-anchor="middle" x="110" y="126">c</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="10" text-anchor="middle" x="110" y="63">out</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="10" text-anchor="middle" x="130" y="133">r</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="10" text-anchor="middle" x="69" y="94">icode</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="10" text-anchor="middle" x="72" y="133">iMemR</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="10" text-anchor="middle" x="74" y="114">DMemR</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="12" text-anchor="middle" x="154" y="80">state</text>
      <text dominant-baseline="central" font-family="SansSerif" font-size="16" text-anchor="middle" x="139" y="101">FSM</text>
    </appear>
    <comp lib="0" loc="(100,550)" name="Pin">
      <a name="label" val="DMemDone"/>
      <a name="labelloc" val="north"/>
    </comp>
    <comp lib="0" loc="(100,630)" name="Pin">
      <a name="label" val="IMemDone"/>
      <a name="labelloc" val="north"/>
    </comp>
    <comp lib="0" loc="(1050,140)" name="Tunnel">
      <a name="label" val="s"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(1050,180)" name="Tunnel">
      <a name="label" val="valN"/>
      <a name="width" val="6"/>
    </comp>
    <comp lib="0" loc="(110,140)" name="Pin">
      <a name="label" val="reset"/>
      <a name="labelloc" val="north"/>
    </comp>
    <comp lib="0" loc="(110,90)" name="Pin">
      <a name="label" val="clock"/>
      <a name="labelloc" val="north"/>
    </comp>
    <comp lib="0" loc="(1140,70)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="output"/>
      <a name="labelloc" val="north"/>
      <a name="type" val="output"/>
      <a name="width" val="24"/>
    </comp>
    <comp lib="0" loc="(120,410)" name="Pin">
      <a name="label" val="icode"/>
      <a name="labelloc" val="north"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(240,690)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="s"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(240,720)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="valN"/>
      <a name="width" val="6"/>
    </comp>
    <comp lib="0" loc="(60,490)" name="Probe">
      <a name="facing" val="west"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(890,300)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="state"/>
      <a name="labelloc" val="north"/>
      <a name="type" val="output"/>
      <a name="width" val="6"/>
    </comp>
    <wire from="(100,550)" to="(650,550)"/>
    <wire from="(100,630)" to="(660,630)"/>
    <wire from="(1030,140)" to="(1050,140)"/>
    <wire from="(1030,180)" to="(1050,180)"/>
    <wire from="(110,140)" to="(190,140)"/>
    <wire from="(110,90)" to="(180,90)"/>
    <wire from="(120,410)" to="(640,410)"/>
    <wire from="(660,70)" to="(1140,70)"/>
    <wire from="(800,300)" to="(890,300)"/>
  </circuit>
  <circuit name="DataENSelect">
    <a name="appearance" val="custom"/>
    <appear>
      <circ-anchor facing="east" height="6" width="6" x="147" y="87"/>
      <circ-port height="10" pin="490,230" width="10" x="145" y="85"/>
      <circ-port height="10" pin="490,310" width="10" x="145" y="145"/>
      <circ-port height="8" pin="140,230" width="8" x="46" y="76"/>
      <circ-port height="8" pin="140,320" width="8" x="46" y="96"/>
      <circ-port height="8" pin="140,380" width="8" x="46" y="116"/>
      <circ-port height="8" pin="140,410" width="8" x="46" y="136"/>
      <circ-port height="8" pin="140,440" width="8" x="46" y="156"/>
      <circ-port height="8" pin="140,470" width="8" x="46" y="176"/>
      <rect fill="none" height="140" stroke="#000000" stroke-width="2" width="100" x="50" y="50"/>
      <text dominant-baseline="central" fill="#404040" font-family="SansSerif" font-size="10" text-anchor="end" x="145" y="150">EN</text>
      <text dominant-baseline="central" fill="#404040" font-family="SansSerif" font-size="10" text-anchor="end" x="145" y="90">D0</text>
      <text dominant-baseline="central" fill="#404040" font-family="SansSerif" font-size="10" text-anchor="start" x="55" y="100">valM</text>
      <text dominant-baseline="central" fill="#404040" font-family="SansSerif" font-size="10" text-anchor="start" x="55" y="120">reqE</text>
      <text dominant-baseline="central" fill="#404040" font-family="SansSerif" font-size="10" text-anchor="start" x="55" y="140">registerE</text>
      <text dominant-baseline="central" fill="#404040" font-family="SansSerif" font-size="10" text-anchor="start" x="55" y="160">reqM</text>
      <text dominant-baseline="central" fill="#404040" font-family="SansSerif" font-size="10" text-anchor="start" x="55" y="180">registerM</text>
      <text dominant-baseline="central" fill="#404040" font-family="SansSerif" font-size="10" text-anchor="start" x="55" y="80">valE</text>
      <text dominant-baseline="top" font-family="SansSerif" font-size="12" text-anchor="middle" x="100" y="55">DataENSelect</text>
    </appear>
    <comp lib="0" loc="(140,230)" name="Pin">
      <a name="label" val="valE"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(140,320)" name="Pin">
      <a name="label" val="valM"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(140,380)" name="Pin">
      <a name="label" val="reqE"/>
    </comp>
    <comp lib="0" loc="(140,410)" name="Pin">
      <a name="label" val="destE"/>
    </comp>
    <comp lib="0" loc="(140,440)" name="Pin">
      <a name="label" val="reqM"/>
    </comp>
    <comp lib="0" loc="(140,470)" name="Pin">
      <a name="label" val="destM"/>
    </comp>
    <comp lib="0" loc="(210,160)" name="Constant">
      <a name="facing" val="south"/>
      <a name="value" val="0x0"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(240,180)" name="Probe">
      <a name="radix" val="10unsigned"/>
    </comp>
    <comp lib="0" loc="(260,200)" name="Splitter">
      <a name="bit0" val="1"/>
      <a name="bit1" val="0"/>
    </comp>
    <comp lib="0" loc="(490,230)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="D0"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(490,310)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="EN"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="1" loc="(320,190)" name="AND Gate">
      <a name="facing" val="west"/>
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(320,290)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(320,330)" name="AND Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(370,190)" name="NOT Gate">
      <a name="facing" val="north"/>
    </comp>
    <comp lib="1" loc="(440,310)" name="XOR Gate"/>
    <comp lib="2" loc="(280,230)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="select" val="2"/>
      <a name="selloc" val="tr"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="6" loc="(142,25)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">Design thinking:
1. Send the data for E or M (as specified by valE/M) to the specified register(s) by using a multiplexer. We select
the correct input by checking if the destination and reqE/M is active for each input. (The inverter ensures that the
second input is selected only if the second input and destination are active when we check with the AND gate)
2. If the destinations are the same for both E and M, then the writing is not enabled. (The 2 AND gates and the
following XOR gate that lead into EN ensure that if the value for E or M refers to the same register, then the 
data for both E and M are not sent through by making EN inactive, which selects and sends the 32-bit data that 
contains all 0s to the data output instead)</a>
    </comp>
    <wire from="(140,230)" to="(240,230)"/>
    <wire from="(140,320)" to="(150,320)"/>
    <wire from="(140,380)" to="(160,380)"/>
    <wire from="(140,410)" to="(170,410)"/>
    <wire from="(140,440)" to="(180,440)"/>
    <wire from="(140,470)" to="(190,470)"/>
    <wire from="(150,240)" to="(150,320)"/>
    <wire from="(150,240)" to="(240,240)"/>
    <wire from="(160,280)" to="(160,380)"/>
    <wire from="(160,280)" to="(290,280)"/>
    <wire from="(170,300)" to="(170,410)"/>
    <wire from="(170,300)" to="(290,300)"/>
    <wire from="(180,320)" to="(180,440)"/>
    <wire from="(180,320)" to="(290,320)"/>
    <wire from="(190,340)" to="(190,470)"/>
    <wire from="(190,340)" to="(290,340)"/>
    <wire from="(210,160)" to="(210,210)"/>
    <wire from="(210,210)" to="(210,220)"/>
    <wire from="(210,210)" to="(240,210)"/>
    <wire from="(210,220)" to="(240,220)"/>
    <wire from="(240,180)" to="(260,180)"/>
    <wire from="(260,180)" to="(260,200)"/>
    <wire from="(260,200)" to="(260,210)"/>
    <wire from="(280,180)" to="(310,180)"/>
    <wire from="(280,190)" to="(320,190)"/>
    <wire from="(280,230)" to="(490,230)"/>
    <wire from="(310,160)" to="(310,180)"/>
    <wire from="(310,160)" to="(460,160)"/>
    <wire from="(320,290)" to="(370,290)"/>
    <wire from="(320,330)" to="(360,330)"/>
    <wire from="(350,180)" to="(370,180)"/>
    <wire from="(350,200)" to="(360,200)"/>
    <wire from="(360,200)" to="(360,330)"/>
    <wire from="(360,330)" to="(380,330)"/>
    <wire from="(370,180)" to="(370,190)"/>
    <wire from="(370,220)" to="(370,290)"/>
    <wire from="(370,290)" to="(380,290)"/>
    <wire from="(440,310)" to="(460,310)"/>
    <wire from="(460,160)" to="(460,310)"/>
    <wire from="(460,310)" to="(490,310)"/>
  </circuit>
  <circuit name="SubOCheck">
    <comp lib="0" loc="(230,210)" name="Pin">
      <a name="label" val="aluB"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(230,410)" name="Pin">
      <a name="label" val="aluA"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(230,80)" name="Pin">
      <a name="label" val="valE"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(290,130)" name="Constant">
      <a name="facing" val="west"/>
      <a name="value" val="0x0"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(290,210)" name="Constant">
      <a name="facing" val="west"/>
      <a name="value" val="0x0"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(290,310)" name="Constant">
      <a name="facing" val="west"/>
      <a name="value" val="0x0"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(290,410)" name="Constant">
      <a name="facing" val="west"/>
      <a name="value" val="0x0"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(290,510)" name="Constant">
      <a name="facing" val="west"/>
      <a name="value" val="0x0"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(540,230)" name="Pin">
      <a name="facing" val="west"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="1" loc="(450,170)" name="AND Gate">
      <a name="inputs" val="3"/>
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(450,290)" name="AND Gate">
      <a name="inputs" val="3"/>
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(510,230)" name="OR Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="3" loc="(350,170)" name="Comparator">
      <a name="width" val="32"/>
    </comp>
    <comp lib="3" loc="(350,270)" name="Comparator">
      <a name="width" val="32"/>
    </comp>
    <comp lib="3" loc="(350,370)" name="Comparator">
      <a name="width" val="32"/>
    </comp>
    <comp lib="3" loc="(350,470)" name="Comparator">
      <a name="width" val="32"/>
    </comp>
    <comp lib="3" loc="(350,90)" name="Comparator">
      <a name="width" val="32"/>
    </comp>
    <comp lib="6" loc="(396,34)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">Design thinking:
Checks if subtraction of two inputs results in overflow.
Assume B-A format in this explanation.

1. Check if input B is positive and input A is negative but
produces a negative number or if input B is negative and
input A is positive and produces a positive number.
2. If either is true, then there is overflow.</a>
    </comp>
    <wire from="(230,210)" to="(260,210)"/>
    <wire from="(230,410)" to="(260,410)"/>
    <wire from="(230,80)" to="(310,80)"/>
    <wire from="(260,160)" to="(260,210)"/>
    <wire from="(260,160)" to="(310,160)"/>
    <wire from="(260,210)" to="(260,260)"/>
    <wire from="(260,260)" to="(310,260)"/>
    <wire from="(260,360)" to="(260,410)"/>
    <wire from="(260,360)" to="(310,360)"/>
    <wire from="(260,410)" to="(260,460)"/>
    <wire from="(260,460)" to="(310,460)"/>
    <wire from="(290,100)" to="(290,130)"/>
    <wire from="(290,100)" to="(310,100)"/>
    <wire from="(290,180)" to="(290,210)"/>
    <wire from="(290,180)" to="(310,180)"/>
    <wire from="(290,280)" to="(290,310)"/>
    <wire from="(290,280)" to="(310,280)"/>
    <wire from="(290,380)" to="(290,410)"/>
    <wire from="(290,380)" to="(310,380)"/>
    <wire from="(290,480)" to="(290,510)"/>
    <wire from="(290,480)" to="(310,480)"/>
    <wire from="(350,100)" to="(380,100)"/>
    <wire from="(350,160)" to="(420,160)"/>
    <wire from="(350,280)" to="(420,280)"/>
    <wire from="(350,380)" to="(390,380)"/>
    <wire from="(350,460)" to="(400,460)"/>
    <wire from="(350,80)" to="(370,80)"/>
    <wire from="(370,290)" to="(420,290)"/>
    <wire from="(370,80)" to="(370,290)"/>
    <wire from="(380,100)" to="(380,170)"/>
    <wire from="(380,170)" to="(420,170)"/>
    <wire from="(390,180)" to="(390,380)"/>
    <wire from="(390,180)" to="(420,180)"/>
    <wire from="(400,300)" to="(400,460)"/>
    <wire from="(400,300)" to="(420,300)"/>
    <wire from="(450,170)" to="(460,170)"/>
    <wire from="(450,290)" to="(460,290)"/>
    <wire from="(460,170)" to="(460,220)"/>
    <wire from="(460,220)" to="(480,220)"/>
    <wire from="(460,240)" to="(460,290)"/>
    <wire from="(460,240)" to="(480,240)"/>
    <wire from="(510,230)" to="(540,230)"/>
  </circuit>
  <circuit name="AddOCheck">
    <a name="appearance" val="custom"/>
    <appear>
      <circ-anchor facing="east" height="6" width="6" x="147" y="77"/>
      <circ-port height="10" pin="540,230" width="10" x="145" y="75"/>
      <circ-port height="8" pin="230,210" width="8" x="46" y="86"/>
      <circ-port height="8" pin="230,410" width="8" x="46" y="96"/>
      <circ-port height="8" pin="230,80" width="8" x="46" y="76"/>
      <rect fill="none" height="65" stroke="#000000" stroke-width="2" width="100" x="50" y="50"/>
      <text dominant-baseline="central" fill="#404040" font-family="SansSerif" font-size="10" text-anchor="start" x="55" y="100">aluA</text>
      <text dominant-baseline="central" fill="#404040" font-family="SansSerif" font-size="10" text-anchor="start" x="55" y="80">valE</text>
      <text dominant-baseline="central" fill="#404040" font-family="SansSerif" font-size="10" text-anchor="start" x="55" y="90">aluB</text>
      <text dominant-baseline="top" font-family="SansSerif" font-size="12" text-anchor="middle" x="100" y="55">AddOCheck</text>
    </appear>
    <comp lib="0" loc="(230,210)" name="Pin">
      <a name="label" val="aluB"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(230,410)" name="Pin">
      <a name="label" val="aluA"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(230,80)" name="Pin">
      <a name="label" val="valE"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(290,130)" name="Constant">
      <a name="facing" val="west"/>
      <a name="value" val="0x0"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(290,210)" name="Constant">
      <a name="facing" val="west"/>
      <a name="value" val="0x0"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(290,310)" name="Constant">
      <a name="facing" val="west"/>
      <a name="value" val="0x0"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(290,410)" name="Constant">
      <a name="facing" val="west"/>
      <a name="value" val="0x0"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(290,510)" name="Constant">
      <a name="facing" val="west"/>
      <a name="value" val="0x0"/>
      <a name="width" val="32"/>
    </comp>
    <comp lib="0" loc="(540,230)" name="Pin">
      <a name="facing" val="west"/>
      <a name="type" val="output"/>
    </comp>
    <comp lib="1" loc="(450,170)" name="AND Gate">
      <a name="inputs" val="3"/>
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(450,290)" name="AND Gate">
      <a name="inputs" val="3"/>
      <a name="size" val="30"/>
    </comp>
    <comp lib="1" loc="(510,230)" name="OR Gate">
      <a name="size" val="30"/>
    </comp>
    <comp lib="3" loc="(350,170)" name="Comparator">
      <a name="width" val="32"/>
    </comp>
    <comp lib="3" loc="(350,270)" name="Comparator">
      <a name="width" val="32"/>
    </comp>
    <comp lib="3" loc="(350,370)" name="Comparator">
      <a name="width" val="32"/>
    </comp>
    <comp lib="3" loc="(350,470)" name="Comparator">
      <a name="width" val="32"/>
    </comp>
    <comp lib="3" loc="(350,90)" name="Comparator">
      <a name="width" val="32"/>
    </comp>
    <comp lib="6" loc="(400,47)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">Design thinking:
Checks if addition of 2 inputs results in overflow.

1. Check if both inputs are positive but produce a negative
result or if both inputs are negative but produce a positive
result.
2. If either is true, then there is overflow.</a>
    </comp>
    <wire from="(230,210)" to="(260,210)"/>
    <wire from="(230,410)" to="(260,410)"/>
    <wire from="(230,80)" to="(310,80)"/>
    <wire from="(260,160)" to="(260,210)"/>
    <wire from="(260,160)" to="(310,160)"/>
    <wire from="(260,210)" to="(260,260)"/>
    <wire from="(260,260)" to="(310,260)"/>
    <wire from="(260,360)" to="(260,410)"/>
    <wire from="(260,360)" to="(310,360)"/>
    <wire from="(260,410)" to="(260,460)"/>
    <wire from="(260,460)" to="(310,460)"/>
    <wire from="(290,100)" to="(290,130)"/>
    <wire from="(290,100)" to="(310,100)"/>
    <wire from="(290,180)" to="(290,210)"/>
    <wire from="(290,180)" to="(310,180)"/>
    <wire from="(290,280)" to="(290,310)"/>
    <wire from="(290,280)" to="(310,280)"/>
    <wire from="(290,380)" to="(290,410)"/>
    <wire from="(290,380)" to="(310,380)"/>
    <wire from="(290,480)" to="(290,510)"/>
    <wire from="(290,480)" to="(310,480)"/>
    <wire from="(350,100)" to="(370,100)"/>
    <wire from="(350,160)" to="(420,160)"/>
    <wire from="(350,280)" to="(420,280)"/>
    <wire from="(350,360)" to="(390,360)"/>
    <wire from="(350,480)" to="(400,480)"/>
    <wire from="(350,80)" to="(380,80)"/>
    <wire from="(370,100)" to="(370,170)"/>
    <wire from="(370,170)" to="(420,170)"/>
    <wire from="(380,290)" to="(420,290)"/>
    <wire from="(380,80)" to="(380,290)"/>
    <wire from="(390,180)" to="(390,360)"/>
    <wire from="(390,180)" to="(420,180)"/>
    <wire from="(400,300)" to="(400,480)"/>
    <wire from="(400,300)" to="(420,300)"/>
    <wire from="(450,170)" to="(460,170)"/>
    <wire from="(450,290)" to="(460,290)"/>
    <wire from="(460,170)" to="(460,220)"/>
    <wire from="(460,220)" to="(480,220)"/>
    <wire from="(460,240)" to="(460,290)"/>
    <wire from="(460,240)" to="(480,240)"/>
    <wire from="(510,230)" to="(540,230)"/>
  </circuit>
  <circuit name="Microsequencer">
    <a name="appearance" val="custom"/>
    <appear>
      <circ-anchor facing="east" height="6" width="6" x="147" y="147"/>
      <circ-port height="10" pin="820,300" width="10" x="145" y="145"/>
      <circ-port height="8" pin="160,130" width="8" x="46" y="76"/>
      <circ-port height="8" pin="160,160" width="8" x="46" y="106"/>
      <circ-port height="8" pin="160,230" width="8" x="46" y="136"/>
      <circ-port height="8" pin="160,300" width="8" x="46" y="166"/>
      <circ-port height="8" pin="160,340" width="8" x="46" y="196"/>
      <circ-port height="8" pin="160,370" width="8" x="46" y="226"/>
      <circ-port height="8" pin="160,400" width="8" x="46" y="246"/>
      <circ-port height="8" pin="160,430" width="8" x="66" y="246"/>
      <rect fill="none" height="200" stroke="#000000" stroke-width="2" width="100" x="50" y="50"/>
      <text dominant-baseline="central" fill="#404040" font-family="SansSerif" font-size="10" text-anchor="start" x="55" y="110">select</text>
      <text dominant-baseline="central" fill="#404040" font-family="SansSerif" font-size="10" text-anchor="start" x="55" y="140">icode</text>
      <text dominant-baseline="central" fill="#404040" font-family="SansSerif" font-size="10" text-anchor="start" x="55" y="170">valN</text>
      <text dominant-baseline="central" fill="#404040" font-family="SansSerif" font-size="10" text-anchor="start" x="55" y="200">DMemReady</text>
      <text dominant-baseline="central" fill="#404040" font-family="SansSerif" font-size="10" text-anchor="start" x="55" y="230">IMemReady</text>
      <text dominant-baseline="central" fill="#404040" font-family="SansSerif" font-size="10" text-anchor="start" x="55" y="80">CurrentState</text>
      <text dominant-baseline="central" fill="#404040" font-family="SansSerif" font-size="10" text-anchor="start" x="97" y="150">NextState</text>
      <text dominant-baseline="top" font-family="SansSerif" font-size="12" text-anchor="middle" x="100" y="55">useq</text>
    </appear>
    <comp lib="0" loc="(160,130)" name="Pin">
      <a name="label" val="CurrentState"/>
      <a name="width" val="6"/>
    </comp>
    <comp lib="0" loc="(160,160)" name="Pin">
      <a name="label" val="select"/>
      <a name="width" val="2"/>
    </comp>
    <comp lib="0" loc="(160,230)" name="Pin">
      <a name="label" val="icode"/>
      <a name="width" val="4"/>
    </comp>
    <comp lib="0" loc="(160,300)" name="Pin">
      <a name="label" val="valN"/>
      <a name="width" val="6"/>
    </comp>
    <comp lib="0" loc="(160,340)" name="Pin">
      <a name="label" val="DMemReady"/>
    </comp>
    <comp lib="0" loc="(160,370)" name="Pin">
      <a name="label" val="IMemReady"/>
    </comp>
    <comp lib="0" loc="(160,400)" name="Pin">
      <a name="label" val="exception"/>
    </comp>
    <comp lib="0" loc="(160,430)" name="Pin">
      <a name="label" val="privCODEfail"/>
    </comp>
    <comp lib="0" loc="(230,230)" name="Bit Extender">
      <a name="in_width" val="4"/>
      <a name="out_width" val="6"/>
      <a name="type" val="one"/>
    </comp>
    <comp lib="0" loc="(280,250)" name="Probe">
      <a name="facing" val="north"/>
    </comp>
    <comp lib="0" loc="(310,40)" name="Probe">
      <a name="facing" val="south"/>
      <a name="label" val="select: 00"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(330,60)" name="Probe">
      <a name="facing" val="south"/>
      <a name="label" val="select: 01"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(350,80)" name="Probe">
      <a name="facing" val="south"/>
      <a name="label" val="select: 10"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(370,100)" name="Probe">
      <a name="facing" val="south"/>
      <a name="label" val="select: 11"/>
      <a name="labelloc" val="east"/>
      <a name="radix" val="16"/>
    </comp>
    <comp lib="0" loc="(650,350)" name="Constant">
      <a name="value" val="0x3e"/>
      <a name="width" val="6"/>
    </comp>
    <comp lib="0" loc="(750,360)" name="Constant">
      <a name="value" val="0x30"/>
      <a name="width" val="6"/>
    </comp>
    <comp lib="0" loc="(820,300)" name="Pin">
      <a name="facing" val="west"/>
      <a name="label" val="NextState"/>
      <a name="labelloc" val="east"/>
      <a name="type" val="output"/>
      <a name="width" val="6"/>
    </comp>
    <comp lib="2" loc="(260,130)" name="Demultiplexer">
      <a name="enable" val="false"/>
      <a name="select" val="2"/>
      <a name="width" val="6"/>
    </comp>
    <comp lib="2" loc="(460,160)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="6"/>
    </comp>
    <comp lib="2" loc="(550,140)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="6"/>
    </comp>
    <comp lib="2" loc="(650,300)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="select" val="2"/>
      <a name="selloc" val="tr"/>
      <a name="width" val="6"/>
    </comp>
    <comp lib="2" loc="(700,310)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="6"/>
    </comp>
    <comp lib="2" loc="(800,320)" name="Multiplexer">
      <a name="enable" val="false"/>
      <a name="width" val="6"/>
    </comp>
    <comp lib="6" loc="(79,488)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">Testing (done in HW5) (CurrentState | select | icode | valN | DMemReady | IMemReady | NextState):
101010 | 00 | 0000 | 000000 | 0 | 0 | 101010,
101010 | 00 | 1111 | 111111 | 1 | 1 | 101010,
000000 | 01 | 0000 | 010101 | 0 | 0 | 010101,
111111 | 01 | 1111 | 010101 | 1 | 1 | 010101,
101010 | 10 | 0000 | 010101 | 0 | 0 | 101010,
101010 | 10 | 0000 | 010101 | 1 | 0 | 010101,
101010 | 10 | 1111 | 010101 | 0 | 1 | 101010,
101010 | 11 | 0101 | 000000 | 0 | 0 | 101010,
101010 | 11 | 0101 | 000000 | 0 | 1 | 110101,
101010 | 11 | 0101 | 111111 | 0 | 1 | 110101</a>
      <a name="valign" val="center"/>
    </comp>
    <comp lib="6" loc="(821,11)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">Design thinking:
Use a demultiplexer to handle the four cases for select (00,
01, 10, 11).

1. Take the select bits and send them into the demultiplexer 
to select the correct next state.
2a. If select is 00, then take the current state and directly send
it to the multiplexer to be outputted to next state.
2b. If select is 01, then send valN directly to the multiplexer to be outputted
to the next state.
2c. If select is 10, then send current state (if DMemReady is 0) or valN
(if DMemReady is 1) directly to the multiplexer to be outputted to the next
state.
2d. If select is 11, then send the current state (if IMemReady is 0) or
the icode with 2 bits containing 1 in front (if IMemReady is 1) directly
to the multiplexer to be outputted to the next state.
3. The multiplexer at the end outputs whichever next state is selected by
the 2-bit select.</a>
      <a name="valign" val="center"/>
    </comp>
    <comp lib="6" loc="(854,367)" name="Text">
      <a name="halign" val="left"/>
      <a name="text">If exception is thrown because of an invalid instruction that trying to be
run in user mode, then a multiplexer is used to
send the exception handling state as the next state.

If the instruction is invalid and was trying to be run in privileged mode, 
then a multiplexer is used to send the halt state as the next state.</a>
      <a name="valign" val="center"/>
    </comp>
    <wire from="(160,130)" to="(260,130)"/>
    <wire from="(160,160)" to="(280,160)"/>
    <wire from="(160,230)" to="(190,230)"/>
    <wire from="(160,300)" to="(500,300)"/>
    <wire from="(160,340)" to="(530,340)"/>
    <wire from="(160,370)" to="(440,370)"/>
    <wire from="(160,400)" to="(680,400)"/>
    <wire from="(160,430)" to="(780,430)"/>
    <wire from="(230,230)" to="(280,230)"/>
    <wire from="(280,150)" to="(280,160)"/>
    <wire from="(280,160)" to="(280,190)"/>
    <wire from="(280,190)" to="(630,190)"/>
    <wire from="(280,230)" to="(280,250)"/>
    <wire from="(280,230)" to="(410,230)"/>
    <wire from="(300,110)" to="(310,110)"/>
    <wire from="(300,120)" to="(330,120)"/>
    <wire from="(300,130)" to="(350,130)"/>
    <wire from="(300,140)" to="(370,140)"/>
    <wire from="(310,110)" to="(590,110)"/>
    <wire from="(310,40)" to="(310,110)"/>
    <wire from="(330,60)" to="(330,120)"/>
    <wire from="(350,130)" to="(520,130)"/>
    <wire from="(350,80)" to="(350,130)"/>
    <wire from="(370,100)" to="(370,140)"/>
    <wire from="(370,140)" to="(410,140)"/>
    <wire from="(410,140)" to="(410,150)"/>
    <wire from="(410,150)" to="(430,150)"/>
    <wire from="(410,170)" to="(410,230)"/>
    <wire from="(410,170)" to="(430,170)"/>
    <wire from="(440,180)" to="(440,370)"/>
    <wire from="(460,160)" to="(480,160)"/>
    <wire from="(480,160)" to="(480,310)"/>
    <wire from="(480,310)" to="(610,310)"/>
    <wire from="(500,150)" to="(500,300)"/>
    <wire from="(500,150)" to="(520,150)"/>
    <wire from="(500,300)" to="(560,300)"/>
    <wire from="(530,160)" to="(530,340)"/>
    <wire from="(550,140)" to="(570,140)"/>
    <wire from="(560,290)" to="(560,300)"/>
    <wire from="(560,290)" to="(610,290)"/>
    <wire from="(570,140)" to="(570,300)"/>
    <wire from="(570,300)" to="(610,300)"/>
    <wire from="(590,110)" to="(590,280)"/>
    <wire from="(590,280)" to="(610,280)"/>
    <wire from="(630,190)" to="(630,280)"/>
    <wire from="(650,300)" to="(670,300)"/>
    <wire from="(650,350)" to="(660,350)"/>
    <wire from="(660,320)" to="(660,350)"/>
    <wire from="(660,320)" to="(670,320)"/>
    <wire from="(680,330)" to="(680,400)"/>
    <wire from="(700,310)" to="(770,310)"/>
    <wire from="(750,360)" to="(760,360)"/>
    <wire from="(760,330)" to="(760,360)"/>
    <wire from="(760,330)" to="(770,330)"/>
    <wire from="(780,340)" to="(780,430)"/>
    <wire from="(800,320)" to="(810,320)"/>
    <wire from="(810,300)" to="(810,320)"/>
    <wire from="(810,300)" to="(820,300)"/>
  </circuit>
</project>
